

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>5.3 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="hu"
      >Magyar</option>
  
    <option value="pl"
      >Polski</option>
  
    <option value="de"
      >Deutsch</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="it"
      >Italiano</option>
  
    <option value="fr"
      >Français</option>
  
    <option value="pt"
      >Português</option>
  
    <option value="ja"
      >日本語</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">5.3 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 1: The Linux Community and a Career in Open Source
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../1/1.1/index.html" class="hierarchy__link">1.1 Linux Evolution and Popular Operating Systems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../1/1.1/1.1_01/index.html" class="hierarchy__link">1.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../1/1.2/index.html" class="hierarchy__link">1.2 Major Open Source Applications</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../1/1.2/1.2_01/index.html" class="hierarchy__link">1.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../1/1.3/index.html" class="hierarchy__link">1.3 Open Source Software and Licensing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../1/1.3/1.3_01/index.html" class="hierarchy__link">1.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../1/1.4/index.html" class="hierarchy__link">1.4 ICT Skills and Working in Linux</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../1/1.4/1.4_01/index.html" class="hierarchy__link">1.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 2: Finding Your Way on a Linux System
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../2/2.1/index.html" class="hierarchy__link">2.1 Command Line Basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../2/2.1/2.1_01/index.html" class="hierarchy__link">2.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../2/2.1/2.1_02/index.html" class="hierarchy__link">2.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../2/2.2/index.html" class="hierarchy__link">2.2 Using the Command Line to Get Help</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../2/2.2/2.2_01/index.html" class="hierarchy__link">2.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../2/2.3/index.html" class="hierarchy__link">2.3 Using Directories and Listing Files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../2/2.3/2.3_01/index.html" class="hierarchy__link">2.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../2/2.3/2.3_02/index.html" class="hierarchy__link">2.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../2/2.4/index.html" class="hierarchy__link">2.4 Creating, Moving and Deleting Files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../2/2.4/2.4_01/index.html" class="hierarchy__link">2.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 3: The Power of the Command Line
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../3/3.1/index.html" class="hierarchy__link">3.1 Archiving Files on the Command Line</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../3/3.1/3.1_01/index.html" class="hierarchy__link">3.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../3/3.2/index.html" class="hierarchy__link">3.2 Searching and Extracting Data from Files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../3/3.2/3.2_01/index.html" class="hierarchy__link">3.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../3/3.2/3.2_02/index.html" class="hierarchy__link">3.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../3/3.3/index.html" class="hierarchy__link">3.3 Turning Commands into a Script</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../3/3.3/3.3_01/index.html" class="hierarchy__link">3.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../3/3.3/3.3_02/index.html" class="hierarchy__link">3.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 4: The Linux Operating System
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../4/4.1/index.html" class="hierarchy__link">4.1 Choosing an Operating System</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../4/4.1/4.1_01/index.html" class="hierarchy__link">4.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../4/4.2/index.html" class="hierarchy__link">4.2 Understanding Computer Hardware</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../4/4.2/4.2_01/index.html" class="hierarchy__link">4.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../4/4.3/index.html" class="hierarchy__link">4.3 Where Data is Stored</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../4/4.3/4.3_01/index.html" class="hierarchy__link">4.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../4/4.3/4.3_02/index.html" class="hierarchy__link">4.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../4/4.4/index.html" class="hierarchy__link">4.4 Your Computer on the Network</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../4/4.4/4.4_01/index.html" class="hierarchy__link">4.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 5: Security and File Permissions
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../5.1/index.html" class="hierarchy__link">5.1 Basic Security and Identifying User Types</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../5.1/5.1_01/index.html" class="hierarchy__link">5.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../5.2/index.html" class="hierarchy__link">5.2 Creating Users and Groups</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../5.2/5.2_01/index.html" class="hierarchy__link">5.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">5.3 Managing File Permissions and Ownership</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">5.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../5.4/index.html" class="hierarchy__link">5.4 Special Directories and Files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../5.4/5.4_01/index.html" class="hierarchy__link">5.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 5: Security and File Permissions</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">5.3 Managing File Permissions and Ownership</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">5.3 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>5.3 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux Essentials</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 Security and File Permissions</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3 Managing File Permissions and Ownership</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Being a multi-user system, Linux needs some way to track who owns each file and whether or not a user is allowed to perform actions on that file. This is to ensure the privacy of users who might want to keep the content of their files confidential, as well as to ensure collaboration by making certain files accessible to multiple users.</p>
</div>
<div class="paragraph">
<p>This is done through a three-level permissions system: every file on disk is owned by a user and a user group and has three sets of permissions: one for its owner, one the group who owns the file and one for everyone else. In this lesson, you will learn how to query the permissions for a file and how to manipulate them.</p>
</div>
<div class="sect2">
<h3 id="sec.5.3_01-QI">Querying Information about Files and Directories</h3>
<div class="paragraph">
<p>The command <code>ls</code> is used to get a listing of the contents of any directory. In this basic form, all you get are the filenames:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls</strong>
Another_Directory  picture.jpg  text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>But there is much more information available for each file, including type, size, ownership and more. To see this information you must ask <code>ls</code> for a &#8220;long form&#8221; listing, using the <code>-l</code> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l</strong>
total 536
drwxrwxr-x 2 carol carol   4096 Dec 10 15:57 Another_Directory
-rw------- 1 carol carol 539663 Dec 10 10:43 picture.jpg
-rw-rw-r-- 1 carol carol   1881 Dec 10 15:57 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Each column on the output above has a meaning:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>first</em> column on the listing shows the file type and permissions.</p>
<div class="paragraph">
<p>For example, on <code>drwxrwxr-x</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first character, <code>d</code>, indicates the file type.</p>
</li>
<li>
<p>The next three characters, <code>rwx</code>, indicate the permissions for the owner of the file, also referred to as <em>user</em> or <code>u</code>.</p>
</li>
<li>
<p>The next three characters, <code>rwx</code>, indicate the permissions of the <em>group</em> owning the file, also referred to as <code>g</code>.</p>
</li>
<li>
<p>The last three characters, <code>r-x</code>, indicate the permissions for anyone else, also known as <em>others</em> or <code>o</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <em>second</em> column indicates the number of hard links pointing to that file. For a directory, this means the number of subdirectories, plus a link to itself (<code>.</code>) and the parent directory (<code>..</code>).</p>
</li>
<li>
<p>The <em>third</em> and <em>fourth</em> columns show ownership information: respectively the user and group that own the file.</p>
</li>
<li>
<p>The <em>fifth</em> column shows the filesize, in bytes.</p>
</li>
<li>
<p>The <em>sixth</em> column shows the precise date and time, or <em>timestamp</em>, when the file was last modified.</p>
</li>
<li>
<p>The <em>seventh</em> and last column shows the file name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you wish to see the filesizes in &#8220;human readable&#8221; format, add the <code>-h</code> parameter to <code>ls</code>. Files less than one kilobyte in size will have the size shown in bytes. Files with more than one kilobyte and less than one megabyte will have a <code>K</code> added after the size, indicating the size is in kilobytes. The same follows for filesizes in the megabyte (<code>M</code>) and gigabyte (<code>G</code>) ranges:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -lh</strong>
total 1,2G
drwxrwxr-x 2 carol carol 4,0K Dec 10 17:59 Another_Directory
----r--r-- 1 carol carol    0 Dec 11 10:55 foo.bar
-rw-rw-r-- 1 carol carol 1,2G Dec 20 18:22 HugeFile.zip
-rw------- 1 carol carol 528K Dec 10 10:43 picture.jpg
---xr-xr-x 1 carol carol   33 Dec 11 10:36 test.sh
-rwxr--r-- 1 carol carol 1,9K Dec 20 18:13 text.txt
-rw-rw-r-- 1 carol carol 2,6M Dec 11 22:14 Zipped.zip</pre>
</div>
</div>
<div class="paragraph">
<p>To only show information on a specific set of files, add the names of these files to <code>ls</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -lh HugeFile.zip test.sh</strong>
total 1,2G
-rw-rw-r-- 1 carol carol 1,2G Dec 20 18:22 HugeFile.zip
---xr-xr-x 1 carol carol   33 Dec 11 10:36 test.sh</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_what_about_directories">What about Directories?</h3>
<div class="paragraph">
<p>If you try to query information about a directory using <code>ls -l</code>, it will show you a listing of the directory contents instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l Another_Directory/</strong>
total 0
-rw-r--r-- 1 carol carol 0 Dec 10 17:59 another_file.txt</pre>
</div>
</div>
<div class="paragraph">
<p>To avoid this and query information about the directory itself, add the <code>-d</code> parameter to <code>ls</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l -d Another_Directory/</strong>
drwxrwxr-x 2 carol carol 4096 Dec 10 17:59 Another_Directory/</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_seeing_hidden_files">Seeing Hidden Files</h3>
<div class="paragraph">
<p>The directory listing we have retrieved using <code>ls -l</code> before is incomplete:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l</strong>
total 544
drwxrwxr-x 2 carol carol   4096 Dec 10 17:59 Another_Directory
-rw------- 1 carol carol 539663 Dec 10 10:43 picture.jpg
-rw-rw-r-- 1 carol carol   1881 Dec 10 15:57 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>There are three other files in that directory, but they are hidden. On Linux, files whose name starts with a period (<code>.</code>) are automatically hidden. To see them we need to add the <code>-a</code> parameter to <code>ls</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l -a</strong>
total 544
drwxrwxr-x 3 carol carol   4096 Dec 10 16:01 .
drwxrwxr-x 4 carol carol   4096 Dec 10 15:56 ..
drwxrwxr-x 2 carol carol   4096 Dec 10 17:59 Another_Directory
-rw------- 1 carol carol 539663 Dec 10 10:43 picture.jpg
-rw-rw-r-- 1 carol carol   1881 Dec 10 15:57 text.txt
-rw-r--r-- 1 carol carol      0 Dec 10 16:01 .thisIsHidden</pre>
</div>
</div>
<div class="paragraph">
<p>The file <code>.thisIsHidden</code> is simply hidden because its name starts with <code>.</code>.</p>
</div>
<div class="paragraph">
<p>The directories <code>.</code> and <code>..</code> however are special. <code>.</code> is a pointer to the current directory, while <code>..</code> is a pointer to the parent directory (the directory which contains the current directory). In Linux, every directory contains at least these two special directories.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can combine multiple parameters for <code>ls</code> (and many other Linux commands). <code>ls -l -a</code> can, for example, be written as <code>ls -la</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_understanding_filetypes">Understanding Filetypes</h3>
<div class="paragraph">
<p>We have already mentioned that the first letter in each output of <code>ls -l</code> describes the type of the file. The three most common file types are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-</code> (normal file)</dt>
<dd>
<p>A file can contain data of any kind. Files can be modified, moved, copied and deleted.</p>
</dd>
<dt class="hdlist1"><code>d</code> (directory)</dt>
<dd>
<p>A directory contains other files or directories and helps to organize the file system. Technically, directories are a special kind of file.</p>
</dd>
<dt class="hdlist1"><code>l</code> (soft link)</dt>
<dd>
<p>This &#8220;file&#8221; is a pointer to another file or directory elsewhere in the filesystem.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In addition to those, there are three other file types that you should at least know about, but are out of scope for this lesson:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>b</code> (block device)</dt>
<dd>
<p>This file stands for a virtual or physical device, usually disks or other kinds of storage devices. For example, the first hard disk in the system might be represented by <code>/dev/sda</code>.</p>
</dd>
<dt class="hdlist1"><code>c</code> (character device)</dt>
<dd>
<p>This file stands for a virtual or physical device. Terminals (like the main terminal on <code>/dev/ttyS0</code>) and serial ports are common examples of character devices.</p>
</dd>
<dt class="hdlist1"><code>s</code> (socket)</dt>
<dd>
<p>Sockets serve as &#8220;conduits&#8221; passing information between two programs.</p>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Do not alter any of the permissions on block devices, character devices or sockets, unless you know what you’re doing. This may prevent your system from working!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_understanding_permissions">Understanding Permissions</h3>
<div class="paragraph">
<p>In the output of <code>ls -l</code> the file permissions are shown right after the filetype, as three groups of three characters each, in the order <code>r</code>, <code>w</code> and <code>x</code>. Here is what they mean. Keep in mind that a dash <code>-</code> represents the lack of a particular permission.</p>
</div>
<div class="sect3">
<h4 id="_permissions_on_files">Permissions on Files</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>r</code></dt>
<dd>
<p>Stands for <em>read</em> and has an octal value of <code>4</code> (don&#8217;t worry, we will discuss octals shortly). This means permission to open a file and read its contents.</p>
</dd>
<dt class="hdlist1"><code>w</code></dt>
<dd>
<p>Stands for <em>write</em> and has an octal value of <code>2</code>. This means permission to edit or delete a file.</p>
</dd>
<dt class="hdlist1"><code>x</code></dt>
<dd>
<p>Stands for <em>execute</em> and has an octal value of <code>1</code>. This means that the file can be run as an executable or script.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>So, for example, a file with permissions <code>rw-</code> can be read and written to, but cannot be executed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_permissions_on_directories">Permissions on Directories</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>r</code></dt>
<dd>
<p>Stands for <em>read</em> and has an octal value of <code>4</code>. This means permission to read the directory&#8217;s contents, like filenames. But it <em>does not</em> imply permission to read the files themselves.</p>
</dd>
<dt class="hdlist1"><code>w</code></dt>
<dd>
<p>Stands for <em>write</em> and has an octal value of <code>2</code>. This means permission to create or delete files in a directory, or change their names, permissions and owners. If a user has the write permission on a directory, the user can change permissions of any file in the directory, even if the user has no permissions on the file or if the file is owned by another user.</p>
</dd>
<dt class="hdlist1"><code>x</code></dt>
<dd>
<p>Stands for <em>execute</em> and has an octal value of <code>1</code>. This means permission to enter a directory, but not to list its files (for that, the <code>r</code> permission is needed).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The last bit about directories may sound a bit confusing. Let&#8217;s imagine, for example, that you have a directory named <code>Another_Directory</code>, with the following permissions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -ld Another_Directory/</strong>
d--xr-xr-x 2 carol carol 4,0K Dec 20 18:46 Another_Directory</pre>
</div>
</div>
<div class="paragraph">
<p>Also imagine that inside this directory you have a shell script called <code>hello.sh</code> with the following permissions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-rwxr-xr-x 1 carol carol 33 Dec 20 18:46 hello.sh</pre>
</div>
</div>
<div class="paragraph">
<p>If you are the user <code>carol</code> and try to list the contents of <code>Another_Directory</code>, you will get an error message, as your user lacks read permission for that directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l Another_Directory/</strong>
ls: cannot open directory 'Another_Directory/': Permission denied</pre>
</div>
</div>
<div class="paragraph">
<p>However, the user <code>carol</code> <em>does have</em> execute permissions, which means that she can enter the directory. Therefore, the user <code>carol</code> can access files inside the directory, as long as she has the correct permissions <em>for the respective file</em>. In this example, the user has full permissions for the script <code>hello.sh</code>, so she <em>can</em> run the script, even if she <em>can&#8217;t</em> read the contents of the directory containing it. All that is needed is the complete filename.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sh Another_Directory/hello.sh</strong>
Hello LPI World!</pre>
</div>
</div>
<div class="paragraph">
<p>As we said before, permissions are specified in sequence: first for the owner of the file, then for the owning group, and then for other users. Whenever someone tries to perform an action on the file, the permissions are checked in the same fashion. First the system checks if the current user owns the file, and if this is true it applies the first set of permissions only. Otherwise, it checks if the current user belongs to the group owning the file. In that case, it applies the second set of permissions only. In any other case, the system will apply the third set of permissions. This means that if the current user is the owner of the file, only the owner permissions are effective, even if the group or other permissions are more permissive than the owner’s permissions.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec.5.3_01-MP">Modifying File Permissions</h3>
<div class="paragraph">
<p>The command <code>chmod</code> is used to modify the permissions for a file, and takes at least two parameters: the first one describes which permissions to change, and the second one points to the file or directory where the change will be made. However, the permissions to change can be described in two different ways, or &#8220;modes&#8221;.</p>
</div>
<div class="paragraph">
<p>The first one, called <em>symbolic mode</em> offers fine grained control, allowing you to add or revoke a single permission without modifying others on the set. The other mode, called <em>numeric mode</em>, is easier to remember and quicker to use if you wish to set all permission values at once.</p>
</div>
<div class="paragraph">
<p>Both modes will lead to the same end result. So, for example, the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod ug+rw-x,o-rwx text.txt</strong></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 660 text.txt</strong></pre>
</div>
</div>
<div class="paragraph">
<p>will produce exactly the same output, a file with the permissions set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-rw-rw---- 1 carol carol  765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s understand how each mode works.</p>
</div>
</div>
<div class="sect2">
<h3 id="_symbolic_mode">Symbolic Mode</h3>
<div class="paragraph">
<p>When describing which permissions to change in <em>symbolic mode</em> the first character(s) indicate(s) whose permissions you will alter: the ones for the user (<code>u</code>), for the group (<code>g</code>), for others (<code>o</code>) and/or for all the three together (<code>a</code>).</p>
</div>
<div class="paragraph">
<p>Then you need to tell the command what to do: you can grant a permission (<code>+</code>), revoke a permission (<code>-</code>), or set it to a specific value (<code>=</code>).</p>
</div>
<div class="paragraph">
<p>Lastly, you specify which permission you wish to affect: read (<code>r</code>), write (<code>w</code>), or execute (<code>x</code>).</p>
</div>
<div class="paragraph">
<p>For example, imagine we have a file called <code>text.txt</code> with the following permission set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l text.txt</strong>
-rw-r--r-- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>If you wish to grant write permissions to members of the group owning the file, you would use the <code>g+w</code> parameter. It is easier if you think about it this way: &#8220;For the group (<code>g</code>), grant (<code>+</code>) write permissions (<code>w</code>)&#8221;. So, the command would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod g+w text.txt</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s check the result with <code>ls</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l text.txt</strong>
-rw-rw-r-- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to remove read permissions for the owner of the same file, think about it as: &#8220;For the user (<code>u</code>) revoke (<code>-</code>), read permissions (<code>r</code>)&#8221;. So the parameter is <code>u-r</code>, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod u-r text.txt</strong>
$ <strong>ls -l text.txt</strong>
--w-rw-r-- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>What if we want to set the permissions exactly as <code>rw-</code> for everyone? Then think of it as: &#8220;For all (<code>a</code>), set exactly (<code>=</code>), read (<code>r</code>), write (<code>w</code>), and no execute (<code>-</code>)&#8221;. So:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod a=rw- text.txt</strong>
$ <strong>ls -l text.txt</strong>
-rw-rw-rw- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Of course, it is possible to modify multiple permissions at the same time. In this case, separate them with a comma (<code>,</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod u+rwx,g-x text.txt</strong>
$ <strong>ls -lh text.txt</strong>
-rwxrw-rw- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The example above can be read as: &#8220;For the user (<code>u</code>), grant (<code>+</code>) read, write and execute (<code>rwx</code>) permissions, for the group (<code>g</code>) revoke (<code>-</code>), execute permissions (<code>x</code>)&#8221;.</p>
</div>
<div class="paragraph">
<p>When run on a directory, <code>chmod</code> modifies only the directory&#8217;s permissions. <code>chmod</code> has a recursive mode, useful when you want to change the permissions for &#8220;all files inside a directory and its subdirectories&#8221;. To use this, add the parameter <code>-R</code> after the command name and before the permissions to change, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod -R u+rwx Another_Directory/</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This command can be read as: &#8220;Recursively (<code>-R</code>), for the user (<code>u</code>), grant (<code>+</code>) read, write and execute (<code>rwx</code>) permissions&#8221;.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Be careful and think twice before using the <code>-R</code> switch, as it is easy to change permissions on files and directories which you do not want to change, especially on directories with a large number of files and sub-directories.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_numeric_mode">Numeric Mode</h3>
<div class="paragraph">
<p>In <em>numeric mode</em>, the permissions are specified in a different way: as a three-digit numeric value on octal notation, a base-8 numeric system.</p>
</div>
<div class="paragraph">
<p>Each permission has a corresponding value, and they are specified in the following order: first comes read (<code>r</code>), which is <code>4</code>, then write (<code>w</code>), which is <code>2</code> and last is execute (<code>x</code>), represented by <code>1</code>. If there is no permission, use the value zero (<code>0</code>). So, a permission of <code>rwx</code> would be <code>7</code> (<code>4+2+1</code>) and <code>r-x</code> would be <code>5</code> (<code>4+0+1</code>).</p>
</div>
<div class="paragraph">
<p>The first of the three digits on the permission set represents the permissions for the user (<code>u</code>), the second for the group (<code>g</code>) and the third for the other (<code>o</code>). If we wanted to set the permissions for a file to <code>rw-rw----</code>, the octal value would be <code>660</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 660 text.txt</strong>
$ <strong>ls -l text.txt</strong>
-rw-rw---- 1 carol carol 765 Dec 20 21:25 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Besides this, the syntax in <em>numeric mode</em> is the same as in <em>symbolic mode</em>, the first parameter represents the permissions you wish to change, and the second one points to the file or directory where the change will be made.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>If a permission value is <em>odd</em>, the file surely is executable!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Which syntax to use? The <em>numeric mode</em> is recommended if you want to change the permissions to a specific value, for example <code>640</code> (<code>rw- r-- ---</code>).</p>
</div>
<div class="paragraph">
<p>The <em>symbolic mode</em> is more useful if you want to flip just a specific value, regardless of the current permissions for the file. For example, I can add execute permissions for the user using just <code>chmod u+x script.sh</code> without regard to, or even touching, the current permissions for the group and others.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec.5.3_01-MO">Modifying File Ownership</h3>
<div class="paragraph">
<p>The command <code>chown</code> is used to modify the ownership of a file or directory. The syntax is quite simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>chown username:groupname filename</pre>
</div>
</div>
<div class="paragraph">
<p>For example, let&#8217;s check a file called <code>text.txt</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l text.txt</strong>
-rw-rw---- 1 carol carol 1881 Dec 10 15:57 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The user who owns the file is <code>carol</code>, and the group is also <code>carol</code>. Now, let&#8217;s modify the group owning the file to some other group, like <code>students</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chown carol:students text.txt</strong>
$ <strong>ls -l text.txt</strong>
-rw-rw---- 1 carol students 1881 Dec 10 15:57 text.txt</pre>
</div>
</div>
<div class="paragraph">
<p>Keep in mind that the user who owns a file does not need to belong to the group who owns a file. In the example above, the user <code>carol</code> does not need to be a member of the <code>students</code> group. However, she does have to member of the group in order to transfer the file&#8217;s group ownership to that group.</p>
</div>
<div class="paragraph">
<p>User or group can be omitted if you do not wish to change them. So, to change just the group owning a file you would use <code>chown :students text.txt</code>. To change just the user, the command would be <code>chown carol text.txt</code>. Alternatively, you could use the command <code>chgrp students text.txt</code> to change only the group.</p>
</div>
<div class="paragraph">
<p>Unless you are the system administrator (root), you cannot change ownership of a file owned by another user or a group that you don&#8217;t belong to. If you try to do this, you will get the error message <code>Operation not permitted</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_querying_groups">Querying Groups</h3>
<div class="paragraph">
<p>Before changing the ownership of a file, it might be useful to know which groups exist on the system, which users are members of a group and to which groups a user belongs. Those tasks can be accomplished with two commands, <code>groups</code> and <code>groupmems</code>.</p>
</div>
<div class="paragraph">
<p>To see which groups exist on your system, simply type <code>groups</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>groups</strong>
carol students cdrom sudo dip plugdev lpadmin sambashare</pre>
</div>
</div>
<div class="paragraph">
<p>And if you want to know to which groups a user belongs, add the username as a parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>groups carol</strong>
carol : carol students cdrom sudo dip plugdev lpadmin sambashare</pre>
</div>
</div>
<div class="paragraph">
<p>To do the reverse, displaying which users belong to a group, use <code>groupmems</code>. The parameter <code>-g</code> specifies the group, and <code>-l</code> will list all of its members:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo groupmems -g cdrom -l</strong>
carol</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>groupmems</code> can only be run as root, the system administrator. If you are not currently logged in as root, add <code>sudo</code> before the command.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_special_permissions">Special Permissions</h3>
<div class="paragraph">
<p>Besides the read, write and execute permissions for user, group and others, each file can have three other <em>special permissions</em> which can alter the way a directory works or how a program runs. They can be specified either in symbolic or numeric mode, and are as follows:</p>
</div>
<div class="sect3">
<h4 id="_sticky_bit">Sticky Bit</h4>
<div class="paragraph">
<p>The sticky bit, also called the <em>restricted deletion flag</em>, has the octal value <code>1</code> and in symbolic mode is represented by a <code>t</code> within the other&#8217;s permissions. This applies only to directories, and on Linux it prevents users from removing or renaming a file in a directory unless they own that file or directory.</p>
</div>
<div class="paragraph">
<p>Directories with the sticky bit set show a <code>t</code> replacing the <code>x</code> on the permissions for <em>others</em> on the output of <code>ls -l</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -ld Sample_Directory/</strong>
drwxr-xr-t 2 carol carol 4096 Dec 20 18:46 Sample_Directory/</pre>
</div>
</div>
<div class="paragraph">
<p>In numeric mode, the special permissions are specified using a &#8220;4-digit notation&#8221;, with the first digit representing the special permission to act upon. For example, to set the sticky bit (value <code>1</code>) for the directory <code>Another_Directory</code> in numeric mode, with permissions <code>755</code>, the command would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 1755 Another_Directory</strong>
$ <strong>ls -ld Another_Directory</strong>
drwxr-xr-t 2 carol carol 4,0K Dec 20 18:46 Another_Directory</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_set_gid">Set GID</h4>
<div class="paragraph">
<p>Set GID, also known as SGID or Set Group ID bit, has the octal value <code>2</code> and in symbolic mode is represented by an <code>s</code> on the <em>group</em> permissions. This can be applied to executable files or directories. On executable files, it will grant the process resulting from executing the file access to the privileges of the group who owns the file. When applied to directories, it will make every file or directory created under it inherit the group from the parent directory.</p>
</div>
<div class="paragraph">
<p>Files and directories with SGID bit show an <code>s</code> replacing the <code>x</code> on the permissions for the <em>group</em> on the output of <code>ls -l</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l test.sh</strong>
-rwxr-sr-x 1 carol carol 33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="paragraph">
<p>To add SGID permissions to a file in symbolic mode, the command would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod g+s test.sh</strong>
$ <strong>ls -l test.sh</strong>
-rwxr-sr-x 1 carol root     33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="paragraph">
<p>The following example will make you better understand the effects of SGID on a directory. Suppose we have a directory called <code>Sample_Directory</code>, owned by the user <code>carol</code> and the group <code>users</code>, with the following permission structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -ldh Sample_Directory/</strong>
drwxr-xr-x 2 carol users 4,0K Jan 18 17:06 Sample_Directory/</pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s change to this directory and, using the command <code>touch</code>, create an empty file inside it. The result would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>cd Sample_Directory/</strong>
$ <strong>touch newfile</strong>
$ <strong>ls -lh newfile</strong>
-rw-r--r-- 1 carol carol 0 Jan 18 17:11 newfile</pre>
</div>
</div>
<div class="paragraph">
<p>As we can see, the file is owned by the user <code>carol</code> and group <code>carol</code>. But, if the directory had the SGID permission set, the result would be different. First, let&#8217;s add the SGID bit to the <code>Sample_Directory</code> and check the results:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo chmod g+s Sample_Directory/</strong>
$ <strong>ls -ldh Sample_Directory/</strong>
drwxr-sr-x 2 carol users 4,0K Jan 18 17:17 Sample_Directory/</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>s</code> on the group permissions indicates that the SGID bit is set. Now, let&#8217;s change to this directory and, again, create an empty file with the <code>touch</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>cd Sample_Directory/</strong>
$ <strong>touch emptyfile</strong>
$ <strong>ls -lh emptyfile</strong>
 -rw-r--r-- 1 carol users 0 Jan 18 17:20 emptyfile</pre>
</div>
</div>
<div class="paragraph">
<p>As we can see, the group who owns the file is <code>users</code>. This is because the SGID bit made the file inherit the group owner of its parent directory, which is <code>users</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_set_uid">Set UID</h4>
<div class="paragraph">
<p>SUID, also known as Set User ID, has the octal value <code>4</code> and is represented by an <code>s</code> on the <em>user</em> permissions in symbolic mode. It only applies to files and its behavior is similar to the SGID bit, but the process will run with the privileges of the <em>user</em> who owns the file. Files with the SUID bit show an <code>s</code> replacing the <code>x</code> on the permissions for the user on the output of <code>ls -l</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -ld test.sh</strong>
-rwsr-xr-x 1 carol carol 33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="paragraph">
<p>You can combine multiple special permissions in one parameter by adding them together. So, to set SGID (value <code>2</code>) and SUID (value <code>4</code>) in numeric mode for the script <code>test.sh</code> with permissions <code>755</code>, you would type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 6755 test.sh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>And the result would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -lh test.sh</strong>
-rwsr-sr-x 1 carol carol 66 Jan 18 17:29 test.sh</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>If your terminal supports color, and these days most of them do, you can quickly see if these special permissions are set by glancing at the output of <code>ls -l</code>. For the sticky bit, the directory name might be shown in a black font with blue background. The same applies for files with the SGID (yellow background) and SUID (red background) bits. Colors may be different depending on which Linux distribution and terminal settings you use.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a directory named <code>emptydir</code> using the command <code>mkdir emptydir</code>. Now, using <code>ls</code>, list the permissions for the directory <code>emptydir</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create an empty file named <code>emptyfile</code> with the command <code>touch emptyfile</code>. Now, using <code>chmod</code> with symbolic notation, add execute permissions for the owner of the file <code>emptyfile</code>, and remove write and execute permissions for everyone else. Do this using only one <code>chmod</code> command.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What will be the permissions for a file called <code>text.txt</code> after you use the command <code>chmod 754 text.txt</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Let&#8217;s assume a file named <code>test.sh</code> is a shell script with the following permissions and ownership:</p>
<div class="listingblock">
<div class="content">
<pre>-rwxr-sr-x 1 carol root     33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>What are the permissions for the owner of the file?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If the user <code>john</code> runs this script, under which user&#8217;s privileges will it be run?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Using the numeric notation, which should be the syntax of chmod to &#8220;unset&#8221; the special permission granted to this file?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Consider this file:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l /dev/sdb1</strong>
brw-rw---- 1 root disk 8, 17 Dec 21 18:51 /dev/sdb1</pre>
</div>
</div>
<div class="paragraph">
<p>Which kind of file is <code>sdb1</code>? And who can write to it?</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Consider the following 4 files:</p>
<div class="listingblock">
<div class="content">
<pre>drwxr-xr-t 2 carol carol 4,0K Dec 20 18:46 Another_Directory
----r--r-- 1 carol carol    0 Dec 11 10:55 foo.bar
-rw-rw-r-- 1 carol carol 1,2G Dec 20 18:22 HugeFile.zip
drwxr-sr-x 2 carol users 4,0K Jan 18 17:26 Sample_Directory</pre>
</div>
</div>
<div class="paragraph">
<p>Write down the corresponding permissions for each file and directory using numeric 4-digit notation.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Another_Directory</code></dt>
<dd>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</dd>
<dt class="hdlist1"><code>foo.bar</code></dt>
<dd>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</dd>
<dt class="hdlist1"><code>HugeFile.zip</code></dt>
<dd>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</dd>
<dt class="hdlist1"><code>Sample_Directory</code></dt>
<dd>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Try this on a terminal: create an empty file called <code>emptyfile</code> with the command <code>touch emptyfile</code>. Now &#8220;zero out&#8221; the permissions for the file with <code>chmod 000 emptyfile</code>. What will happen if you change the permissions for <code>emptyfile</code> by passing only <em>one</em> value for <code>chmod</code> in numeric mode, such as <code>chmod 4 emptyfile</code>? What if we use two, such as <code>chmod 44 emptyfile</code>? What can we learn about the way <code>chmod</code> reads the numerical value?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Can you execute a file for which you have execute, but not read permissions (<code>--x</code>)? Why or why not?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Consider the permissions for the temporary directory on a Linux system, <code>/tmp</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l /tmp</strong>
drwxrwxrwt  19 root root  16K Dec 21 18:58 tmp</pre>
</div>
</div>
<div class="paragraph">
<p>User, group and others have full permissions. But can a regular user delete <em>any</em> files inside this directory? Why is this?</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>A file called <code>test.sh</code> has the following permissions: <code>-rwsr-xr-x</code>, meaning the SUID bit is set. Now, run the following commands:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod u-x test.sh</strong>
$ <strong>ls -l test.sh</strong>
-rwSr-xr-x 1 carol carol 33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="paragraph">
<p>What did we do? What does the uppercase <code>S</code> mean?</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would you create a directory named <code>Box</code> where all the files are automatically owned by the group <code>users</code>, and can only be deleted by the user who created them?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a multi-user system, Linux needs a way to track who owns and who can access each file. This is done through a three-level permissions system, and in this lesson we learned all about how this system works.</p>
</div>
<div class="paragraph">
<p>In this lesson you have learned how use <code>ls</code> to get information about file permissions, how to control or change who can create, delete or modify a file with <code>chmod</code>, both in <em>numeric</em> and <em>symbolic</em> notation and how to change the ownership of files with <code>chown</code> and <code>chgrp</code>.</p>
</div>
<div class="paragraph">
<p>The following commands were discussed in this lesson:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ls</code></dt>
<dd>
<p>List files, optionally including details such as permissions.</p>
</dd>
<dt class="hdlist1"><code>chmod</code></dt>
<dd>
<p>Change the permissions of a file or directory.</p>
</dd>
<dt class="hdlist1"><code>chown</code></dt>
<dd>
<p>Change the owning user and/or group of a file or directory.</p>
</dd>
<dt class="hdlist1"><code>chgrp</code></dt>
<dd>
<p>Change the owning group of a file or directory.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a directory named <code>emptydir</code> using the command <code>mkdir emptydir</code>. Now, using <code>ls</code>, list the permissions for the directory <code>emptydir</code>.</p>
<div class="paragraph">
<p>Add the <code>-d</code> parameter to <code>ls</code> to see the file attributes of a directory, instead of listing its contents. Therefore the answer is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ls -l -d emptydir</pre>
</div>
</div>
<div class="paragraph">
<p>Bonus points if you merged the two parameters in one, as in <code>ls -ld emptydir</code>.</p>
</div>
</li>
<li>
<p>Create an empty file named <code>emptyfile</code> with the command <code>touch emptyfile</code>. Now, using <code>chmod</code> in symbolic notation, add execute permissions for the owner of the file <code>emptyfile</code>, and remove write and execute permissions for everyone else. Do this using only one <code>chmod</code> command.</p>
<div class="paragraph">
<p>Think about it this way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8220;For the user who owns the file (<code>u</code>) add (<code>+</code>) execute (<code>x</code>) permissions&#8221;, so <code>u+x</code>.</p>
</li>
<li>
<p>&#8220;For the group (<code>g</code>) and other users (<code>o</code>), remove (<code>-</code>) write (<code>w</code>) and execute (<code>x</code>) permissions&#8221;, so <code>go-wx</code>.</p>
<div class="paragraph">
<p>To combine these two sets of permissions, we add a comma between them. So the final result is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>chmod u+x,go-wx emptyfile</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>What will be the permissions of a file called <code>text.txt</code> after I use the command <code>chmod 754 text.txt</code>?</p>
<div class="paragraph">
<p>Remember that in numeric notation each digit represents a set of three permissions, each one with a respective value: <em>read</em> is <code>4</code>, <em>write</em> is <code>2</code>, <em>execute</em> is <code>1</code> and no permission is <code>0</code>. We get the value for a digit by adding the corresponding values for each permission. <code>7</code> is <code>4+2+1</code>, or <code>rwx</code>, <code>5</code> is <code>4+0+1</code>, so <code>r-x</code> and <code>4</code> is just read, or <code>r--</code>. The permissions for <code>text.txt</code> would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rwxr-xr--</pre>
</div>
</div>
</li>
<li>
<p>Let&#8217;s assume a file named <code>test.sh</code> is a shell script with the following permissions and ownership:</p>
<div class="listingblock">
<div class="content">
<pre>-rwxr-sr-x 1 carol root     33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>What are the permissions for the owner of the file?</p>
<div class="paragraph">
<p>The permissions for the owner (2nd to 4th characters in the output of <code>ls -l</code>) are <code>rwx</code>, so the answer is: &#8220;to read, to write to and to execute the file&#8221;.</p>
</div>
</li>
<li>
<p>If the user <code>john</code> runs this script, under which user&#8217;s privileges will it be run?</p>
<div class="paragraph">
<p>Pay attention to the permissions for the <em>group</em>. They are <code>r-s</code>, which means the SGID bit is set. The group who owns this file is <code>root</code>, so the script, even when started by a regular user, will be run with the user&#8217;s privileges.</p>
</div>
</li>
<li>
<p>Using the numeric notation, which should be the syntax of chmod to &#8220;unset&#8221; the special permission granted to this file?</p>
<div class="paragraph">
<p>We can &#8220;unset&#8221; the special permissions by passing a 4th digit, <code>0</code>, to <code>chmod</code>. The current permissions are <code>755</code>, so the command should be <code>chmod 0755</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Consider this file:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l /dev/sdb1</strong>
brw-rw---- 1 root disk 8, 17 Dec 21 18:51 /dev/sdb1</pre>
</div>
</div>
<div class="paragraph">
<p>Which kind of file is <code>sdb1</code>? And who can write to it?</p>
</div>
<div class="paragraph">
<p>The first character of the output from <code>ls -l</code> shows the kind of file. <code>b</code> is a <em>block device</em>, usually a disk (internal or external), connected to the machine. The owner (<code>root</code>) and any users of the group <code>disk</code> can write to it.</p>
</div>
</li>
<li>
<p>Consider the following 4 files:</p>
<div class="listingblock">
<div class="content">
<pre>drwxr-xr-t 2 carol carol 4,0K Dec 20 18:46 Another_Directory
----r--r-- 1 carol carol    0 Dec 11 10:55 foo.bar
-rw-rw-r-- 1 carol carol 1,2G Dec 20 18:22 HugeFile.zip
drwxr-sr-x 2 carol users 4,0K Jan 18 17:26 Sample_Directory</pre>
</div>
</div>
<div class="paragraph">
<p>Write down the corresponding permissions for each file and directory using 4-digit numeric notation.</p>
</div>
<div class="paragraph">
<p>The corresponding permissions, in numeric notation, are as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Another_Directory</code></dt>
<dd>
<p>Answer: <code>1755</code></p>
<div class="paragraph">
<p><code>1</code> for the sticky bit, <code>755</code> for the regular permissions (<code>rwx</code> for the user, <code>r-x</code> for group and others).</p>
</div>
</dd>
<dt class="hdlist1"><code>foo.bar</code></dt>
<dd>
<p>Answer: <code>0044</code></p>
<div class="paragraph">
<p>No special permissions (so the first digit is <code>0</code>), no permissions for the user (<code>---</code>) and just read (<code>r&#8212;&#8203;r--</code>) for group and others.</p>
</div>
</dd>
<dt class="hdlist1"><code>HugeFile.zip</code></dt>
<dd>
<p>Answer: <code>0664</code></p>
<div class="paragraph">
<p>No special permissions, so the first digit is <code>0</code>. <code>6</code> (<code>rw-</code>) for the user and group, <code>4</code> (<code>r--</code>) for the others.</p>
</div>
</dd>
<dt class="hdlist1"><code>Sample_Directory</code></dt>
<dd>
<p>Answer: <code>2755</code></p>
<div class="paragraph">
<p><code>2</code> for the SGID bit, <code>7</code> (<code>rwx</code>) for the user, <code>5</code> (<code>r-x</code>) for the group and others.</p>
</div>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.5.3_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Try this on a terminal: create an empty file called <code>emptyfile</code> with the command <code>touch emptyfile</code>. Now &#8220;zero out&#8221; the permissions for the file with <code>chmod 000 emptyfile</code>. What will happen if you change the permissions for <code>emptyfile</code> by passing only <em>one</em> value for <code>chmod</code> in numeric notation, such as <code>chmod 4 emptyfile</code>? What if we use two, such as <code>chmod 44 emptyfile</code>? What can we learn about the way <code>chmod</code> reads the numerical value?</p>
<div class="paragraph">
<p>Remember that we &#8220;zeroed out&#8221; the permissions for <code>emptyfile</code>. So, its initial state would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>---------- 1 carol carol    0 Dec 11 10:55 emptyfile</pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s try the first command, <code>chmod 4 emptyfile</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 4 emptyfile</strong>
$ <strong>ls -l emptyfile</strong>
-------r-- 1 carol carol 0 Dec 11 10:55 emptyfile</pre>
</div>
</div>
<div class="paragraph">
<p>The permissions for <em>others</em> were changed. And what if we try two digits, such as <code>chmod 44 emptyfile</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod 44 emptyfile</strong>
$ <strong>ls -l emptyfile</strong>
----r--r-- 1 carol carol 0 Dec 11 10:55 emptyfile</pre>
</div>
</div>
<div class="paragraph">
<p>Now, the permissions for <em>group</em> and <em>others</em> were affected. From this, we can conclude that in numeric notation <code>chmod</code> reads the value &#8220;backwards&#8221;, from the least significant digit (<em>others</em>) to the most significant one (<em>user</em>). If you pass one digit, you modify the permissions for <em>others</em>. With two digits you modify <em>group</em> and <em>others</em>, and with three you modify <em>user</em>, <em>group</em> and <em>others</em> and with four digits you modify <em>user</em>, <em>group</em>, <em>others</em> and the special permissions.</p>
</div>
</li>
<li>
<p>Can you execute a file for which you have execute, but not read permissions (<code>--x</code>)? Why or why not?</p>
<div class="paragraph">
<p>At first, the answer seems obvious: if you have execute permission, the file should run. However, without read permission the system cannot open the file and read its contents to execute. Therefore, without read permission you cannot execute a file, even if you have execute permission for it.</p>
</div>
</li>
<li>
<p>Consider the permissions for the temporary directory on a Linux system, <code>/tmp</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l /tmp</strong>
drwxrwxrwt  19 root root  16K Dec 21 18:58 tmp</pre>
</div>
</div>
<div class="paragraph">
<p>User, group and others have full permissions. But can a regular user delete <em>any</em> files inside this directory? Why is this?</p>
</div>
<div class="paragraph">
<p><code>/tmp</code> is what we call a <em>world writeable</em> directory, meaning that any user can write to it. But we don&#8217;t want one user modifying files created by others, so the sticky bit_ is set (as indicated by the <code>t</code> on the permissions for <em>others</em>). This means that a user can delete files in <code>/tmp</code>, but only if they created that file.</p>
</div>
</li>
<li>
<p>A file called <code>test.sh</code> has the following permissions: <code>-rwsr-xr-x</code>, meaning the SUID bit is set. Now, run the following commands:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod u-x test.sh</strong>
$ <strong>ls -l test.sh</strong>
-rwSr-xr-x 1 carol carol 33 Dec 11 10:36 test.sh</pre>
</div>
</div>
<div class="paragraph">
<p>What did we do? What does the uppercase <code>S</code> mean?</p>
</div>
<div class="paragraph">
<p>We removed execute permissions for the user who owns the file. The <code>s</code> (or <code>t</code>) takes the place of the <code>x</code> on the output of <code>ls -l</code>, so the system needs a way to show if the user has execute permissions or not. It does this by changing the case of the special character.</p>
</div>
<div class="paragraph">
<p>A lowercase <code>s</code> on the first group of permissions means that the user who owns the file has execute permissions and that the SUID bit is set. An uppercase <code>S</code> means that the user who owns the file lacks (<code>-</code>) execute permissions and that the SUID bit is set.</p>
</div>
<div class="paragraph">
<p>The same can be said for SGID. A lowercase <code>s</code> on the second group of permissions means that the group who owns the file has execute permissions and that the SGID bit is set. An uppercase <code>S</code> means that the group who owns the file lacks (<code>-</code>) execute permissions and that the SGID bit is set.</p>
</div>
<div class="paragraph">
<p>This is also true for the sticky bit, represented by the <code>t</code> in the third group of permissions. Lowercase <code>t</code> means the sticky bit is set and that others have execute permissions. Uppercase <code>T</code> means the sticky bit is set and that others do not have execute permissions.</p>
</div>
</li>
<li>
<p>How would you create a directory named <code>Box</code> where all the files are automatically owned by the group <code>users</code>, and can only be deleted by the user who created them?</p>
<div class="paragraph">
<p>This is a multi-step process. The first step is to create the directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>mkdir Box</strong></pre>
</div>
</div>
<div class="paragraph">
<p>We want every file created inside this directory to be automatically assigned to the group <code>users</code>. We can do this by setting this group as the owner of the directory, and then by setting the SGID bit on it. We also need to make sure that any member of the group can write to that directory.</p>
</div>
<div class="paragraph">
<p>Since we do not care about what the other permissions are, and want to &#8220;flip&#8221; only the special bits, it makes sense to use the symbolic mode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chown :users Box/</strong>
$ <strong>chmod g+wxs Box/</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Note that if you current user does not belong to the group <code>users</code>, you will have to use the command <code>sudo</code> before the commands above to do the change as root.</p>
</div>
<div class="paragraph">
<p>Now for the last part, making sure that only the user who created a file is allowed to delete it. This is done by setting the sticky bit (represented by a <code>t</code>) on the directory. Remember that it is set on the permissions for others (<code>o</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod o+t Box/</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The permissions on the directory <code>Box</code> should appear as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>drwxrwsr-t 2 carol users  4,0K Jan 18 19:09 Box</pre>
</div>
</div>
<div class="paragraph">
<p>Of course, you can specify SGID and the sticky bit using only one <code>chmod</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod g+wxs,o+t Box/</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Bonus points if you thought of that.</p>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">5.4 Special Directories and Files (5.4 Lesson 1)</p>

        <div class="button-group">
            <a href="../../5.4/5.4_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
