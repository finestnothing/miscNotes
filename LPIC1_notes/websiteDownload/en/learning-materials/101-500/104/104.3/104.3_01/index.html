

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>104.3 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="de"
      >Deutsch</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="it"
      >Italiano</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">104.3 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 101: System Architecture
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../101/101.1/index.html" class="hierarchy__link">101.1 Determine and configure hardware settings</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.1/101.1_01/index.html" class="hierarchy__link">101.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.2/index.html" class="hierarchy__link">101.2 Boot the system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.2/101.2_01/index.html" class="hierarchy__link">101.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.3/index.html" class="hierarchy__link">101.3 Change runlevels / boot targets and shutdown or reboot system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.3/101.3_01/index.html" class="hierarchy__link">101.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 102: Linux Installation and Package Management
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../102/102.1/index.html" class="hierarchy__link">102.1 Design hard disk layout</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.1/102.1_01/index.html" class="hierarchy__link">102.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../102/102.2/index.html" class="hierarchy__link">102.2 Install a boot manager</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.2/102.2_01/index.html" class="hierarchy__link">102.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../102/102.3/index.html" class="hierarchy__link">102.3 Manage shared libraries</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.3/102.3_01/index.html" class="hierarchy__link">102.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../102/102.4/index.html" class="hierarchy__link">102.4 Use Debian package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.4/102.4_01/index.html" class="hierarchy__link">102.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../102/102.5/index.html" class="hierarchy__link">102.5 Use RPM and YUM package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.5/102.5_01/index.html" class="hierarchy__link">102.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../102/102.6/index.html" class="hierarchy__link">102.6 Linux as a virtualization guest</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../102/102.6/102.6_01/index.html" class="hierarchy__link">102.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 103: GNU and Unix Commands
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../103/103.1/index.html" class="hierarchy__link">103.1 Work on the command line</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_01/index.html" class="hierarchy__link">103.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_02/index.html" class="hierarchy__link">103.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.2/index.html" class="hierarchy__link">103.2 Process text streams using filters</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.2/103.2_01/index.html" class="hierarchy__link">103.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.3/index.html" class="hierarchy__link">103.3 Perform basic file management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_01/index.html" class="hierarchy__link">103.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_02/index.html" class="hierarchy__link">103.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.4/index.html" class="hierarchy__link">103.4 Use streams, pipes and redirects</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_01/index.html" class="hierarchy__link">103.4 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_02/index.html" class="hierarchy__link">103.4 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.5/index.html" class="hierarchy__link">103.5 Create, monitor and kill processes</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_01/index.html" class="hierarchy__link">103.5 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_02/index.html" class="hierarchy__link">103.5 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.6/index.html" class="hierarchy__link">103.6 Modify process execution priorities</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.6/103.6_01/index.html" class="hierarchy__link">103.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.7/index.html" class="hierarchy__link">103.7 Search text files using regular expressions</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_01/index.html" class="hierarchy__link">103.7 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_02/index.html" class="hierarchy__link">103.7 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.8/index.html" class="hierarchy__link">103.8 Basic file editing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.8/103.8_01/index.html" class="hierarchy__link">103.8 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../104.1/index.html" class="hierarchy__link">104.1 Create partitions and filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../104.1/104.1_01/index.html" class="hierarchy__link">104.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../104.2/index.html" class="hierarchy__link">104.2 Maintain the integrity of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../104.2/104.2_01/index.html" class="hierarchy__link">104.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">104.3 Control mounting and unmounting of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">104.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../104.5/index.html" class="hierarchy__link">104.5 Manage file permissions and ownership</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../104.5/104.5_01/index.html" class="hierarchy__link">104.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../104.6/index.html" class="hierarchy__link">104.6 Create and change hard and symbolic links</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../104.6/104.6_01/index.html" class="hierarchy__link">104.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../104.7/index.html" class="hierarchy__link">104.7 Find system files and place files in the correct location</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../104.7/104.7_01/index.html" class="hierarchy__link">104.7 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">104.3 Control mounting and unmounting of filesystems</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">104.3 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>104.3 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">104 Devices, Linux Filesystems, Filesystem Hierarchy Standard</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">104.3 Control mounting and unmounting of filesystems</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Up until now, you learned how to partition disks and how to create and maintain filesystems on them. However before a filesystem can be accessed on Linux, it needs to be <em>mounted</em>.</p>
</div>
<div class="paragraph">
<p>This means attaching the filesystem to a specific point in your system&#8217;s directory tree, called a <em>mount point</em>. Filesystems can be mounted manually or automatically and there are many ways to do this. We will learn about some of them in this lesson.</p>
</div>
<div class="sect2">
<h3 id="_mounting_and_unmounting_filesystems">Mounting and Unmounting Filesystems</h3>
<div class="paragraph">
<p>The command to manually mount a filesystem is called <code>mount</code> and its syntax is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mount -t TYPE DEVICE MOUNTPOINT</pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>TYPE</code></dt>
<dd>
<p>The type of the filesystem being mounted (e.g. ext4, btrfs, exfat, etc.).</p>
</dd>
<dt class="hdlist1"><code>DEVICE</code></dt>
<dd>
<p>The name of the partition containing the filesystem (e.g. <code>/dev/sdb1</code>)</p>
</dd>
<dt class="hdlist1"><code>MOUNTPOINT</code></dt>
<dd>
<p>Where the filesystem will be mounted. The mounted-on directory need not be empty, although it must exist. Any files in it, however, will be inaccessible by name while the filesystem is mounted.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For example, to mount a USB flash drive containing an exFAT filesystem located on <code>/dev/sdb1</code> to a directory called <code>flash</code> under your home directory, you could use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -t exfat /dev/sdb1 ~/flash/</strong></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Many Linux systems use the Bash shell, and on those the tilde <code>~</code> on the path to the mountpoint is a shorthand for the current user&#8217;s home directory. If the current user is named <code>john</code>, for example, it will be replaced by <code>/home/john</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After mounting, the contents of the filesystem will be accessible under the <code>~/flash</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$  <strong>ls -lh ~/flash/</strong>
total 469M
-rwxrwxrwx 1 root root 454M jul 19 09:49 lineage-16.0-20190711-MOD-quark.zip
-rwxrwxrwx 1 root root  16M jul 19 09:44 twrp-3.2.3-mod_4-quark.img</pre>
</div>
</div>
<div class="sect3">
<h4 id="_listing_mounted_filesystems">Listing Mounted Filesystems</h4>
<div class="paragraph">
<p>If you type just <code>mount</code>, you will get a list of all the filesystems currently mounted on your system. This list can be quite large, because in addition to the disks attached to your system, it also contains a number of run-time filesystems in memory that serve various purposes. To filter the output, you can use the <code>-t</code> parameter to list only filesystems of the corresponding type, like below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -t ext4</strong>
/dev/sda1 on / type ext4 (rw,noatime,errors=remount-ro)</pre>
</div>
</div>
<div class="paragraph">
<p>You can specify multiple filesystems at once by separating them with a comma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -t ext4,fuseblk</strong>
/dev/sda1 on / type ext4 (rw,noatime,errors=remount-ro)
/dev/sdb1 on /home/carol/flash type fuseblk (rw,nosuid,nodev,relatime,user_id=0,group_id=0,default_permissions,allow_other,blksize=4096) [DT_8GB]</pre>
</div>
</div>
<div class="paragraph">
<p>The output in the examples above can be described in the format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SOURCE on TARGET type TYPE OPTIONS</pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>SOURCE</code> is the partition which contains the filesystem, <code>TARGET</code> is the directory where it is mounted, <code>TYPE</code> is the filesystem type and <code>OPTIONS</code> are the options passed to the <code>mount</code> command at mount time.</p>
</div>
</div>
<div class="sect3">
<h4 id="_additional_command_line_parameters">Additional Command Line Parameters</h4>
<div class="paragraph">
<p>There are many command line parameters that can be used with <code>mount</code>. Some of the most used ones are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-a</code></dt>
<dd>
<p>This will mount all filesystems listed in the file <code>/etc/fstab</code> (more on that in the next section).</p>
</dd>
<dt class="hdlist1"><code>-o</code> or <code>--options</code></dt>
<dd>
<p>This will pass a list of comma-separated <em>mount options</em> to the mount command, which can change how the filesystem will be mounted. These will also be discussed alongside <code>/etc/fstab</code>.</p>
</dd>
<dt class="hdlist1"><code>-r</code> or <code>-ro</code></dt>
<dd>
<p>This will mount the filesystem as read-only.</p>
</dd>
<dt class="hdlist1"><code>-w</code> or <code>-rw</code></dt>
<dd>
<p>This will the mount filesystem as writable.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To unmount a filesystem, use the <code>umount</code> command, followed by the device name or the mount point. Considering the example above, the commands below are interchangeable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>umount /dev/sdb1</strong>
# <strong>umount ~/flash</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Some of the command line parameters to <code>umount</code> are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-a</code></dt>
<dd>
<p>This will unmount all filesystems listed in <code>/etc/fstab</code>.</p>
</dd>
<dt class="hdlist1"><code>-f</code></dt>
<dd>
<p>This will force the unmounting of a filesystem. This may be useful if you mounted a remote filesystem that has become unreachable.</p>
</dd>
<dt class="hdlist1"><code>-r</code></dt>
<dd>
<p>If the filesystem cannot be unmounted, this will try to make it read-only.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_dealing_with_open_files">Dealing with Open Files</h4>
<div class="paragraph">
<p>When unmounting a filesystem, you may encounter an error message stating that the <code>target is busy</code>. This will happen if any files on the filesystem are open. However, it may not be immediately obvious where an open file is located, or what is accessing the filesystem.</p>
</div>
<div class="paragraph">
<p>In such cases you may use the <code>lsof</code> command, followed by the name of the device containing the filesystem, to see a list of processes accessing it and which files are open. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>umount /dev/sdb1</strong>
umount: /media/carol/External_Drive: target is busy.

# <strong>lsof /dev/sdb1</strong>
COMMAND  PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
evince  3135 carol   16r   REG   8,17 21881768 5195 /media/carol/External_Drive/Documents/E-Books/MagPi40.pdf</pre>
</div>
</div>
<div class="paragraph">
<p><code>COMMAND</code> is the name of the executable that opened the file, and <code>PID</code> is the process number. <code>NAME</code> is the name of the file that is open. In the example above, the file <code>MagPi40.pdf</code> is opened by the program <code>evince</code> (a PDF viewer). If we close the program, then we will be able to unmount the filesystem.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Before the <code>lsof</code> output appears <code>GNOME</code> users may see a warning message in the terminal window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>lsof: WARNING: can't stat() fuse.gvfsd-fuse file system /run/user/1000/gvfs
Output information may be incomplete.</pre>
</div>
</div>
<div class="paragraph">
<p><code>lsof</code> tries to process all mounted filesystems. This warning message is raised because <code>lsof</code> has encountered a <code>GNOME</code> Virtual file system (GVFS). This is a special case of a filesystem in user space (<code>FUSE</code>). It acts as a bridge between <code>GNOME</code>, its APIs and the kernel. No one—not even root—can access one of these file systems, apart from the owner who mounted it (in this case, <code>GNOME</code>). You can ignore this warning.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_where_to_mount">Where to Mount?</h4>
<div class="paragraph">
<p>You can mount a filesystem anywhere you want. However, there are some good practices that should be followed to make system administration easier.</p>
</div>
<div class="paragraph">
<p>Traditionally, <code>/mnt</code> was the directory under which all external devices would be mounted and a number of pre-configured &#8220;anchor points&#8221; for common devices, like CD-ROM drives (<code>/mnt/cdrom</code>) and floppy disks (<code>/mnt/floppy</code>) existed under it.</p>
</div>
<div class="paragraph">
<p>This has been superseded by <code>/media</code>, which is now the default mount point for any user-removable media (e.g. external disks, USB flash drives, memory card readers, etc.) connected to the system.</p>
</div>
<div class="paragraph">
<p>On most modern Linux distributions and desktop environments, removable devices are automatically mounted under <code>/media/USER/LABEL</code> when connected to the system, where <code>USER</code> is the username and <code>LABEL</code> is the device label. For example, a USB flash drive with the label <code>FlashDrive</code> connected by the user <code>john</code> would be mounted under <code>/media/john/FlashDrive/</code>. The way this is handled is different depending on the desktop environment.</p>
</div>
<div class="paragraph">
<p>That being said, whenever you need to <em>manually</em> mount a filesystem, it is good practice to mount it under <code>/mnt</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mounting_filesystems_on_bootup">Mounting Filesystems on Bootup</h3>
<div class="paragraph">
<p>The file <code>/etc/fstab</code> contains descriptions about the filesystems that can be mounted. This is a text file, where each line describes a filesystem to be mounted, with six fields per line in the following order:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>FILESYSTEM MOUNTPOINT TYPE OPTIONS DUMP PASS</pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>FILESYSTEM</code></dt>
<dd>
<p>The device containing the filesystem to be mounted. Instead of the device, you can specify the UUID or label of the partition, something which we will discuss later on.</p>
</dd>
<dt class="hdlist1"><code>MOUNTPOINT</code></dt>
<dd>
<p>Where the filesystem will be mounted.</p>
</dd>
<dt class="hdlist1"><code>TYPE</code></dt>
<dd>
<p>The filesystem type.</p>
</dd>
<dt class="hdlist1"><code>OPTIONS</code></dt>
<dd>
<p>Mount options that will be passed to <code>mount</code>.</p>
</dd>
<dt class="hdlist1"><code>DUMP</code></dt>
<dd>
<p>Indicates whether any ext2, ext3 or ext4 filesystems should be considered for backup by the <code>dump</code> command. Usually it is zero, meaning they should be ignored.</p>
</dd>
<dt class="hdlist1"><code>PASS</code></dt>
<dd>
<p>When non-zero, defines the order in which the filesystems will be checked on bootup. Usually it is zero.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For example, the first partition on the first disk of a machine could be described as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/dev/sda1  /  ext4  noatime,errors</pre>
</div>
</div>
<div class="paragraph">
<p>The mount options on <code>OPTIONS</code> are a comma-separated list of parameters, which can be generic or filesystem specific. Among the generic ones we have:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>atime</code> and <code>noatime</code></dt>
<dd>
<p>By default, every time a file is read the access time information is updated. Disabling this (with <code>noatime</code>) can speed up disk I/O. Do not confuse this with the modification time, which is updated every time a file is written to.</p>
</dd>
<dt class="hdlist1"><code>auto</code> and <code>noauto</code></dt>
<dd>
<p>Whether the filesystem can (or can not) be mounted automatically with <code>mount -a</code>.</p>
</dd>
<dt class="hdlist1"><code>defaults</code></dt>
<dd>
<p>This will pass the options <code>rw</code>, <code>suid</code>, <code>dev</code>, <code>exec</code>, <code>auto</code>, <code>nouser</code> and <code>async</code> to <code>mount</code>.</p>
</dd>
<dt class="hdlist1"><code>dev</code> and <code>nodev</code></dt>
<dd>
<p>Whether character or block devices in the mounted filesystem should be interpreted.</p>
</dd>
<dt class="hdlist1"><code>exec</code> and <code>noexec</code></dt>
<dd>
<p>Allow or deny permission to execute binaries on the filesystem.</p>
</dd>
<dt class="hdlist1"><code>user</code> and <code>nouser</code></dt>
<dd>
<p>Allows (or not) an ordinary user to mount the filesystem.</p>
</dd>
<dt class="hdlist1"><code>group</code></dt>
<dd>
<p>Allows a user to mount the filesystem if the user belongs to the same group which owns the device containing it.</p>
</dd>
<dt class="hdlist1"><code>owner</code></dt>
<dd>
<p>Allows a user to mount a filesystem if the user owns the device containing it.</p>
</dd>
<dt class="hdlist1"><code>suid</code> and <code>nosuid</code></dt>
<dd>
<p>Allow, or not, SETUID and SETGID bits to take effect.</p>
</dd>
<dt class="hdlist1"><code>ro</code> and <code>rw</code></dt>
<dd>
<p>Mount a filesystem as read-only or writable.</p>
</dd>
<dt class="hdlist1"><code>remount</code></dt>
<dd>
<p>This will attempt to remount an already mounted filesystem. This is not used on <code>/etc/fstab</code>, but as a parameter to <code>mount -o</code>. For example, to remount the already mounted partition <code>/dev/sdb1</code> as read-only, you could use the command <code>mount -o remount,ro /dev/sdb1</code>. When remounting, you do not need to specify the filesystem type, only the device name <em>or</em> the mount point.</p>
</dd>
<dt class="hdlist1"><code>sync</code> and <code>async</code></dt>
<dd>
<p>Whether to do all I/O operations to the filesystem synchronously or asynchronously. <code>async</code> is usually the default. The manual page for <code>mount</code> warns that using <code>sync</code> on media with a limited number of write cycles (like flash drives or memory cards) may shorten the life span of the device.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_using_uuids_and_labels">Using UUIDs and Labels</h3>
<div class="paragraph">
<p>Specifying the name of the device containing the filesystem to mount may introduce some problems. Sometimes the same device name may be assigned to another device depending on when, or where, it was connected to your system. For example, a USB flash drive on <code>/dev/sdb1</code> may be assigned to <code>/dev/sdc1</code> if plugged on another port, or after another flash drive.</p>
</div>
<div class="paragraph">
<p>One way to avoid this is to specify the label or UUID (<em>Universally Unique Identifier</em>) of the volume. Both are specified when the filesystem is created and will not change, unless the filesystem is destroyed or manually assigned a new label or UUID.</p>
</div>
<div class="paragraph">
<p>The command <code>lsblk</code> can be used to query information about a filesystem and find out the label and UUID associated to it. To do this, use the <code>-f</code> parameter, followed by the device name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>lsblk -f /dev/sda1</strong>
NAME FSTYPE LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sda1 ext4         6e2c12e3-472d-4bac-a257-c49ac07f3761   64,9G    33% /</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the meaning of each column:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NAME</code></dt>
<dd>
<p>Name of the device containing the filesystem.</p>
</dd>
<dt class="hdlist1"><code>FSTYPE</code></dt>
<dd>
<p>Filesystem type.</p>
</dd>
<dt class="hdlist1"><code>LABEL</code></dt>
<dd>
<p>Filesystem label.</p>
</dd>
<dt class="hdlist1"><code>UUID</code></dt>
<dd>
<p>Universally Unique Identifier (UUID) assigned to the filesystem.</p>
</dd>
<dt class="hdlist1"><code>FSAVAIL</code></dt>
<dd>
<p>How much space is available in the filesystem.</p>
</dd>
<dt class="hdlist1"><code>FSUSE%</code></dt>
<dd>
<p>Usage percentage of the filesystem.</p>
</dd>
<dt class="hdlist1"><code>MOUNTPOINT</code></dt>
<dd>
<p>Where the filesystem is mounted.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In <code>/etc/fstab</code> a device can be specified by its UUID with the <code>UUID=</code> option, followed by the UUID, or with <code>LABEL=</code>, followed by the label. So, instead of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/dev/sda1  /  ext4  noatime,errors</pre>
</div>
</div>
<div class="paragraph">
<p>You would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>UUID=6e2c12e3-472d-4bac-a257-c49ac07f3761  /  ext4  noatime,errors</pre>
</div>
</div>
<div class="paragraph">
<p>Or, if you have a disk labeled <code>homedisk</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LABEL=homedisk  /home ext4  defaults</pre>
</div>
</div>
<div class="paragraph">
<p>The same syntax can be used with the <code>mount</code> command. Instead of the device name, pass the UUID or label. For example, to mount an external NTFS disk with the UUID <code>56C11DCC5D2E1334</code> on <code>/mnt/external</code>, the command would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>mount -t ntfs UUID=56C11DCC5D2E1334 /mnt/external</strong></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mounting_disks_with_systemd">Mounting Disks with Systemd</h3>
<div class="paragraph">
<p><em>Systemd</em> is the init process, the first process to run on many Linux distributions. It is responsible for spawning other processes, starting services and bootstraping the system. Among many other tasks, systemd can also be used to manage the mounting (and automounting) of filesystems.</p>
</div>
<div class="paragraph">
<p>To use this feature of systemd, you need to create a configuration file called a <em>mount unit</em>. Each volume to be mounted gets its own mount unit and they need to be placed in <code>/etc/systemd/system/</code>.</p>
</div>
<div class="paragraph">
<p>Mount units are simple text files with the <code>.mount</code> extension. The basic format is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=

[Mount]
What=
Where=
Type=
Options=

[Install]
WantedBy=</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Description=</code></dt>
<dd>
<p>Short description of the mount unit, something like <code>Mounts the backup disk</code>.</p>
</dd>
<dt class="hdlist1"><code>What=</code></dt>
<dd>
<p>What should be mounted. The volume must be specified as <code>/dev/disk/by-uuid/VOL_UUID</code> where <code>VOL_UUID</code> is the UUID of the volume.</p>
</dd>
<dt class="hdlist1"><code>Where=</code></dt>
<dd>
<p>Should be the full path to where the volume should be mounted.</p>
</dd>
<dt class="hdlist1"><code>Type=</code></dt>
<dd>
<p>The filesystem type.</p>
</dd>
<dt class="hdlist1"><code>Options=</code></dt>
<dd>
<p>Mount options that you may wish to pass, these are the same used with the <code>mount</code> command or in <code>/etc/fstab</code>.</p>
</dd>
<dt class="hdlist1"><code>WantedBy=</code></dt>
<dd>
<p>Used for dependency management. In this case, we will use <code>multi-user.target</code>, which means that whenever the system boots into a multi-user environment (a normal boot) the unit will be mounted.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Our previous example of the external disk could be written as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=External data disk

[Mount]
What=/dev/disk/by-uuid/56C11DCC5D2E1334
Where=/mnt/external
Type=ntfs
Options=defaults

[Install]
WantedBy=multi-user.target</pre>
</div>
</div>
<div class="paragraph">
<p>But we are not done yet. To work correctly, the mount unit <em>must</em> have the same name as the mount point. In this case, the mount point is <code>/mnt/external</code>, so the file should be named <code>mnt-external.mount</code>.</p>
</div>
<div class="paragraph">
<p>After that, you need to restart the systemd daemon with the <code>systemctl</code> command, and start the unit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>systemctl daemon-reload</strong>
# <strong>systemctl start mnt-external.mount</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now the contents of the external disk should be available on <code>/mnt/external</code>. You can check the status of the mounting with the command <code>systemctl status mnt-external.mount</code>, like below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>systemctl status mnt-external.mount</strong>
● mnt-external.mount - External data disk
   Loaded: loaded (/etc/systemd/system/mnt-external.mount; disabled; vendor pres
   Active: active (mounted) since Mon 2019-08-19 22:27:02 -03; 14s ago
    Where: /mnt/external
     What: /dev/sdb1
    Tasks: 0 (limit: 4915)
   Memory: 128.0K
   CGroup: /system.slice/mnt-external.mount

ago 19 22:27:02 pop-os systemd[1]: Mounting External data disk...
ago 19 22:27:02 pop-os systemd[1]: Mounted External data disk.</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>systemctl start mnt-external.mount</code> command will only enable the unit for the current session. If you want to enable it on every boot, replace <code>start</code> with <code>enable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>systemctl enable mnt-external.mount</strong></pre>
</div>
</div>
<div class="sect3">
<h4 id="_automounting_a_mount_unit">Automounting a Mount Unit</h4>
<div class="paragraph">
<p>Mount units can be automounted whenever the mount point is accessed. To do this, you need an <code>.automount</code> file, alongside the <code>.mount</code> file describing the unit. The basic format is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=

[Automount]
Where=

[Install]
WantedBy=multi-user.target</pre>
</div>
</div>
<div class="paragraph">
<p>Like before, <code>Description=</code> is a short description of the file, and <code>Where=</code> is the mountpoint. For example, an <code>.automount</code> file for our previous example would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=Automount for the external data disk

[Automount]
Where=/mnt/external

[Install]
WantedBy=multi-user.target</pre>
</div>
</div>
<div class="paragraph">
<p>Save the file with the same name as the mount point (in this case, <code>mnt-external.automount</code>), reload systemd and start the unit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>systemctl daemon-reload</strong>
# <strong>systemctl start mnt-external.automount</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now whenever the <code>/mnt/external</code> directory is accessed, the disk will be mounted. Like before, to enable the automount on every boot you would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>systemctl enable mnt-external.automount</strong></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Using <code>mount</code>, how can you mount an <code>ext4</code> filesystem on <code>/dev/sdc1</code> to <code>/mnt/external</code> as read-only, using the <code>noatime</code> and <code>async</code> options?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When unmounting a filesystem at <code>/dev/sdd2</code>, you get the <code>target is busy</code> error message. How can you find out which files on the filesystem are open, and what processes opened them?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Consider the following entry in <code>/etc/fstab</code>: <code>/dev/sdb1  /data  ext4  noatime,noauto,async</code>. Will this filesystem be mounted if the command <code>mount -a</code> is issued? Why?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you find out the UUID of a filesystem under <code>/dev/sdb1</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you use <code>mount</code> to remount as read-only an exFAT filesystem with the UUID <code>6e2c12e3-472d-4bac-a257-c49ac07f3761</code>, mounted at <code>/mnt/data</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you get a list of all <code>ext3</code> and <code>ntfs</code> filesystems currently mounted on a system?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Consider the following entry in <code>/etc/fstab</code>: <code>/dev/sdc1  /backup  ext4 noatime,nouser,async</code>. Can a user mount this filesystem with the command <code>mount /backup</code>? Why?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Consider a remote filesystem mounted at <code>/mnt/server</code>, which has become unreachable due to a loss of network connectivity. How could you force it to be unmounted, or mounted as read-only if this is not possible?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Write an <code>/etc/fstab</code> entry that would mount a btrfs volume with the label <code>Backup</code> on <code>/mnt/backup</code>, with default options and without allowing the execution of binaries from it.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Consider the following systemd mount unit:</p>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=External data disk

[Mount]
What=/dev/disk/by-uuid/56C11DCC5D2E1334
Where=/mnt/external
Type=ntfs
Options=defaults

[Install]
WantedBy=multi-user.target</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>What would be an equivalent <code>/etc/fstab</code> entry for this filesystem?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>What should be the file name for the unit above, so it can be used by systemd? Where should it be placed?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson, you learned how to mount and unmount filesystems, manually or automatically. Some of the commands and concepts explained were:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mount</code> (mounts a device to a location)</p>
</li>
<li>
<p><code>umount</code> (unmounts a device)</p>
</li>
<li>
<p><code>lsof</code> (lists the processes accessing a filesystem)</p>
</li>
<li>
<p><code>/mnt</code> and <code>/media</code> directories</p>
</li>
<li>
<p><code>/etc/fstab</code></p>
</li>
<li>
<p><code>lsblk</code> (lists the type and UUID of a filesystem)</p>
</li>
<li>
<p>How to mount a filesystem using its UUID or label.</p>
</li>
<li>
<p>How to mount a filesystem using systemd mount units.</p>
</li>
<li>
<p>How to automount a filesystem using systemd mount units.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Using <code>mount</code>, how can you mount an <code>ext4</code> filesystem on <code>/dev/sdc1</code> to <code>/mnt/external</code> as read-only, using the <code>noatime</code> and <code>async</code> options?</p>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -t ext4 -o noatime,async,ro /dev/sdc1 /mnt/external</strong></pre>
</div>
</div>
</li>
<li>
<p>When unmounting a filesystem at <code>/dev/sdd2</code>, you get the <code>target is busy</code> error message. How can you find out which files on the filesystem are open, and what processes opened them?</p>
<div class="paragraph">
<p>Use <code>lsof</code> followed by the device name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>lsof /dev/sdd2</strong></pre>
</div>
</div>
</li>
<li>
<p>Consider the following entry in <code>/etc/fstab</code>: <code>/dev/sdb1  /data  ext4  noatime,noauto,async</code>. Will this filesystem be mounted if the command <code>mount -a</code> is issued? Why?</p>
<div class="paragraph">
<p>It will not be mounted. The key is the <code>noauto</code> parameter, which means this entry be ignored by <code>mount -a</code>.</p>
</div>
</li>
<li>
<p>How can you find out the UUID of a filesystem under <code>/dev/sdb1</code>?</p>
<div class="paragraph">
<p>Use <code>lsblk -f</code>, followed by the filesystem name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>lsblk -f /dev/sdb1</strong></pre>
</div>
</div>
</li>
<li>
<p>How can you use <code>mount</code> to remount as read-only an exFAT filesystem with the UUID <code>6e2c12e3-472d-4bac-a257-c49ac07f3761</code>, mounted at <code>/mnt/data</code>?</p>
<div class="paragraph">
<p>Since the filesystem is mounted, you do not need to worry about the filesystem type or the ID, just use the <code>remount</code> option with the <code>ro</code> (read-only) parameter and the mount point:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -o remount,ro /mnt/data</strong></pre>
</div>
</div>
</li>
<li>
<p>How can you get a list of all <code>ext3</code> and <code>ntfs</code> filesystems currently mounted on a system?</p>
<div class="paragraph">
<p>Use <code>mount -t</code>, followed by a comma-separated list of filesystems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>mount -t ext3,ntfs</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.104.3_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Consider the following entry in <code>/etc/fstab</code>: <code>/dev/sdc1  /backup  ext4 noatime,nouser,async</code>. Can a user mount this filesystem with the command <code>mount /backup</code>? Why?</p>
<div class="paragraph">
<p>No, the parameter <code>nouser</code> will not allow ordinary users to mount this filesystem.</p>
</div>
</li>
<li>
<p>Consider a remote filesystem mounted at <code>/mnt/server</code>, which has become unreachable due to a loss of network connectivity. How could you force it to be unmounted, or mounted as read-only if this is not possible?</p>
<div class="paragraph">
<p>Pass the <code>-f</code> and <code>-r</code> parameters to unmount. The command would be <code>umount -f -r /mnt/server</code>. Remember that you can group parameters, so <code>umount -fr /mnt/server</code> would also work.</p>
</div>
</li>
<li>
<p>Write an <code>/etc/fstab</code> entry that would mount an btrfs volume with the label <code>Backup</code> on <code>/mnt/backup</code>, with default options and without allowing the execution of binaries from it.</p>
<div class="paragraph">
<p>The line should be <code>LABEL=Backup  /mnt/backup  btrfs defaults,noexec</code></p>
</div>
</li>
<li>
<p>Consider the following systemd mount unit:</p>
<div class="listingblock">
<div class="content">
<pre>[Unit]
Description=External data disk

[Mount]
What=/dev/disk/by-uuid/56C11DCC5D2E1334
Where=/mnt/external
Type=ntfs
Options=defaults

[Install]
WantedBy=multi-user.target</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>What would be an equivalent <code>/etc/fstab</code> entry for this filesystem?</p>
<div class="paragraph">
<p>The entry would be: <code>UUID=56C11DCC5D2E1334 /mnt/external ntfs  defaults</code></p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>What should be the file name for the unit above, so it can be used by systemd? Where should it be placed?</p>
<div class="paragraph">
<p>The filename must be the same as the mount point, so <code>mnt-external.mount</code>, placed in <code>/etc/systemd/system</code>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">104.5 Manage file permissions and ownership (104.5 Lesson 1)</p>

        <div class="button-group">
            <a href="../../104.5/104.5_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
