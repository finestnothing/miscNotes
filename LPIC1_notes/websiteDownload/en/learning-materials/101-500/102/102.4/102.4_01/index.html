

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>102.4 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="de"
      >Deutsch</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="it"
      >Italiano</option>
  
    <option value="fr"
      >Français</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">102.4 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 101: System Architecture
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../101/101.1/index.html" class="hierarchy__link">101.1 Determine and configure hardware settings</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.1/101.1_01/index.html" class="hierarchy__link">101.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.2/index.html" class="hierarchy__link">101.2 Boot the system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.2/101.2_01/index.html" class="hierarchy__link">101.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.3/index.html" class="hierarchy__link">101.3 Change runlevels / boot targets and shutdown or reboot system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.3/101.3_01/index.html" class="hierarchy__link">101.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 102: Linux Installation and Package Management
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../102.1/index.html" class="hierarchy__link">102.1 Design hard disk layout</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.1/102.1_01/index.html" class="hierarchy__link">102.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.2/index.html" class="hierarchy__link">102.2 Install a boot manager</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.2/102.2_01/index.html" class="hierarchy__link">102.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.3/index.html" class="hierarchy__link">102.3 Manage shared libraries</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.3/102.3_01/index.html" class="hierarchy__link">102.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">102.4 Use Debian package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">102.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.5/index.html" class="hierarchy__link">102.5 Use RPM and YUM package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.5/102.5_01/index.html" class="hierarchy__link">102.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.6/index.html" class="hierarchy__link">102.6 Linux as a virtualization guest</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.6/102.6_01/index.html" class="hierarchy__link">102.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 103: GNU and Unix Commands
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../103/103.1/index.html" class="hierarchy__link">103.1 Work on the command line</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_01/index.html" class="hierarchy__link">103.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_02/index.html" class="hierarchy__link">103.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.2/index.html" class="hierarchy__link">103.2 Process text streams using filters</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.2/103.2_01/index.html" class="hierarchy__link">103.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.3/index.html" class="hierarchy__link">103.3 Perform basic file management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_01/index.html" class="hierarchy__link">103.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_02/index.html" class="hierarchy__link">103.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.4/index.html" class="hierarchy__link">103.4 Use streams, pipes and redirects</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_01/index.html" class="hierarchy__link">103.4 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_02/index.html" class="hierarchy__link">103.4 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.5/index.html" class="hierarchy__link">103.5 Create, monitor and kill processes</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_01/index.html" class="hierarchy__link">103.5 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_02/index.html" class="hierarchy__link">103.5 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.6/index.html" class="hierarchy__link">103.6 Modify process execution priorities</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.6/103.6_01/index.html" class="hierarchy__link">103.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.7/index.html" class="hierarchy__link">103.7 Search text files using regular expressions</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_01/index.html" class="hierarchy__link">103.7 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_02/index.html" class="hierarchy__link">103.7 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.8/index.html" class="hierarchy__link">103.8 Basic file editing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.8/103.8_01/index.html" class="hierarchy__link">103.8 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../104/104.1/index.html" class="hierarchy__link">104.1 Create partitions and filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.1/104.1_01/index.html" class="hierarchy__link">104.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.2/index.html" class="hierarchy__link">104.2 Maintain the integrity of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.2/104.2_01/index.html" class="hierarchy__link">104.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.3/index.html" class="hierarchy__link">104.3 Control mounting and unmounting of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.3/104.3_01/index.html" class="hierarchy__link">104.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.5/index.html" class="hierarchy__link">104.5 Manage file permissions and ownership</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.5/104.5_01/index.html" class="hierarchy__link">104.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.6/index.html" class="hierarchy__link">104.6 Create and change hard and symbolic links</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.6/104.6_01/index.html" class="hierarchy__link">104.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.7/index.html" class="hierarchy__link">104.7 Find system files and place files in the correct location</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.7/104.7_01/index.html" class="hierarchy__link">104.7 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 102: Linux Installation and Package Management</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">102.4 Use Debian package management</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">102.4 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>102.4 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">102 Linux Installation and Package Management</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">102.4 Use Debian package management</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A long time ago, when Linux was still in its infancy, the most common way to distribute software was a compressed file (usually a <code>.tar.gz</code> archive) with source code, which you would unpack and compile yourself.</p>
</div>
<div class="paragraph">
<p>However, as the amount and complexity of software grew, the need for a way to distribute pre-compiled software became clear. After all, not everyone had the resources, both in time and computing power, to compile large projects like the Linux kernel or an X Server.</p>
</div>
<div class="paragraph">
<p>Soon, efforts to standardize a way to distribute these software &#8220;packages&#8221; grew, and the first package managers were born. These tools made it much easier to install, configure or remove software from a system.</p>
</div>
<div class="paragraph">
<p>One of those was the Debian package format (<code>.deb</code>) and its package tool (<code>dpkg</code>). Today, they are widely used not only on Debian itself, but also on its derivatives, like Ubuntu and those derived from it.</p>
</div>
<div class="paragraph">
<p>Another package management tool that is popular on Debian-based systems is the <em>Advanced Package Tool</em> (<code>apt</code>), which can streamline many of the aspects of the installation, maintenance and removal of packages, making it much easier.</p>
</div>
<div class="paragraph">
<p>In this lesson, we will learn how to use both <code>dpkg</code> and <code>apt</code> to obtain, install, maintain and remove software on a Debian-based Linux system.</p>
</div>
<div class="sect2">
<h3 id="_the_debian_package_tool_dpkg">The Debian Package Tool (dpkg)</h3>
<div class="paragraph">
<p>The <em>Debian Package</em> (<code>dpkg</code>) tool is the essential utility to install, configure, maintain and remove software packages on Debian-based systems. The most basic operation is to install a <code>.deb</code> package, which can be done with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dkpg -i PACKAGENAME</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>PACKAGENAME</code> is the name of the <code>.deb</code> file you want to install.</p>
</div>
<div class="paragraph">
<p>Package upgrades are handled the same way. Before installing a package, <code>dpkg</code> will check if a previous version already exists in the system. If so, the package will be upgraded to the new version. If not, a fresh copy will be installed.</p>
</div>
<div class="sect3">
<h4 id="_dealing_with_dependencies">Dealing with Dependencies</h4>
<div class="paragraph">
<p>More often than not, a package may depend on others to work as intended. For example, an image editor may need libraries to open JPEG files, or another utility may need a widget toolkit like Qt or GTK for its user interface.</p>
</div>
<div class="paragraph">
<p><code>dpkg</code> will check if those dependencies are installed on your system, and will fail to install the package if they are not. In this case, <code>dpkg</code> will list which packages are missing. However it <em>cannot</em> solve dependencies by itself. It is up to the user to find the <code>.deb</code> packages with the corresponding dependencies and install them.</p>
</div>
<div class="paragraph">
<p>In the example below, the user tries to install the OpenShot video editor package, but some dependencies were missing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -i openshot-qt_2.4.3+dfsg1-1_all.deb</strong>
(Reading database ... 269630 files and directories currently installed.)
Preparing to unpack openshot-qt_2.4.3+dfsg1-1_all.deb ...
Unpacking openshot-qt (2.4.3+dfsg1-1) over (2.4.3+dfsg1-1) ...
<strong>dpkg: dependency problems prevent configuration of openshot-qt:</strong>
 openshot-qt depends on fonts-cantarell; however:
  Package fonts-cantarell is not installed.
 openshot-qt depends on python3-openshot; however:
  Package python3-openshot is not installed.
 openshot-qt depends on python3-pyqt5; however:
  Package python3-pyqt5 is not installed.
 openshot-qt depends on python3-pyqt5.qtsvg; however:
  Package python3-pyqt5.qtsvg is not installed.
 openshot-qt depends on python3-pyqt5.qtwebkit; however:
  Package python3-pyqt5.qtwebkit is not installed.
 openshot-qt depends on python3-zmq; however:
  Package python3-zmq is not installed.

<strong>dpkg: error processing package openshot-qt (--install):</strong>
 dependency problems - leaving unconfigured
Processing triggers for mime-support (3.60ubuntu1) ...
Processing triggers for gnome-menus (3.32.0-1ubuntu1) ...
Processing triggers for desktop-file-utils (0.23-4ubuntu1) ...
Processing triggers for hicolor-icon-theme (0.17-2) ...
Processing triggers for man-db (2.8.5-2) ...
Errors were encountered while processing:
 openshot-qt</pre>
</div>
</div>
<div class="paragraph">
<p>As shown above, OpenShot depends on the <code>fonts-cantarell</code>, <code>python3-openshot</code>, <code>python3-pyqt5</code>, <code>python3-pyqt5.qtsvg</code>, <code>python3-pyqt5.qtwebkit</code> and <code>python3-zmq</code> packages. All of those need to be installed before the installation of OpenShot can succeed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_removing_packages">Removing Packages</h4>
<div class="paragraph">
<p>To remove a package, pass the <code>-r</code> parameter to <code>dpkg</code>, followed by the package name. For example, the following command will remove the <code>unrar</code> package from the system:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -r unrar</strong>
(Reading database ... 269630 files and directories currently installed.)
Removing unrar (1:5.6.6-2) ...
Processing triggers for man-db (2.8.5-2) ...</pre>
</div>
</div>
<div class="paragraph">
<p>The removal operation also runs a dependency check, and a package cannot be removed unless every other package that depends on it is also removed. If you try to do so, you will get an error message like the one below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -r p7zip</strong>
dpkg: dependency problems prevent removal of p7zip:
 winetricks depends on p7zip; however:
  Package p7zip is to be removed.
 p7zip-full depends on p7zip (= 16.02+dfsg-6).

dpkg: error processing package p7zip (--remove):
 dependency problems - not removing
Errors were encountered while processing:
 p7zip</pre>
</div>
</div>
<div class="paragraph">
<p>You can pass multiple package names to <code>dpkg -r</code>, so they will all be removed at once.</p>
</div>
<div class="paragraph">
<p>When a package is removed, the corresponding configuration files are left on the system. If you want to remove <em>everything</em> associated with the package, use the <code>-P</code> (purge) option instead of <code>-r</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can force <code>dpkg</code> to install or remove a package, even if dependencies are not met, by adding the <code>--force</code> parameter like in <code>dpkg -i --force PACKAGENAME</code>. However, doing so will most likely leave the installed package, or even your system, in a broken state. <em>Do not</em> use <code>--force</code> unless you are absolutely sure of what you are doing.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_getting_package_information">Getting Package Information</h4>
<div class="paragraph">
<p>To get information about a <code>.deb</code> package, such as its version, architecture, maintainer, dependencies and more, use the <code>dpkg</code> command with the <code>-I</code> parameter, followed by the filename of the package you want to inspect:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -I google-chrome-stable_current_amd64.deb</strong>
 new Debian package, version 2.0.
 size 59477810 bytes: control archive=10394 bytes.
    1222 bytes,    13 lines      control
   16906 bytes,   457 lines   *  postinst             #!/bin/sh
   12983 bytes,   344 lines   *  postrm               #!/bin/sh
    1385 bytes,    42 lines   *  prerm                #!/bin/sh
 Package: google-chrome-stable
 Version: 76.0.3809.100-1
 Architecture: amd64
 Maintainer: Chrome Linux Team &lt;chromium-dev@chromium.org&gt;
 Installed-Size: 205436
 Pre-Depends: dpkg (&gt;= 1.14.0)
 Depends: ca-certificates, fonts-liberation, libappindicator3-1, libasound2 (&gt;= 1.0.16), libatk-bridge2.0-0 (&gt;= 2.5.3), libatk1.0-0 (&gt;= 2.2.0), libatspi2.0-0 (&gt;= 2.9.90), libc6 (&gt;= 2.16), libcairo2 (&gt;= 1.6.0), libcups2 (&gt;= 1.4.0), libdbus-1-3 (&gt;= 1.5.12), libexpat1 (&gt;= 2.0.1), libgcc1 (&gt;= 1:3.0), libgdk-pixbuf2.0-0 (&gt;= 2.22.0), libglib2.0-0 (&gt;= 2.31.8), libgtk-3-0 (&gt;= 3.9.10), libnspr4 (&gt;= 2:4.9-2~), libnss3 (&gt;= 2:3.22), libpango-1.0-0 (&gt;= 1.14.0), libpangocairo-1.0-0 (&gt;= 1.14.0), libuuid1 (&gt;= 2.16), libx11-6 (&gt;= 2:1.4.99.1), libx11-xcb1, libxcb1 (&gt;= 1.6), libxcomposite1 (&gt;= 1:0.3-1), libxcursor1 (&gt;&gt; 1.1.2), libxdamage1 (&gt;= 1:1.1), libxext6, libxfixes3, libxi6 (&gt;= 2:1.2.99.4), libxrandr2 (&gt;= 2:1.2.99.3), libxrender1, libxss1, libxtst6, lsb-release, wget, xdg-utils (&gt;= 1.0.2)
 Recommends: libu2f-udev
 Provides: www-browser
 Section: web
 Priority: optional
 Description: The web browser from Google
  Google Chrome is a browser that combines a minimal design with sophisticated technology to make the web faster, safer, and easier.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_listing_installed_packages_and_package_contents">Listing Installed Packages and Package Contents</h4>
<div class="paragraph">
<p>To get a list of every package installed on your system, use the <code>--get-selections</code> option, as in <code>dpkg --get-selections</code>. You can also get a list of every file installed by a specific package by passing the <code>-L PACKAGENAME</code> parameter to <code>dpkg</code>, like below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -L unrar</strong>
/.
/usr
/usr/bin
/usr/bin/unrar-nonfree
/usr/share
/usr/share/doc
/usr/share/doc/unrar
/usr/share/doc/unrar/changelog.Debian.gz
/usr/share/doc/unrar/copyright
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/unrar-nonfree.1.gz</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_finding_out_which_package_owns_a_specific_file">Finding Out Which Package Owns a Specific File</h4>
<div class="paragraph">
<p>Sometimes you may need to find out which package owns a specific file in your system. You can do so by using the <code>dpkg-query</code> utility, followed by the <code>-S</code> parameter and the path to the file in question:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg-query -S /usr/bin/unrar-nonfree</strong>
unrar: /usr/bin/unrar-nonfree</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reconfiguring_installed_packages">Reconfiguring Installed Packages</h4>
<div class="paragraph">
<p>When a package is installed there is a configuration step called <em>post-install</em> where a script runs to set-up everything needed for the software to run such as permissions, placement of configuration files, etc. This may also ask some questions of the user to set preferences on how the software will run.</p>
</div>
<div class="paragraph">
<p>Sometimes, due to a corrupt or malformed configuration file, you may wish to restore a package&#8217;s settings to its &#8220;fresh&#8221; state. Or you may wish to change the answers you gave to the initial configuration questions. To do this run the <code>dpkg-reconfigure</code> utility, followed by the package name.</p>
</div>
<div class="paragraph">
<p>This program will back-up the old configuration files, unpack the new ones in the correct directories and run the <em>post-install</em> script provided by the package, as if the package had been installed for the first time. Try to reconfigure the <code>tzdata</code> package with the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg-reconfigure tzdata</strong></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_advanced_package_tool_apt">Advanced Package Tool (apt)</h3>
<div class="paragraph">
<p>The <em>Advanced Package Tool</em> (APT) is a package management system, including a set of tools, that greatly simplifies package installation, upgrade, removal and management. APT provides features like advanced search capabilities and automatic dependency resolution.</p>
</div>
<div class="paragraph">
<p>APT is not a &#8220;substitute&#8221; for <code>dpkg</code>. You may think of it as a &#8220;front end&#8221;, streamlining operations and filling gaps in <code>dpkg</code> functionality, like dependency resolution.</p>
</div>
<div class="paragraph">
<p>APT works in concert with software repositories which contain the packages available to install. Such repositories may be a local or remote server, or (less common) even a CD-ROM disc.</p>
</div>
<div class="paragraph">
<p>Linux distributions, such as Debian and Ubuntu, maintain their own repositories, and other repositories may be maintained by developers or user groups to provide software not available from the main distribution repositories.</p>
</div>
<div class="paragraph">
<p>There are many utilities that interact with APT, the main ones being:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>apt-get</code></dt>
<dd>
<p>used to download, install, upgrade or remove packages from the system.</p>
</dd>
<dt class="hdlist1"><code>apt-cache</code></dt>
<dd>
<p>used to perform operations, like searches, in the package index.</p>
</dd>
<dt class="hdlist1"><code>apt-file</code></dt>
<dd>
<p>used for searching for files inside packages.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>There is also a &#8220;friendlier&#8221; utility named simply <code>apt</code>, combining the most used options of <code>apt-get</code> and <code>apt-cache</code> in one utility. Many of the commands for <code>apt</code> are the same as the ones for <code>apt-get</code>, so they are in many cases interchangeable. However, since <code>apt</code> may not be installed on a system, it is recommended to learn how to use <code>apt-get</code> and <code>apt-cache</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>apt</code> and <code>apt-get</code> may require a network connection, because packages and package indexes may need to be downloaded from a remote server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_updating_the_package_index">Updating the Package Index</h4>
<div class="paragraph">
<p>Before installing or upgrading software with APT, it is recommended to update the package index first in order to retrieve information about new and updated packages. This is done with the <code>apt-get</code> command, followed by the <code>update</code> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get update</strong>
Ign:1 http://dl.google.com/linux/chrome/deb stable InRelease
Hit:2 https://repo.skype.com/deb stable InRelease
Hit:3 http://us.archive.ubuntu.com/ubuntu disco InRelease
Hit:4 http://repository.spotify.com stable InRelease
Hit:5 http://dl.google.com/linux/chrome/deb stable Release
Hit:6 http://apt.pop-os.org/proprietary disco InRelease
Hit:7 http://ppa.launchpad.net/system76/pop/ubuntu disco InRelease
Hit:8 http://us.archive.ubuntu.com/ubuntu disco-security InRelease
Hit:9 http://us.archive.ubuntu.com/ubuntu disco-updates InRelease
Hit:10 http://us.archive.ubuntu.com/ubuntu disco-backports InRelease
Reading package lists... Done</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of <code>apt-get update</code>, you can also use <code>apt update</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_installing_and_removing_packages">Installing and Removing Packages</h4>
<div class="paragraph">
<p>With the package index updated you may now install a package. This is done with <code>apt-get install</code>, followed by the name of the package you wish to install:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get install xournal</strong>
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following NEW packages will be installed:
  xournal
0 upgraded, 1 newly installed, 0 to remove and 75 not upgraded.
Need to get 285 kB of archives.
After this operation, 1041 kB of additional disk space will be used.</pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, to remove a package use <code>apt-get remove</code>, followed by the package name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get remove xournal</strong>
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages will be REMOVED:
  xournal
0 upgraded, 0 newly installed, 1 to remove and 75 not upgraded.
After this operation, 1041 kB disk space will be freed.
Do you want to continue? [Y/n]</pre>
</div>
</div>
<div class="paragraph">
<p>Be aware that when installing or removing packages, APT will do automatic dependency resolution. This means that any additional packages needed by the package you are installing <em>will also be installed</em>, and that packages that depend on the package you are removing <em>will also be removed</em>. APT will always show what will be installed or removed before asking if you want to continue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get remove p7zip</strong>
Reading package lists... Done
Building dependency tree
<strong>The following packages will be REMOVED:
  android-libbacktrace android-libunwind android-libutils
  android-libziparchive android-sdk-platform-tools fastboot p7zip p7zip-full</strong>
0 upgraded, 0 newly installed, 8 to remove and 75 not upgraded.
After this operation, 6545 kB disk space will be freed.
Do you want to continue? [Y/n]</pre>
</div>
</div>
<div class="paragraph">
<p>Note that when a package is removed the corresponding configuration files are left on the system. To remove the package <em>and</em> any configuration files, use the <code>purge</code> parameter instead of <code>remove</code> or the <code>remove</code> parameter with the <code>--purge</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get purge p7zip</strong></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get remove --purge p7zip</strong></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt install</code> and <code>apt remove</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_fixing_broken_dependencies">Fixing Broken Dependencies</h4>
<div class="paragraph">
<p>It is possible to have &#8220;broken dependencies&#8221; on a system. This means that one or more of the installed packages depend on other packages that have not been installed, or are not present anymore. This may happen due to an APT error, or because of a manually installed package.</p>
</div>
<div class="paragraph">
<p>To solve this, use the <code>apt-get install -f</code> command. This will try to &#8220;fix&#8221; the broken packages by installing the missing dependencies, ensuring that all packages are consistent again.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt install -f</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_upgrading_packages">Upgrading Packages</h4>
<div class="paragraph">
<p>APT can be used to automatically upgrade any installed packages to the latest versions available from the repositories. This is done with the <code>apt-get upgrade</code> command. Before running it, first update the package index with <code>apt-get update</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get update</strong>
Hit:1 http://us.archive.ubuntu.com/ubuntu disco InRelease
Hit:2 http://us.archive.ubuntu.com/ubuntu disco-security InRelease
Hit:3 http://us.archive.ubuntu.com/ubuntu disco-updates InRelease
Hit:4 http://us.archive.ubuntu.com/ubuntu disco-backports InRelease
Reading package lists... Done

# <strong>apt-get upgrade</strong>
Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following packages have been kept back:
  gnome-control-center
The following packages will be upgraded:
  cups cups-bsd cups-client cups-common cups-core-drivers cups-daemon
  cups-ipp-utils cups-ppdc cups-server-common firefox-locale-ar (...)

74 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
Need to get 243 MB of archives.
After this operation, 30.7 kB of additional disk space will be used.
Do you want to continue? [Y/n]</pre>
</div>
</div>
<div class="paragraph">
<p>The summary at the bottom of the output shows how many packages will be upgraded, how many will be installed, removed or kept back, the total download size and how much extra disk space will be needed to complete the operation. To complete the upgrade, just answer <code>Y</code> and wait for <code>apt-get</code> to finish the task.</p>
</div>
<div class="paragraph">
<p>To upgrade a single package, just run <code>apt-get upgrade</code> followed by the package name. As in <code>dpkg</code>, <code>apt-get</code> will first check if a previous version of a package is installed. If so, the package will be upgraded to the newest version available in the repository. If not, a fresh copy will be installed.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt upgrade</code> and <code>apt update</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_the_local_cache">The Local Cache</h4>
<div class="paragraph">
<p>When you install or update a package, the corresponding <code>.deb</code> file is downloaded to a local cache directory before the package is installed. By default, this directory is <code>/var/cache/apt/archives</code>. Partially downloaded files are copied to <code>/var/cache/apt/archives/partial/</code>.</p>
</div>
<div class="paragraph">
<p>As you install and upgrade packages, the cache directory can get quite large. To reclaim space, you can empty the cache by using the <code>apt-get clean</code> command. This will remove the contents of the <code>/var/cache/apt/archives</code> and <code>/var/cache/apt/archives/partial/</code> directories.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt clean</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_searching_for_packages">Searching for Packages</h4>
<div class="paragraph">
<p>The <code>apt-cache</code> utility can be used to perform operations on the package index, such as searching for a specific package or listing which packages contain a specific file.</p>
</div>
<div class="paragraph">
<p>To conduct a search, use <code>apt-cache search</code> followed by a search pattern. The output will be a list of every package that contains the pattern, either in its package name, description or files provided.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-cache search p7zip</strong>
liblzma-dev - XZ-format compression library - development files
liblzma5 - XZ-format compression library
forensics-extra - Forensics Environment - extra console components (metapackage)
p7zip - 7zr file archiver with high compression ratio
p7zip-full - 7z and 7za file archivers with high compression ratio
p7zip-rar - non-free rar module for p7zip</pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, the entry <code>liblzma5 - XZ-format compression library</code> does not seem to match the pattern. However, if we show the full information, including description, for the package using the <code>show</code> parameter, we will find the pattern there:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-cache show liblzma5</strong>
Package: liblzma5
Architecture: amd64
Version: 5.2.4-1
Multi-Arch: same
Priority: required
Section: libs
Source: xz-utils
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: Jonathan Nieder &lt;jrnieder@gmail.com&gt;
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 259
Depends: libc6 (&gt;= 2.17)
Breaks: liblzma2 (&lt;&lt; 5.1.1alpha+20110809-3~)
Filename: pool/main/x/xz-utils/liblzma5_5.2.4-1_amd64.deb
Size: 92352
MD5sum: 223533a347dc76a8cc9445cfc6146ec3
SHA1: 8ed14092fb1caecfebc556fda0745e1e74ba5a67
SHA256: 01020b5a0515dbc9a7c00b464a65450f788b0258c3fbb733ecad0438f5124800
Homepage: https://tukaani.org/xz/
Description-en: XZ-format compression library
 XZ is the successor to the Lempel-Ziv/Markov-chain Algorithm
 compression format, which provides memory-hungry but powerful
 compression (often better than bzip2) and fast, easy decompression.
 .
 The native format of liblzma is XZ; it also supports raw (headerless)
 streams and the older LZMA format used by lzma. (For 7-Zip's related
 format, use the <strong>p7zip</strong> package instead.)</pre>
</div>
</div>
<div class="paragraph">
<p>You can use <em>regular expressions</em> with the search pattern, allowing for very complex (and precise) searches. However, this topic is out of scope for this lesson.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt search</code> instead of <code>apt-cache search</code> and <code>apt show</code> instead of <code>apt-cache show</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_the_sources_list">The Sources List</h4>
<div class="paragraph">
<p>APT uses a list of sources to know where to get packages from. This list is stored in the file <code>sources.list</code>, located inside the <code>/etc/apt</code> directory. This file can be edited directly with a text editor, like <code>vi</code>, <code>pico</code> or <code>nano</code>, or with graphical utilities like <code>aptitude</code> or <code>synaptic</code>.</p>
</div>
<div class="paragraph">
<p>A typical line inside <code>sources.list</code> looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>deb http://us.archive.ubuntu.com/ubuntu/ disco main restricted universe multiverse</pre>
</div>
</div>
<div class="paragraph">
<p>The syntax is archive type, URL, distribution and one or more components, where:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Archive type</dt>
<dd>
<p>A repository may contain packages with ready-to-run software (binary packages, type <code>deb</code>) or with the source code to this software (source packages, type <code>deb-src</code>). The example above provides binary packages.</p>
</dd>
<dt class="hdlist1">URL</dt>
<dd>
<p>The URL for the repository.</p>
</dd>
<dt class="hdlist1">Distribution</dt>
<dd>
<p>The name (or codename) for the distribution for which packages are provided. One repository may host packages for multiple distributions. In the example above, <code>disco</code> is the codename for Ubuntu 19.04 <em>Disco Dingo</em>.</p>
</dd>
<dt class="hdlist1">Components</dt>
<dd>
<p>Each component represents a set of packages. These components may be different on different Linux distributions. For example, on Ubuntu and derivatives, they are:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>main</code></dt>
<dd>
<p>contains officially supported, open-source packages.</p>
</dd>
<dt class="hdlist1"><code>restricted</code></dt>
<dd>
<p>contains officially supported, closed-source software, like device drivers for graphic cards, for example.</p>
</dd>
<dt class="hdlist1"><code>universe</code></dt>
<dd>
<p>contains community maintained open-source software.</p>
</dd>
<dt class="hdlist1"><code>multiverse</code></dt>
<dd>
<p>contains unsupported, closed-source or patent-encumbered software.</p>
<div class="paragraph">
<p>On Debian, the main components are:</p>
</div>
</dd>
<dt class="hdlist1"><code>main</code></dt>
<dd>
<p>consists of packages compliant with the <em>Debian Free Software Guidelines</em> (DFSG), which do not rely on software outside this area to operate. Packages included here are considered to be part of the Debian distribution.</p>
</dd>
<dt class="hdlist1"><code>contrib</code></dt>
<dd>
<p>contains DFSG-compliant packages, but which depend on other packages that are not in <code>main</code>.</p>
</dd>
<dt class="hdlist1"><code>non-free</code></dt>
<dd>
<p>contains packages that are not compliant with the DFSG.</p>
</dd>
<dt class="hdlist1"><code>security</code></dt>
<dd>
<p>contains security updates.</p>
</dd>
<dt class="hdlist1"><code>backports</code></dt>
<dd>
<p>contains more recent versions of packages that are in <code>main</code>. The development cycle of the stable versions of Debian is quite long (around two years), and this ensures that users can get the most up-to-date packages without having to modify the <code>main</code> core repository.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can learn more about the <em>Debian Free Software Guidelines</em> at: <a href="https://www.debian.org/social_contract#guidelines" class="bare">https://www.debian.org/social_contract#guidelines</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To add a new repository to get packages from, you can simply add the corresponding line (usually provided by the repository maintainer) to the end of <code>sources.list</code>, save the file and reload the package index with <code>apt-get update</code>. After that, the packages in the new repository will be available for installation using <code>apt-get install</code>.</p>
</div>
<div class="paragraph">
<p>Keep in mind that lines starting with the <code>#</code> character are considered comments, and are ignored.</p>
</div>
<div class="sect4">
<h5 id="_the_etcaptsources_list_d_directory">The <code>/etc/apt/sources.list.d</code> Directory</h5>
<div class="paragraph">
<p>Inside the <code>/etc/apt/sources.list.d</code> directory you can add files with additional repositories to be used by APT, without the need to modify the main <code>/etc/apt/sources.list</code> file. These are simple text files, with the same syntax described above and the <code>.list</code> file extension.</p>
</div>
<div class="paragraph">
<p>Below you see the contents of a file called <code>/etc/apt/sources.list.d/buster-backports.list</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>deb http://deb.debian.org/debian buster-backports main contrib non-free
deb-src http://deb.debian.org/debian buster-backports main contrib non-free</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_listing_package_contents_and_finding_files">Listing Package Contents and Finding Files</h5>
<div class="paragraph">
<p>A utility called <code>apt-file</code> can be used to perform more operations in the package index, like listing the contents of a package or finding a package that contains a specific file. This utility may not be installed by default in your system. In this case, you can usually install it using <code>apt-get</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-get install apt-file</strong></pre>
</div>
</div>
<div class="paragraph">
<p>After installation, you will need to update the package cache used for <code>apt-file</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-file update</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This usually takes only a few seconds. After that, you are ready to use <code>apt-file</code>.</p>
</div>
<div class="paragraph">
<p>To list the contents of a package, use the <code>list</code> parameter followed by the package name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-file list unrar</strong>
unrar: /usr/bin/unrar-nonfree
unrar: /usr/share/doc/unrar/changelog.Debian.gz
unrar: /usr/share/doc/unrar/copyright
unrar: /usr/share/man/man1/unrar-nonfree.1.gz</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can also use <code>apt list</code> instead of <code>apt-file list</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can search all packages for a file using the <code>search</code> parameter, followed by the file name. For example, if you wish to know which package provides a file called <code>libSDL2.so</code>, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-file search libSDL2.so</strong>
libsdl2-dev: /usr/lib/x86_64-linux-gnu/libSDL2.so</pre>
</div>
</div>
<div class="paragraph">
<p>The answer is the package <code>libsdl2-dev</code>, which provides the file <code>/usr/lib/x86_64-linux-gnu/libSDL2.so</code>.</p>
</div>
<div class="paragraph">
<p>The difference between <code>apt-file search</code> and <code>dpkg-query</code> is that <code>apt-file search</code> will also search uninstalled packages, while <code>dpkg-query</code> can only show files that belong to an installed package.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What is the command to install a package named <code>package.deb</code> using <code>dpkg</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Using <code>dpkg-query</code>, find which package contains a file named <code>7zr.1.gz</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Can you remove a package called <code>unzip</code> from the system using <code>dpkg -r unzip</code> if the package <code>file-roller</code> depends on it? If not, what would be the correct way to do it?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Using <code>apt-file</code>, how can you find out which package contains the file <code>unrar</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Using <code>apt-cache</code>, what is the command to show information for the package <code>gimp</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Consider a repository with Debian source packages for the <code>xenial</code> distribution, hosted at <code>http://us.archive.ubuntu.com/ubuntu/</code> and with packages for the <code>universe</code> component. What would be the corresponding line to be added to <code>/etc/apt/sources.list</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>While compiling a program, you come across an error message complaining that the header file <code>zzip-io.h</code> is not present in your system. How can you find out with package provides that file?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you ignore a dependency warning and remove a package using <code>dpkg</code>, even if there are packages that depend on it in the system?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you get more information about a package called <code>midori</code> using <code>apt</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Before installing or updating packages with <code>apt</code>, which command should be used to ensure that the package index is up-to-date?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson, you learned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How to use <code>dpkg</code> to install and remove packages.</p>
</li>
<li>
<p>How to list installed packages and package contents.</p>
</li>
<li>
<p>How to reconfigure an installed package.</p>
</li>
<li>
<p>What is <code>apt</code>, and how to install, upgrade and remove packages using it.</p>
</li>
<li>
<p>How to use <code>apt-cache</code> to search for packages.</p>
</li>
<li>
<p>How the <code>/etc/apt/sources.list</code> file works.</p>
</li>
<li>
<p>How to use <code>apt-file</code> to show the contents of a package, or how to find which package contains a specific file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following commands were discussed:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>dpkg -i</code></dt>
<dd>
<p>Installs a single package, or a space-separated list of packages.</p>
</dd>
<dt class="hdlist1"><code>dpkg -r</code></dt>
<dd>
<p>Removes a package, or a space-separated list of packages.</p>
</dd>
<dt class="hdlist1"><code>dpkg -I</code></dt>
<dd>
<p>Inspects a package, providing details on the software it installs and any needed dependencies.</p>
</dd>
<dt class="hdlist1"><code>dpkg --get-selections</code></dt>
<dd>
<p>Lists out every package that <code>dpkg</code> has installed on the system.</p>
</dd>
<dt class="hdlist1"><code>dpkg -L</code></dt>
<dd>
<p>Prints out a list of every file that a particular package installs.</p>
</dd>
<dt class="hdlist1"><code>dpkg-query</code></dt>
<dd>
<p>With a specified file name, this command will print out the package that installed the file.</p>
</dd>
<dt class="hdlist1"><code>dpkg-reconfigure</code></dt>
<dd>
<p>This command will re-run a packages <em>post-install</em> script so that an administrator can make configuration adjustments to the package&#8217;s installation.</p>
</dd>
<dt class="hdlist1"><code>apt-get update</code></dt>
<dd>
<p>This command will update the local package index to match what is available within the configured repositories under the <code>/etc/apt/</code> directory.</p>
</dd>
<dt class="hdlist1"><code>apt-get install</code></dt>
<dd>
<p>This command will download a package from a remote repository and install it along with its dependencies, can also be used to install a Debian package that has already been downloaded.</p>
</dd>
<dt class="hdlist1"><code>apt-get remove</code></dt>
<dd>
<p>This command will uninstall the specified package(s) from the system.</p>
</dd>
<dt class="hdlist1"><code>apt-cache show</code></dt>
<dd>
<p>Just like the <code>dpkg -I</code> command, this command can be used to show details on a specific package.</p>
</dd>
<dt class="hdlist1"><code>apt-cache search</code></dt>
<dd>
<p>This command will search your local APT cached database for a particular package.</p>
</dd>
<dt class="hdlist1"><code>apt-file update</code></dt>
<dd>
<p>This command will update the package cache so that the <code>apt-file</code> command can query its contents.</p>
</dd>
<dt class="hdlist1"><code>apt-file search</code></dt>
<dd>
<p>This command will search in which package a file is included. A list of all packages containing the pattern is returned.</p>
</dd>
<dt class="hdlist1"><code>apt-file list</code></dt>
<dd>
<p>This command is used to list the contents of a package, just like the <code>dpkg -L</code> command.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What is the command to install a package named <code>package.deb</code> using <code>dpkg</code>?</p>
<div class="paragraph">
<p>Pass the <code>-i</code> parameter to <code>dpkg</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -i package.deb</strong></pre>
</div>
</div>
</li>
<li>
<p>Using <code>dpkg-query</code>, find which package contains a file named <code>7zr.1.gz</code>.</p>
<div class="paragraph">
<p>Add the <code>-S</code> parameter to <code>dpkg-query</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg-query -S 7zr.1.gz</strong></pre>
</div>
</div>
</li>
<li>
<p>Can you remove a package called <code>unzip</code> from the system using <code>dpkg -r unzip</code> if the package <code>file-roller</code> depends on it? If not, what would be the correct way to do it?</p>
<div class="paragraph">
<p>No. <code>dpkg</code> will not resolve dependencies, and will not let you remove a package if another installed package depends on it. In this example, you could first remove <code>file-roller</code> (assuming nothing depends on it) and then remove <code>unzip</code>, or remove both at the same time with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>dpkg -r unzip file-roller</strong></pre>
</div>
</div>
</li>
<li>
<p>How can you find out which package contains the file <code>/usr/bin/unrar</code> using the <code>apt-file</code> utility?</p>
<div class="paragraph">
<p>Use the <code>search</code> parameter followed by the path (or filename):</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-file search /usr/bin/unrar</strong></pre>
</div>
</div>
</li>
<li>
<p>Using <code>apt-cache</code>, what is the command to show information for the package <code>gimp</code>?</p>
<div class="paragraph">
<p>Use the <code>show</code> parameter followed by the package name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-cache show gimp</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.4_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Consider a repository with Debian source packages for the <code>xenial</code> distribution, hosted at <code>http://us.archive.ubuntu.com/ubuntu/</code> and with packages for the <code>universe</code> component. What would be the corresponding line to be added to <code>/etc/apt/sources.list</code>?</p>
<div class="paragraph">
<p>Source packages are of the <code>deb-src</code> type, so the line should be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>deb-src http://us.archive.ubuntu.com/ubuntu/ xenial universe</pre>
</div>
</div>
<div class="paragraph">
<p>This line could also be added inside a <code>.list</code> file in <code>/etc/apt/sources.list.d/</code>. The name is up to you but should be descriptive, something like <code>xenial_sources.list</code>.</p>
</div>
</li>
<li>
<p>While compiling a program, you come across an error message complaining that the header file <code>zzip-io.h</code> is not present on your system. How can you find out with package provides that file?</p>
<div class="paragraph">
<p>Use <code>apt-file search</code> to find which package contains a file not present in the system:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-file search zzip-io.h</strong></pre>
</div>
</div>
</li>
<li>
<p>How can you ignore a dependency warning and remove a package using <code>dpkg</code>, even if there are packages that depend on it in the system?</p>
<div class="paragraph">
<p>The parameter <code>--force</code> can be used, but this should <em>never</em> be done unless you know exactly what you are doing, since there is a great risk that your system will be left in an inconsistent or &#8220;broken&#8221; state.</p>
</div>
</li>
<li>
<p>How can you get more information about a package called <code>midori</code> using <code>apt-cache</code>?</p>
<div class="paragraph">
<p>Use <code>apt-cache show</code> followed by the package name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>apt-cache show midori</strong></pre>
</div>
</div>
</li>
<li>
<p>Before installing or updating packages with <code>apt-get</code>, which command should be used to ensure that the package index is up-to-date?</p>
<div class="paragraph">
<p><code>apt-get update</code> should be used. This will download the latest package indexes from the repositories described in the <code>/etc/apt/sources.list</code> file or in the <code>/etc/apt/sources.list.d/</code> directory.</p>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">102.5 Use RPM and YUM package management (102.5 Lesson 1)</p>

        <div class="button-group">
            <a href="../../102.5/102.5_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
