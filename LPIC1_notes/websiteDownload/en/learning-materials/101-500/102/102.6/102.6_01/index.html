

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>102.6 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="de"
      >Deutsch</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="it"
      >Italiano</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">102.6 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 101: System Architecture
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../101/101.1/index.html" class="hierarchy__link">101.1 Determine and configure hardware settings</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.1/101.1_01/index.html" class="hierarchy__link">101.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.2/index.html" class="hierarchy__link">101.2 Boot the system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.2/101.2_01/index.html" class="hierarchy__link">101.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../101/101.3/index.html" class="hierarchy__link">101.3 Change runlevels / boot targets and shutdown or reboot system</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../101/101.3/101.3_01/index.html" class="hierarchy__link">101.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 102: Linux Installation and Package Management
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../102.1/index.html" class="hierarchy__link">102.1 Design hard disk layout</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.1/102.1_01/index.html" class="hierarchy__link">102.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.2/index.html" class="hierarchy__link">102.2 Install a boot manager</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.2/102.2_01/index.html" class="hierarchy__link">102.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.3/index.html" class="hierarchy__link">102.3 Manage shared libraries</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.3/102.3_01/index.html" class="hierarchy__link">102.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.4/index.html" class="hierarchy__link">102.4 Use Debian package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.4/102.4_01/index.html" class="hierarchy__link">102.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../102.5/index.html" class="hierarchy__link">102.5 Use RPM and YUM package management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../102.5/102.5_01/index.html" class="hierarchy__link">102.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">102.6 Linux as a virtualization guest</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">102.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 103: GNU and Unix Commands
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../103/103.1/index.html" class="hierarchy__link">103.1 Work on the command line</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_01/index.html" class="hierarchy__link">103.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.1/103.1_02/index.html" class="hierarchy__link">103.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.2/index.html" class="hierarchy__link">103.2 Process text streams using filters</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.2/103.2_01/index.html" class="hierarchy__link">103.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.3/index.html" class="hierarchy__link">103.3 Perform basic file management</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_01/index.html" class="hierarchy__link">103.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.3/103.3_02/index.html" class="hierarchy__link">103.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.4/index.html" class="hierarchy__link">103.4 Use streams, pipes and redirects</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_01/index.html" class="hierarchy__link">103.4 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.4/103.4_02/index.html" class="hierarchy__link">103.4 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.5/index.html" class="hierarchy__link">103.5 Create, monitor and kill processes</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_01/index.html" class="hierarchy__link">103.5 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.5/103.5_02/index.html" class="hierarchy__link">103.5 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.6/index.html" class="hierarchy__link">103.6 Modify process execution priorities</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.6/103.6_01/index.html" class="hierarchy__link">103.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.7/index.html" class="hierarchy__link">103.7 Search text files using regular expressions</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_01/index.html" class="hierarchy__link">103.7 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../103/103.7/103.7_02/index.html" class="hierarchy__link">103.7 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../103/103.8/index.html" class="hierarchy__link">103.8 Basic file editing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../103/103.8/103.8_01/index.html" class="hierarchy__link">103.8 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 104: Devices, Linux Filesystems, Filesystem Hierarchy Standard
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../104/104.1/index.html" class="hierarchy__link">104.1 Create partitions and filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.1/104.1_01/index.html" class="hierarchy__link">104.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.2/index.html" class="hierarchy__link">104.2 Maintain the integrity of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.2/104.2_01/index.html" class="hierarchy__link">104.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.3/index.html" class="hierarchy__link">104.3 Control mounting and unmounting of filesystems</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.3/104.3_01/index.html" class="hierarchy__link">104.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.5/index.html" class="hierarchy__link">104.5 Manage file permissions and ownership</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.5/104.5_01/index.html" class="hierarchy__link">104.5 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.6/index.html" class="hierarchy__link">104.6 Create and change hard and symbolic links</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.6/104.6_01/index.html" class="hierarchy__link">104.6 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../104/104.7/index.html" class="hierarchy__link">104.7 Find system files and place files in the correct location</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../104/104.7/104.7_01/index.html" class="hierarchy__link">104.7 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 102: Linux Installation and Package Management</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">102.6 Linux as a virtualization guest</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">102.6 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>102.6 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">102 Linux Installation and Package Management</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">102.6 Linux as a virtualization guest</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the great strengths of Linux is its versatility. One aspect of this versatility is the ability to use Linux as a means of hosting other operating systems, or individual applications, in a completely isolated and secure environment. This lesson will focus on the concepts of virtualization and container technologies, along with some technical details that should be taken into consideration when deploying a virtual machine on a cloud platform.</p>
</div>
<div class="sect2">
<h3 id="_virtualization_overview">Virtualization Overview</h3>
<div class="paragraph">
<p>Virtualization is a technology that allows for a software platform, called a <em>hypervisor</em>, to run processes that contain a fully emulated computer system. The hypervisor is responsible for managing the physical hardware&#8217;s resources that can be used by individual virtual machines. These virtual machines are called <em>guests</em> of the hypervisor. A virtual machine has many aspects of a physical computer emulated in software, such as a system&#8217;s BIOS and hard drive disk controllers. A virtual machine will often use hard disk images that are stored as individual files, and will have access to the host machine&#8217;s RAM and CPU through the hypervisor software. The hypervisor separates the access to the host system&#8217;s hardware resources among the guests, thus allowing for multiple operating systems to run on a single host system.</p>
</div>
<div class="paragraph">
<p>Commonly used hypervisors for Linux include:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Xen</dt>
<dd>
<p>Xen is an open source Type-1 hypervisor, meaning that it does not rely on an underlying operating system to function. A hypervisor of this sort is known as a <em>bare-metal hypervisor</em> since the computer can boot directly into the hypervisor.</p>
</dd>
<dt class="hdlist1">KVM</dt>
<dd>
<p>The Kernel Virtual Machine is a Linux kernel module for virtualization. KVM is a hypervisor of both Type-1 and Type-2 hypervisor because, although it needs a generic Linux operating system to work, it is able to perform as a hypervisor perfectly well by integrating with a running Linux installation.  Virtual machines deployed with KVM use the <code>libvirt</code> daemon and associated software utilities to be created and managed.</p>
</dd>
<dt class="hdlist1">VirtualBox</dt>
<dd>
<p>A popular desktop application that makes it easy to create and manage virtual machines. Oracle VM VirtualBox is cross-platform, and will work on Linux, macOS, and Microsoft Windows. Since VirtualBox requires an underlying operating system to run, it is a Type-2 hypervisor.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Some hypervisors allow for the dynamic relocation of a virtual machine. The process of moving a virtual machine from one hypervisor installation to another is called a <em>migration</em>, and the techniques involved differ between hypervisor implementations. Some migrations can only be performed when the guest system has been completely shut down, and other can be performed while the guest is running (called a <em>live migration</em>). Such techniques can be of aid during maintenance windows for hypervisors, or for system resiliency when a hypervisor becomes non-functional and the guest can be moved to a hypervisor that is working.</p>
</div>
</div>
<div class="sect2">
<h3 id="_types_of_virtual_machines">Types of Virtual Machines</h3>
<div class="paragraph">
<p>There are three main types of virtual machines, the <em>fully virtualized</em> guest, the <em>paravirtualized</em> guest and the <em>hybrid</em> guest.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Fully Virtualized</dt>
<dd>
<p>All instructions that a guest operating system is expected to execute must be able to run within a fully virtualized operating system installation. The reason for this is that no additional software drivers are installed within the guest to translate the instructions to either simulated or real hardware. A fully virtualized guest is one where the guest (or HardwareVM) is unaware that it is a running virtual machine instance. In order for this type of virtualization to take place on x86 based hardware the Intel VT-x or AMD-V CPU extensions must be enabled on the system that has the hypervisor installed. This can be done from a BIOS or UEFI firmware configuration menu.</p>
</dd>
<dt class="hdlist1">Paravirtualized</dt>
<dd>
<p>A paravirtualized guest (or PVM) is one where the guest operating system is aware that it is a running virtual machine instance. These types of guests will make use of a modified kernel and special drivers (known as <em>guest drivers</em>) that will help the guest operating system utilize software and hardware resources of the hypervisor. The performance of a paravirtualized guest is often better than that of the fully virtualized guest due to the advantage that these software drivers provide.</p>
</dd>
<dt class="hdlist1">Hybrid</dt>
<dd>
<p>Paravirtualization and full virtualization can be combined to allow unmodified operating systems to receive near native I/O performance by using paravirtualized drivers on fully virtualized operating systems. The paravirtualized drivers contain storage and network device drivers with enhanced disk and network I/O performance.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Virtualization platforms often provide packaged guest drivers for virtualized operating systems. The KVM utilizes drivers from the <em>Virtio</em> project, whereas Oracle VM VirtualBox uses <em>Guest Extensions</em> available from a downloadable ISO CD-ROM image file.</p>
</div>
<div class="sect3">
<h4 id="_example_libvirt_virtual_machine">Example <code>libvirt</code> Virtual Machine</h4>
<div class="paragraph">
<p>We will look at an example virtual machine that is managed by <code>libvirt</code> and uses the KVM hypervisor. A virtual machine often consists of a group of files, primarily an XML file that <em>defines</em> the virtual machine (such as its hardware configuration, network connectivity, display capabilities, and more) and an associated hard disk image file that contains the installation of the operating system and its software.</p>
</div>
<div class="paragraph">
<p>First, let us start to examine an example XML configuration file for a virtual machine and its network environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls /etc/libvirt/qemu</strong>
total 24
drwxr-xr-x 3 root root 4096 Oct 29 17:48 networks
-rw------- 1 root root 5667 Jun 29 17:17 rhel8.0.xml</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>qemu</code> portion of the directory path refers to the underlying software that KVM-based virtual machines rely on. The QEMU project provides software for the hypervisor to emulate hardware devices that the virtual machine will use, such as disk controllers, access to the host CPU, network card emulation, and more.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that there is a directory named <code>networks</code>. This directory contains definition files (also using XML) that create network configurations that the virtual machines can use. This hypervisor is only using one network, and so there is only one definition file that contains a configuration for a virtual network segment that these systems will utilize.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls -l /etc/libvirt/qemu/networks/</strong>
total 8
drwxr-xr-x 2 root root 4096 Jun 29 17:15 autostart
-rw------- 1 root root  576 Jun 28 16:39 default.xml
$ <strong>sudo cat /etc/libvirt/qemu/networks/default.xml</strong>
&lt;!--
WARNING: THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE
OVERWRITTEN AND LOST. Changes to this xml configuration should be made using:
  virsh net-edit default
or other application using the libvirt API.
-->

&lt;network>
  &lt;name>default&lt;/name>
  &lt;uuid>55ab064f-62f8-49d3-8d25-8ef36a524344&lt;/uuid>
  &lt;forward mode='nat'/>
  &lt;bridge name='virbr0' stp='on' delay='0'/>
  &lt;mac address='52:54:00:b8:e0:15'/>
  &lt;ip address='192.168.122.1' netmask='255.255.255.0'>
    &lt;dhcp>
      &lt;range start='192.168.122.2' end='192.168.122.254'/>
    &lt;/dhcp>
  &lt;/ip>
&lt;/network></pre>
</div>
</div>
<div class="paragraph">
<p>This definition includes a Class C private network and an emulated hardware device to act as a router for this network. There is also a range of IP addresses for the hypervisor to use with a DHCP server implementation that can be assigned to the virtual machines that use this network. This network configuration also utilizes <em>network address translation</em> (NAT) to forward packets to other networks, such as the hypervisor&#8217;s LAN.</p>
</div>
<div class="paragraph">
<p>Now we turn our attention to a Red Hat Enterprise Linux 8 virtual machine definition file. (sections of special note are in bold text):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo cat /etc/libvirt/qemu/rhel8.0.xml</strong>
&lt;!--
WARNING: THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE
OVERWRITTEN AND LOST. Changes to this xml configuration should be made using:
  virsh edit rhel8.0
or other application using the libvirt API.
-->

<strong>&lt;domain type='kvm'></strong>
  <strong>&lt;name>rhel8.0&lt;/name></strong>
  &lt;uuid>fadd8c5d-c5e1-410e-b425-30da7598d0f6&lt;/uuid>
  &lt;metadata>
    &lt;libosinfo:libosinfo xmlns:libosinfo="http://libosinfo.org/xmlns/libvirt/domain/1.0">
      &lt;libosinfo:os id="http://redhat.com/rhel/8.0"/>
    &lt;/libosinfo:libosinfo>
  &lt;/metadata>
  <strong>&lt;memory unit='KiB'>4194304&lt;/memory></strong>
  &lt;currentMemory unit='KiB'>4194304&lt;/currentMemory>
  <strong>&lt;vcpu placement='static'>2&lt;/vcpu></strong>
  &lt;os>
    &lt;type arch='x86_64' machine='pc-q35-3.1'>hvm&lt;/type>
    &lt;boot dev='hd'/>
  &lt;/os>
  &lt;features>
    &lt;acpi/>
    &lt;apic/>
    &lt;vmport state='off'/>
  &lt;/features>
  &lt;cpu mode='host-model' check='partial'>
    &lt;model fallback='allow'/>
  &lt;/cpu>
  &lt;clock offset='utc'>
    &lt;timer name='rtc' tickpolicy='catchup'/>
    &lt;timer name='pit' tickpolicy='delay'/>
    &lt;timer name='hpet' present='no'/>
  &lt;/clock>
  &lt;on_poweroff>destroy&lt;/on_poweroff>
  &lt;on_reboot>restart&lt;/on_reboot>
  &lt;on_crash>destroy&lt;/on_crash>
  &lt;pm>
    &lt;suspend-to-mem enabled='no'/>
    &lt;suspend-to-disk enabled='no'/>
  &lt;/pm>
  &lt;devices>
    &lt;emulator>/usr/bin/qemu-system-x86_64&lt;/emulator>
    <strong>&lt;disk type='file' device='disk'></strong>
      <strong>&lt;driver name='qemu' type='qcow2'/></strong>
      <strong>&lt;source file='/var/lib/libvirt/images/rhel8'/></strong>
      <strong>&lt;target dev='vda' bus='virtio'/></strong>
      &lt;address type='pci' domain='0x0000' bus='0x04' slot='0x00' function='0x0'/>
    &lt;/disk>
    &lt;controller type='usb' index='0' model='qemu-xhci' ports='15'>
      &lt;address type='pci' domain='0x0000' bus='0x02' slot='0x00' function='0x0'/>
    &lt;/controller>
    &lt;controller type='sata' index='0'>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x1f' function='0x2'/>
    &lt;/controller>
    &lt;controller type='pci' index='0' model='pcie-root'/>
    &lt;controller type='pci' index='1' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='1' port='0x10'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0' multifunction='on'/>
    &lt;/controller>
    &lt;controller type='pci' index='2' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='2' port='0x11'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x1'/>
    &lt;/controller>
    &lt;controller type='pci' index='3' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='3' port='0x12'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x2'/>
    &lt;/controller>
    &lt;controller type='pci' index='4' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='4' port='0x13'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x3'/>
    &lt;/controller>
    &lt;controller type='pci' index='5' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='5' port='0x14'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x4'/>
    &lt;/controller>
    &lt;controller type='pci' index='6' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='6' port='0x15'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x5'/>
    &lt;/controller>
    &lt;controller type='pci' index='7' model='pcie-root-port'>
      &lt;model name='pcie-root-port'/>
      &lt;target chassis='7' port='0x16'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x6'/>
    &lt;/controller>
    &lt;controller type='virtio-serial' index='0'>
      &lt;address type='pci' domain='0x0000' bus='0x03' slot='0x00' function='0x0'/>
    &lt;/controller>
    &lt;interface type='network'>
      <strong>&lt;mac address='52:54:00:50:a7:18'/></strong>
      <strong>&lt;source network='default'/></strong>
      <strong>&lt;model type='virtio'/></strong>
      &lt;address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/>
    &lt;/interface>
    &lt;serial type='pty'>
      &lt;target type='isa-serial' port='0'>
        &lt;model name='isa-serial'/>
      &lt;/target>
    &lt;/serial>
    &lt;console type='pty'>
      &lt;target type='serial' port='0'/>
    &lt;/console>
    &lt;channel type='unix'>
      &lt;target type='virtio' name='org.qemu.guest_agent.0'/>
      &lt;address type='virtio-serial' controller='0' bus='0' port='1'/>
    &lt;/channel>
    &lt;channel type='spicevmc'>
      &lt;target type='virtio' name='com.redhat.spice.0'/>
      &lt;address type='virtio-serial' controller='0' bus='0' port='2'/>
    &lt;/channel>
    &lt;input type='tablet' bus='usb'>
      &lt;address type='usb' bus='0' port='1'/>
    &lt;/input>
    <strong>&lt;input type='mouse' bus='ps2'/></strong>
    <strong>&lt;input type='keyboard' bus='ps2'/></strong>
    <strong>&lt;graphics type='spice' autoport='yes'></strong>
      &lt;listen type='address'/>
      &lt;image compression='off'/>
    &lt;/graphics>
    &lt;sound model='ich9'>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x1b' function='0x0'/>
    &lt;/sound>
    &lt;video>
      &lt;model type='virtio' heads='1' primary='yes'/>
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x0'/>
    &lt;/video>
    &lt;redirdev bus='usb' type='spicevmc'>
      &lt;address type='usb' bus='0' port='2'/>
    &lt;/redirdev>
    &lt;redirdev bus='usb' type='spicevmc'>
      &lt;address type='usb' bus='0' port='3'/>
    &lt;/redirdev>
    &lt;memballoon model='virtio'>
      &lt;address type='pci' domain='0x0000' bus='0x05' slot='0x00' function='0x0'/>
    &lt;/memballoon>
    &lt;rng model='virtio'>
      &lt;backend model='random'>/dev/urandom&lt;/backend>
      &lt;address type='pci' domain='0x0000' bus='0x06' slot='0x00' function='0x0'/>
    &lt;/rng>
  &lt;/devices>
&lt;/domain></pre>
</div>
</div>
<div class="paragraph">
<p>This file defines a number of hardware settings that are used by this guest, such as the amount of RAM that it will have assigned to it, the number of CPU cores from the hypervisor that the guest will have access to, the hard disk image file that is associated with this guest (under the <code>disk</code> stanza), its display capabilities (via the SPICE protocol), and the guest&#8217;s access to USB devices as well as emulated keyboard and mice input.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_virtual_machine_disk_storage">Example Virtual Machine Disk Storage</h4>
<div class="paragraph">
<p>This virtual machine&#8217;s hard disk image resides at <code>/var/lib/libvirt/images/rhel8</code>. Here is the disk image itself on this hypervisor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo ls -lh /var/lib/libvirt/images/rhel8</strong>
-rw------- 1 root root 5.5G Oct 25 15:57 /var/lib/libvirt/images/rhel8</pre>
</div>
</div>
<div class="paragraph">
<p>The current size of this disk image consumes only 5.5 GB of space on the hypervisor. However, the operating system within this guest sees a 23.3 GB sized disk, as evidenced by the output of the following command from within the running virtual machine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>lsblk</strong>
NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
vda           252:0    0 23.3G  0 disk
├─vda1        252:1    0    1G  0 part /boot
└─vda2        252:2    0 22.3G  0 part
  ├─rhel-root 253:0    0   20G  0 lvm  /
  └─rhel-swap 253:1    0  2.3G  0 lvm  [SWAP]</pre>
</div>
</div>
<div class="paragraph">
<p>This is due to the type of disk provisioning used for this guest. There are multiple types of disk images that a virtual machine can use but the two primary types are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">COW</dt>
<dd>
<p>Copy-on-write (also referred to as <em>thin-provisioning</em> or <em>sparse images</em>) is a method where a disk file is created with a pre-defined upper size limit. The disk image size only increases as new data is written to the disk. Just like the previous example, the guest operating system sees the predefined disk limit of 23.3 GB, but has only written 5.5 GB of data to the disk file. The disk image format used for the example virtual machine is <code>qcow2</code> which is a QEMU COW file format.</p>
</dd>
<dt class="hdlist1">RAW</dt>
<dd>
<p>A <em>raw</em> or <em>full</em> disk type is a file that has all of its space pre-allocated. For example, a 10 GB raw disk image file consumes 10 GB of actual disk space on the hypervisor. There is a performance benefit to this style of disk as all of the needed disk space already exists, so the underlying hypervisor can just write data to the disk without the performance hit of monitoring the disk image to ensure that it has not yet reached its limit and extending the size of the file as new data is written to it.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>There are other virtualization management platforms such as <em>Red Hat Enterprise Virtualization</em> and <em>oVirt</em> that can make use of physical disks to act as backing storage locations for a virtual machine&#8217;s operating system. These systems can utilize storage area network (SAN) or network attached storage (NAS) devices to write their data to, and the hypervisor keeps track of what storage locations belong to which virtual machines. These storage systems can use technologies such as logical volume management (LVM) to grow or shrink the size of a virtual machine&#8217;s disk storage as needed, and to aid in the creation and management of storage snapshots.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_working_with_virtual_machine_templates">Working with Virtual Machine Templates</h3>
<div class="paragraph">
<p>Since virtual machines are typically just files running on a hypervisor, it is easy to create <em>templates</em> that can be customized for particular deployment scenarios. Often a virtual machine will have a basic operating system installation and some pre-configured authentication configuration settings set up to ease future system launches. This cuts down on the amount of time it takes to build a new system by reducing the amount of work that is often repeated, such as base package installation and locale settings.</p>
</div>
<div class="paragraph">
<p>This virtual machine template could then later get copied to a new guest system. In this case, the new guest would get renamed, a new MAC address generated for its network interface, and other modifications can be made depending on its intended use.</p>
</div>
<div class="sect3">
<h4 id="_the_d_bus_machine_id">The D-Bus Machine ID</h4>
<div class="paragraph">
<p>Many Linux installations will utilize a machine identification number generated at install time, called the <em>D-Bus machine ID</em>. However, if a virtual machine is <em>cloned</em> to be used as a template for other virtual machine installations, a new D-Bus machine ID would need to be created to ensure that system resources from the hypervisor get directed to the appropriate guest system.</p>
</div>
<div class="paragraph">
<p>The following command can be used to validate that a D-Bus machine ID exists for the running system:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dbus-uuidgen --ensure</strong></pre>
</div>
</div>
<div class="paragraph">
<p>If no error messages are displayed, then an ID exists for the system. To view the current D-Bus machine ID, run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dbus-uuidgen --get</strong>
17f2e0698e844e31b12ccd3f9aa4d94a</pre>
</div>
</div>
<div class="paragraph">
<p>The string of text that is displayed is the current ID number. No two Linux systems running on a hypervisor should have the same D-Bus machine ID.</p>
</div>
<div class="paragraph">
<p>The D-Bus machine ID is located at <code>/var/lib/dbus/machine-id</code> and is symbolically linked to <code>/etc/machine-id</code>. Changing this ID number on a running system is discouraged as system instability and crashes are likely to occur. If two virtual machines do have the same D-Bus machine ID, follow the procedure below to generate a new one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo rm -f /etc/machine-id</strong>
$ <strong>sudo dbus-uuidgen --ensure=/etc/machine-id</strong></pre>
</div>
</div>
<div class="paragraph">
<p>In the event that <code>/var/lib/dbus/machine-id</code> is not a symbolic link back to <code>/etc/machine-id</code>, then <code>/var/lib/dbus/machine-id</code> will need to be removed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_deploying_virtual_machines_to_the_cloud">Deploying Virtual Machines to the Cloud</h3>
<div class="paragraph">
<p>There are a multitude of IaaS (<em>infrastructure as a service</em>) providers available that run hypervisor systems and that can deploy virtual guest images for an organization. Practically all of these providers have tools in place that allows an administrator to build, deploy and configure custom virtual machines based on a variety of Linux distributions. Many of these companies also have systems in place that allow for the deployment and migrations of virtual machines built from within a customer&#8217;s organization.</p>
</div>
<div class="paragraph">
<p>When assessing a deployment of a Linux system in an IaaS environment, there are some key elements that an administrator should be cognizant of:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Computing Instances</dt>
<dd>
<p>Many cloud providers will charge usage rates based on &#8220;computing instances&#8221;, or how much CPU time your cloud-based infrastructure will use. Careful planning of how much processing time applications will actually require will aid in keeping the costs of a cloud solution manageable.</p>
<div class="paragraph">
<p>Computing instances will also often refer to the number of virtual machines that are provisioned in a cloud environment. Again, the more instances of systems that are running at one time will also factor into how much overall CPU time an organization will be charged for.</p>
</div>
</dd>
<dt class="hdlist1">Block Storage</dt>
<dd>
<p>Cloud providers also have various levels of block storage available for an organization to use. Some offerings are simply meant to be web-based network storage for files, and other offerings relate to external storage for a cloud provisioned virtual machine to use for hosting files.</p>
<div class="paragraph">
<p>The cost for such offerings will vary based on the amount of storage used, and the speed of the storage within the provider&#8217;s data centers. Faster storage access typically will cost more, and conversely data &#8220;at rest&#8221; (as in archival storage) is often very inexpensive.</p>
</div>
</dd>
<dt class="hdlist1">Networking</dt>
<dd>
<p>One of the main components of working with a cloud solutions provider is how the virtual network will be configured. Many IaaS providers will have some form of web-based utilities that can be utilized for the design and implementation of different network routes, subnetting, and firewall configurations. Some will even provide DNS solutions so that publicly accessible FQDN (<em>fully qualified domain names</em>) can be assigned to your internet facing systems. There are even &#8220;hybrid&#8221; solutions available that can connect an existing, on-premise network infrastructure to a cloud-based infrastructure through the means of a VPN (<em>virtual private network</em>), thus tying the two infrastructures together.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_securely_accessing_guests_in_the_cloud">Securely Accessing Guests in the Cloud</h4>
<div class="paragraph">
<p>The most prevalent method in use for accessing a remote virtual guest on a cloud platform is through the use of OpenSSH software. A Linux system that resides in the cloud would have the OpenSSH server running, while an administrator would use an OpenSSH client with pre-shared keys for remote access.</p>
</div>
<div class="paragraph">
<p>An administrator would run the following command</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ssh-keygen</strong></pre>
</div>
</div>
<div class="paragraph">
<p>and follow the prompts to create a public and private SSH key pair. The private key remains on the administrator&#8217;s local system (stored in <code>~/.ssh/</code>) and the public key gets copied to the remote cloud system, the exact same method one would use when working with networked machines on a corporate LAN.</p>
</div>
<div class="paragraph">
<p>The administrator would then run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ssh-copy-id -i &lt;public_key&gt; user@cloud_server</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This will copy the public SSH key from the key pair just generated to the remote cloud server. The public key will be recorded in the <code>~/.ssh/authorized_keys</code> file of the cloud server, and set the appropriate permissions on the file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If there is only one public key file in the <code>~/.ssh/</code> directory, then the <code>-i</code> switch can be omitted, as the <code>ssh-copy-id</code> command will default to the public key file in the directory (typically the file ending with the <code>.pub</code> extension).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some cloud providers will automatically generate a key pair when a new Linux system is provisioned. The administrator will then need to download the public key for the new system from the cloud provider and store it on their local system. Note that the permissions for SSH keys must be <code>0600</code> for a private key, and <code>0644</code> for a public key.</p>
</div>
</div>
<div class="sect3">
<h4 id="_preconfiguring_cloud_systems">Preconfiguring Cloud Systems</h4>
<div class="paragraph">
<p>A useful tool that simplifies the deployments of cloud-based virtual machine is the <code>cloud-init</code> utility. This command, along with the associated configuration files and pre-defined virtual machine image, is a vendor-neutral method for deploying a Linux guest across a plethora of IaaS providers. Utilizing YAML (<em>YAML Ain&#8217;t Markup Language</em>) plain-text files an administrator can pre-configure network settings, software package selections, SSH key configuration, user account creations, locale settings, along with a myriad of other options to quickly build out new systems.</p>
</div>
<div class="paragraph">
<p>During a new system&#8217;s initial boot up, <code>cloud-init</code> will read in the settings from YAML configurations files and apply them. This process only needs to apply to a system&#8217;s initial setup, and makes deploying a fleet of new systems on a cloud provider&#8217;s platform easy.</p>
</div>
<div class="paragraph">
<p>The YAML file syntax used with <code>cloud-init</code> is called <em>cloud-config</em>. Here is a sample <code>cloud-config</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#cloud-config
timezone: Africa/Dar_es_Salaam
hostname: test-system

# Update the system when it first boots up
apt_update: true
apt_upgrade: true

# Install the Nginx web server
packages:
 - nginx</pre>
</div>
</div>
<div class="paragraph">
<p>Note that on the top line there is no space between the hash symbol (<code>#</code>) and the term <code>cloud-config</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>cloud-init</code> is not just for virtual machines. The <code>cloud-init</code> tool suite can also be used to pre-configure containers (such as LXD Linux containers) prior to deployment.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_containers">Containers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Container technology is similar in some aspects to a virtual machine, where you get an isolated environment to easily deploy an application. Whereas with a virtual machine an entire computer is emulated, a container uses just enough software to run an application. In this way, there is far less overhead.</p>
</div>
<div class="paragraph">
<p>Containers allow for greater flexibility over that of a virtual machine. An application container can be migrated from one host to another, just as a virtual machine can be migrated from one hypervisor to another. However, sometimes a virtual machine will need to be powered off before it could be migrated, whereas with a container the application is always running while it is getting migrated. Containers also make it easy to deploy new versions of applications in tandem with an existing version. As users close their sessions with running containers, these containers can get automatically removed from the system by the container orchestration software and replaced with the new version thus reducing downtime.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There are numerous container technologies available for Linux, such as <em>Docker</em>, <em>Kubernetes</em>, <em>LXD/LXC</em>, <em>systemd-nspawn</em>, <em>OpenShift</em> and more. The exact implementation of a container software package is beyond the scope of the LPIC-1 exam.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Containers make use of the <em>control groups</em> (better known as <em>cgroups</em>) mechanism within the Linux kernel. The cgroup is a way to partition system resources such as memory, processor time as well as disk and network bandwidth for an individual application. An administrator can use cgroups directly to set system resource limits on an application, or a group of applications that could exist within a single cgroup. In essence this is what container software does for the administrator, along with providing tools that ease the management and deployment of cgroups.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Currently, knowledge of cgroups are not necessary for passing the LPIC-1 exam. The concept of the cgroup is mentioned here so that the candidate would at least have some background knowledge of how an application is segregated for the sake of system resource utilization.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What CPU extensions are necessary on an x86 based hardware platform that will run fully virtualized guests?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>A mission-critical server installation that will require the fastest performance will likely use what type of virtualization?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Two virtual machines that have been cloned from the same template and that utilize D-Bus are performing erratically. They both have separate hostnames and network configuration settings. What command would be used to determine if each of the virtual machines have different D-Bus Machine IDs?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following command to see if your system already has CPU extensions enabled to run a virtual machine (your results may vary depending on your CPU):</p>
<div class="paragraph">
<p><code>grep --color -E "vmx|svm" /proc/cpuinfo</code></p>
</div>
<div class="paragraph">
<p>Depending on the output, you may have <code>vmx</code> highlighted (for Intel VT-x enabled CPU&#8217;s) or <code>svm</code> highlighted (for AMD SVM enabled CPU&#8217;s). Should you get no results, consult your BIOS or UEFI firmware instructions on how to enable virtualization for your processor.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If your processor supports virtualizations, seek out your distribution&#8217;s documentation for running a KVM hypervisor.</p>
<div class="ulist">
<ul>
<li>
<p>Install the necessary packages to run a KVM hypervisor.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If you are using a graphical desktop environment, it is recommended to also install the <code>virt-manager</code> application which is a graphical front-end that can be used on a KVM installation. This will aid in virtual machine installations and management.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Download a Linux distribution ISO image of your choice, and following your distribution&#8217;s documentation create a new virtual machine using this ISO.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson we covered the conceptual basics of virtual machines and containers, and how these technologies can be used with Linux.</p>
</div>
<div class="paragraph">
<p>We briefly described the following commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>dbus-uuidgen</code></dt>
<dd>
<p>Used to verify and view a system&#8217;s DBus ID.</p>
</dd>
<dt class="hdlist1"><code>ssh-keygen</code></dt>
<dd>
<p>Used to generate a public and private SSH key pair for use when accessing remote, cloud-based systems.</p>
</dd>
<dt class="hdlist1"><code>ssh-copy-id</code></dt>
<dd>
<p>Used to copy a system&#8217;s public SSH key to a remote system to facilitate remote authentication.</p>
</dd>
<dt class="hdlist1"><code>cloud-init</code></dt>
<dd>
<p>Used to aid in the configuration and deployment of virtual machines and containers to a cloud environment.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What CPU extensions are necessary on an x86 based hardware platform that will run fully virtualized guests?</p>
<div class="paragraph">
<p>VT-x for Intel CPUs or AMD-V for AMD CPUs</p>
</div>
</li>
<li>
<p>A mission-critical server installation that will require the fastest performance will likely use what type of virtualization?</p>
<div class="paragraph">
<p>An operating system that makes use of paravirtualization, such as Xen,, as the guest operating system can make better use of hardware resources available to is through the use of software drivers designed to work with the hypervisor.</p>
</div>
</li>
<li>
<p>Two virtual machines that have been cloned from the same template and that utilize D-Bus are performing erratically. They both have separate hostnames and network configuration settings. What command would be used to determine if each of the virtual machines have different D-Bus Machine IDs?</p>
<div class="paragraph">
<p><code>dbus-uuidgen --get</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.102.6_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following command to see if your system already has CPU extensions enabled to run a virtual machine (your results may vary depending on your CPU):  <code>grep --color -E "vmx|svm" /proc/cpuinfo</code>. Depending on the output, you may have "vmx" highlighted (for Intel VT-x enabled CPU&#8217;s) or "svm" highlighted (for AMD SVM enabled CPU&#8217;s). Should you get no results, consult your BIOS or UEFI firmware instructions on how to enable virtualization for your processor.</p>
<div class="paragraph">
<p>The results will vary depending on your CPU that you have. Here is example output from a computer with an Intel CPU with virtualization extensions enabled in the UEFI firmware:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>grep --color -E "vmx|svm" /proc/cpuinfo</strong>
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc art arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl <strong>vmx</strong> smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch cpuid_fault epb invpcid_single pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx rdseed adx smap clflushopt intel_pt xsaveopt xsavec xgetbv1 xsaves dtherm ida arat pln pts hwp hwp_notify hwp_act_window hwp_epp md_clear flush_l1d</pre>
</div>
</div>
</li>
<li>
<p>If your processor supports virtualizations, seek out your distribution&#8217;s documentation for running a KVM hypervisor.</p>
<div class="ulist">
<ul>
<li>
<p>Install the necessary packages to run a KVM hypervisor.</p>
<div class="paragraph">
<p>This will vary depending on your distribution, but here are some starting points:</p>
</div>
<div class="paragraph">
<p>Ubuntu&#8201;&#8212;&#8201;<a href="https://help.ubuntu.com/lts/serverguide/libvirt.html" class="bare">https://help.ubuntu.com/lts/serverguide/libvirt.html</a></p>
</div>
<div class="paragraph">
<p>Fedora&#8201;&#8212;&#8201;<a href="https://docs.fedoraproject.org/en-US/quick-docs/getting-started-with-virtualization/" class="bare">https://docs.fedoraproject.org/en-US/quick-docs/getting-started-with-virtualization/</a></p>
</div>
<div class="paragraph">
<p>Arch Linux&#8201;&#8212;&#8201;<a href="https://wiki.archlinux.org/index.php/KVM" class="bare">https://wiki.archlinux.org/index.php/KVM</a></p>
</div>
</li>
<li>
<p>If you are using a graphical desktop environment, it is recommended to also install the <code>virt-manager</code> application which is a graphical front-end that can be used on a KVM installation. This will aid in virtual machine installations and management.</p>
<div class="paragraph">
<p>Again, this will vary by distribution. An example using Ubuntu looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>sudo apt install virt-manager</strong></pre>
</div>
</div>
</li>
<li>
<p>Download a Linux distribution ISO image of your choice, and following your distribution&#8217;s documentation create a new virtual machine using this ISO.</p>
<div class="paragraph">
<p>This task is easily handled by the <code>virt-manager</code> package. However a virtual machine can be created from the command-line using the <code>virt-install</code> command. Try both methods to get an understanding of how virtual machines are deployed.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">103.1 Work on the command line (103.1 Lesson 1)</p>

        <div class="button-group">
            <a href="../../../103/103.1/103.1_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
