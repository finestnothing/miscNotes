

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>107.1 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">107.1 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../105/105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../105/105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../109/109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 107: Administrative Tasks</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">107.1 Manage user and group accounts and related system files</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">107.1 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>107.1 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">107 Administrative Tasks</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">107.1 Manage user and group accounts and related system files</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>User and group administration is a very important part of any system administrator&#8217;s job.
Modern Linux distributions implement graphical interfaces that allow you to manage all the activities related to this key aspect quickly and easily. These interfaces are different from each other in terms of graphical layouts, but the features are the same. With these tools you can view, edit, add, and delete local users and groups. However for more advanced management you need to work through the command line.</p>
</div>
<div class="sect2">
<h3 id="_adding_user_accounts">Adding User Accounts</h3>
<div class="paragraph">
<p>In Linux, you can add a new user account with the <code>useradd</code> command. For example, acting with root privileges, you can create a new user account named <code>michael</code> with a default setting, using the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>useradd michael</strong></pre>
</div>
</div>
<div class="paragraph">
<p>When you run the <code>useradd</code> command, the user and group information stored in the password and group databases are updated for the newly created user account and, if specified, the home directory of the new user is created as well.  A group with the same name of the new user account is also created.</p>
</div>
<div class="paragraph">
<p>Once you have created the new user, you can set its password using the <code>passwd</code> command.  You can review its User ID (UID), Group ID (GID) and the groups it belongs to through the <code>id</code> and <code>groups</code> commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>passwd michael</strong>
Changing password for user michael.
New UNIX password:
Retype new UNIX password:
passwd: all authentication tokens updated successfully.
# <strong>id michael</strong>
uid=1000(michael) gid=100(michael) groups=100(michael)
# <strong>groups michael</strong>
michael : michael</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that any user can review their UID, GID and the groups they belong to by simply using the <code>id</code> and <code>groups</code> commands without arguments, and that any user can change their password using the <code>passwd</code> command. However only users with root privileges can change <em>any</em> user&#8217;s password.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The most important options which apply to the <code>useradd</code> command are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-c</code></dt>
<dd>
<p>Create a new user account with custom comments (for example the user&#8217;s full name).</p>
</dd>
<dt class="hdlist1"><code>-d</code></dt>
<dd>
<p>Create a new user account with a custom home directory.</p>
</dd>
<dt class="hdlist1"><code>-e</code></dt>
<dd>
<p>Create a new user account by setting a specific date on which it will be disabled.</p>
</dd>
<dt class="hdlist1"><code>-f</code></dt>
<dd>
<p>Create a new user account by setting the number of days after a password expires during which the user should update the password (otherwise the account will be disabled).</p>
</dd>
<dt class="hdlist1"><code>-g</code></dt>
<dd>
<p>Create a new user account with a specific GID.</p>
</dd>
<dt class="hdlist1"><code>-G</code></dt>
<dd>
<p>Create a new user account by adding it to multiple secondary groups.</p>
</dd>
<dt class="hdlist1"><code>-k</code></dt>
<dd>
<p>Create a new user account by copying the skeleton files from a specific custom directory (this option is only valid if the <code>-m</code> or <code>--create-home</code> option is specified).</p>
</dd>
<dt class="hdlist1"><code>-m</code></dt>
<dd>
<p>Create a new user account with its home directory (if it does not exist).</p>
</dd>
<dt class="hdlist1"><code>-M</code></dt>
<dd>
<p>Create a new user account without its home directory.</p>
</dd>
<dt class="hdlist1"><code>-s</code></dt>
<dd>
<p>Create a new user account with a specific login shell.</p>
</dd>
<dt class="hdlist1"><code>-u</code></dt>
<dd>
<p>Create a new user account with a specific UID.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See the manual pages for the <code>useradd</code> command for the complete list of options.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modifying_user_accounts">Modifying User Accounts</h3>
<div class="paragraph">
<p>Sometimes you need to change an attribute of an existing user account, such as the login name, login shell, password expiry date and so on. In such cases, you need to use the <code>usermod</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>usermod -s /bin/tcsh michael</strong>
# <strong>usermod -c "Michael User Account" michael</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Just as with the <code>useradd</code> command, the <code>usermod</code> command requires root privileges.</p>
</div>
<div class="paragraph">
<p>In the examples above, the login shell of <code>michael</code> is changed first and then a brief description is added to this user account. Remember that you can modify multiple attributes at once, specifying them in a single command.</p>
</div>
<div class="paragraph">
<p>The most important options which apply to the <code>usermod</code> command are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-c</code></dt>
<dd>
<p>Add a brief comment to the specified user account.</p>
</dd>
<dt class="hdlist1"><code>-d</code></dt>
<dd>
<p>Change the home directory of the specified user account. When used with the <code>-m</code> option, the contents of the current home directory are moved to the new home directory, which is created if it does not already exist.</p>
</dd>
<dt class="hdlist1"><code>-e</code></dt>
<dd>
<p>Set the expiration date of the specified user account.</p>
</dd>
<dt class="hdlist1"><code>-f</code></dt>
<dd>
<p>Set the number of days after a password expires during which the user should update the password (otherwise the account will be disabled).</p>
</dd>
<dt class="hdlist1"><code>-g</code></dt>
<dd>
<p>Change the primary group of the specified user account (the group must exist).</p>
</dd>
<dt class="hdlist1"><code>-G</code></dt>
<dd>
<p>Add secondary groups to the specified user account. Each group must exist and must be separated from the next by a comma, with no intervening whitespace. If used alone, this option removes all existing groups to which the user belongs, while when used with the <code>-a</code> option, it simply appends new secondary groups to the existing ones.</p>
</dd>
<dt class="hdlist1"><code>-l</code></dt>
<dd>
<p>Change the login name of the specified user account.</p>
</dd>
<dt class="hdlist1"><code>-L</code></dt>
<dd>
<p>Lock the specified user account. This puts an exclamation mark in front of the encrypted password within the <code>/etc/shadow</code> file, thus disabling access with a password for that user.</p>
</dd>
<dt class="hdlist1"><code>-s</code></dt>
<dd>
<p>Change the login shell of the specified user account.</p>
</dd>
<dt class="hdlist1"><code>-u</code></dt>
<dd>
<p>Change the UID of the specified user account.</p>
</dd>
<dt class="hdlist1"><code>-U</code></dt>
<dd>
<p>Unlock the specified user account. This removes the exclamation mark in front of the encrypted password with the <code>/etc/shadow</code> file.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See the manual pages for the <code>usermod</code> command for the complete list of options.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that when you change the login name of a user account, you should probably rename the home directory of that user and other user-related items such as mail spool files.  Also remember that when you change the UID of a user account, you should probably fix the ownership of files and directories outside the user&#8217;s home directory (the user ID is changed automatically for the user&#8217;s mailbox and for all files owned by the user and located in the user&#8217;s home directory).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_deleting_user_accounts">Deleting User Accounts</h3>
<div class="paragraph">
<p>If you want to delete a user account, you can use the <code>userdel</code> command. In particular, this command updates the information stored in the account databases, deleting all entries referring to the specified user. The <code>-r</code> option also removes the user’s home directory and all its contents, along with the user’s mail spool. Other files, located elsewhere, must be searched for and deleted manually.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>userdel -r michael</strong></pre>
</div>
</div>
<div class="paragraph">
<p>As for <code>useradd</code> and <code>usermod</code>, you need root authority to delete user accounts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_modifying_and_deleting_groups">Adding, Modifying and Deleting Groups</h3>
<div class="paragraph">
<p>Just as with user management, you can add, modify and delete groups using the <code>groupadd</code>, <code>groupmod</code> and <code>groupdel</code> commands with root privileges. If you want to create a new group named <code>developer</code>, you can run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>groupadd -g 1090 developer</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>-g</code> option of this command creates a group with a specific GID.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that when you add a new user account, the primary group and the secondary groups to which it belongs <em>must</em> exist before launching the <code>useradd</code> command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Later, if you want to rename the group from <code>developer</code> to <code>web-developer</code> and change its GID, you can run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>groupmod -n web-developer -g 1050 developer</strong></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that if you change the GID using the <code>-g</code> option, you should change the GID of all files and directories that must continue to belong to the group.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, if you want to delete the <code>web-developer</code> group, you can run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>groupdel web-developer</strong></pre>
</div>
</div>
<div class="paragraph">
<p>You cannot delete a group if it is the primary group of a user account. Therefore, you must remove the user before removing the group.  As for users, if you delete a group, the files belonging to that group remain in your filesystem and are not deleted or assigned to another group.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_skeleton_directory">The Skeleton Directory</h3>
<div class="paragraph">
<p>When you add a new user account, even creating its home directory, the newly created home directory is populated with files and folders that are copied from the skeleton directory (by default <code>/etc/skel</code>). The idea behind this is simple: a system administrator wants to add new users having the same files and directories in their home folder. Therefore, if you want to customize the files and folders that are created automatically in the home directory of new user accounts, you must add these new files and folders to the skeleton directory.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Note that if you want to list all the files and directories in the skeleton directory, you must use the <code>ls -al</code> command.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_the_etclogin_defs_file">The <code>/etc/login.defs</code> File</h3>
<div class="paragraph">
<p>In Linux, the <code>/etc/login.defs</code> file specifies the configuration parameters that control the creation of users and groups. In addition, the commands shown in the previous sections take default values from this file.</p>
</div>
<div class="paragraph">
<p>The most important directives are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>UID_MIN</code> and <code>UID_MAX</code></dt>
<dd>
<p>The range of user IDs that can be assigned to new ordinary users.</p>
</dd>
<dt class="hdlist1"><code>GID_MIN</code> and <code>GID_MAX</code></dt>
<dd>
<p>The range of group IDs that can be assigned to new ordinary groups.</p>
</dd>
<dt class="hdlist1"><code>CREATE_HOME</code></dt>
<dd>
<p>Specify whether a home directory should be created by default for new users.</p>
</dd>
<dt class="hdlist1"><code>USERGROUPS_ENAB</code></dt>
<dd>
<p>Specify whether the system should by default create a new group for each new user account with the same name as the user, and whether deleting the user account should also remove the user&#8217;s primary group if it no longer contains members.</p>
</dd>
<dt class="hdlist1"><code>MAIL_DIR</code></dt>
<dd>
<p>The mail spool directory.</p>
</dd>
<dt class="hdlist1"><code>PASS_MAX_DAYS</code></dt>
<dd>
<p>The maximum number of days a password may be used.</p>
</dd>
<dt class="hdlist1"><code>PASS_MIN_DAYS</code></dt>
<dd>
<p>The minimum number of days allowed between password changes.</p>
</dd>
<dt class="hdlist1"><code>PASS_MIN_LEN</code></dt>
<dd>
<p>The minimum acceptable password length.</p>
</dd>
<dt class="hdlist1"><code>PASS_WARN_AGE</code></dt>
<dd>
<p>The number of warning days before a password expires.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>When managing users and groups, always check this file to view and eventually change the default behavior of the system if needed.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_the_passwd_command">The <code>passwd</code> Command</h3>
<div class="paragraph">
<p>This command is primarily used to change a user&#8217;s password. As described before, any user can change their own password, but only root can change <em>any</em> user&#8217;s password. This happens because the <code>passwd</code> command has the SUID bit set (an <code>s</code> in the place of the executable flag for the owner), which means that it executes with the privileges of the file&#8217;s owner (thus root).</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ls -l /usr/bin/passwd</strong>
-rwsr-xr-x 1 root root 42096 mag 17  2015 /usr/bin/passwd</pre>
</div>
</div>
<div class="paragraph">
<p>Depending on the <code>passwd</code> options used, you can control specific aspects of password aging:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-d</code></dt>
<dd>
<p>Delete the password of a user account (thus disabling the user).</p>
</dd>
<dt class="hdlist1"><code>-e</code></dt>
<dd>
<p>Force the user account to change the password.</p>
</dd>
<dt class="hdlist1"><code>-i</code></dt>
<dd>
<p>Set the number of days of inactivity after a password expires during which the user should update the password (otherwise the account will be disabled).</p>
</dd>
<dt class="hdlist1"><code>-l</code></dt>
<dd>
<p>Lock the user account (the encrypted password is prefixed with an exclamation mark in the <code>/etc/shadow</code> file).</p>
</dd>
<dt class="hdlist1"><code>-n</code></dt>
<dd>
<p>Set the minimum password lifetime.</p>
</dd>
<dt class="hdlist1"><code>-S</code></dt>
<dd>
<p>Output information about the password status of a specific user account.</p>
</dd>
<dt class="hdlist1"><code>-u</code></dt>
<dd>
<p>Unlock the user account (the exclamation mark is removed from the password field in the <code>/etc/shadow</code> file).</p>
</dd>
<dt class="hdlist1"><code>-x</code></dt>
<dd>
<p>Set the maximum password lifetime.</p>
</dd>
<dt class="hdlist1"><code>-w</code></dt>
<dd>
<p>Set the number of days of warning before the password expires during which the user is warned that the password must be changed.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Groups can also have a password, which can be set using the <code>gpasswd</code> command. Users, who are not members of a group but know its password, can join it temporarily using the <code>newgrp</code> command. Remember that <code>gpasswd</code> is also used to add and remove users from a group and to set the list of administrators and ordinary members of the group.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_the_chage_command">The <code>chage</code> Command</h3>
<div class="paragraph">
<p>This command, which stands for &#8220;change age&#8221;, is used to change the password aging information of a user. The <code>chage</code> command is restricted to root, except for the <code>-l</code> option, which can be used by ordinary users to list password aging information of their own account.</p>
</div>
<div class="paragraph">
<p>The other options which apply to the <code>chage</code> command are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-d</code></dt>
<dd>
<p>Set the last password change for a user account.</p>
</dd>
<dt class="hdlist1"><code>-E</code></dt>
<dd>
<p>Set the expiration date for a user account.</p>
</dd>
<dt class="hdlist1"><code>-I</code></dt>
<dd>
<p>Set the number of days of inactivity after a password expires during which the user should update the password (otherwise the account will be disabled).</p>
</dd>
<dt class="hdlist1"><code>-m</code></dt>
<dd>
<p>Set the minimum password lifetime for a user account.</p>
</dd>
<dt class="hdlist1"><code>-M</code></dt>
<dd>
<p>Set the maximum password lifetime for a user account.</p>
</dd>
<dt class="hdlist1"><code>-W</code></dt>
<dd>
<p>Set the number of days of warning before the password expires during which the user is warned that the password must be changed.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For each of the following commands, identify the corresponding purpose:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usermod -L</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -u</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -E</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupdel</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useradd -s</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupadd -g</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userdel -r</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usermod -l</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupmod -n</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useradd -m</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For each of the following <code>passwd</code> commands, identify the corresponding <code>chage</code> command:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -n</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -x</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -w</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -i</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -S</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Explain in detail the purpose of the commands in the previous question:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What commands can you use to lock a user account? And which commands to unlock it?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Using the <code>groupadd</code> command, create the <code>administrators</code> and <code>developers</code> groups. Assume you are working as root.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Now that you have created these groups, run the following command: <code>useradd -G administrators,developers kevin</code>. What operations does this command perform?  Assume that <code>CREATE_HOME</code> and <code>USERGROUPS_ENAB</code> in <code>/etc/login.defs</code> are set to <code>yes</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create a new group named <code>designers</code>, rename it to <code>web-designers</code> and add this new group to the secondary groups of the <code>kevin</code> user account. Identify all the groups <code>kevin</code> belongs to and their IDs.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Remove only the <code>developers</code> group from the secondary groups of <code>kevin</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Set the password for the <code>kevin</code> user account.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Using the <code>chage</code> command, first check the expiry date of the <code>kevin</code> user account and then change it to December 31st 2022. What other command can you use to change the expiration date of a user account?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Add a new user account named <code>emma</code> with UID 1050 and set <code>administrators</code> as its primary group and <code>developers</code> and <code>web-designers</code> as its secondary groups.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Change the login shell of <code>emma</code> to <code>/bin/sh</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Delete the <code>emma</code> and <code>kevin</code> user accounts and the <code>administrators</code>, <code>developers</code> and <code>web-designers</code> groups.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson you learned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The fundamentals of user and group management in Linux.</p>
</li>
<li>
<p>How to add, modify and remove user accounts.</p>
</li>
<li>
<p>How to add, modify and remove group accounts.</p>
</li>
<li>
<p>Maintain the skeleton directory.</p>
</li>
<li>
<p>Edit the file that controls the creation of users and groups.</p>
</li>
<li>
<p>Change the passwords of user accounts.</p>
</li>
<li>
<p>Change the password aging information of user accounts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following files and commands were discussed in this lesson:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>useradd</code></dt>
<dd>
<p>Create a new user account.</p>
</dd>
<dt class="hdlist1"><code>usermod</code></dt>
<dd>
<p>Modify a user account.</p>
</dd>
<dt class="hdlist1"><code>userdel</code></dt>
<dd>
<p>Delete a user account.</p>
</dd>
<dt class="hdlist1"><code>groupadd</code></dt>
<dd>
<p>Create a new group account.</p>
</dd>
<dt class="hdlist1"><code>groupmod</code></dt>
<dd>
<p>Modify a group account.</p>
</dd>
<dt class="hdlist1"><code>groupdel</code></dt>
<dd>
<p>Delete a group account.</p>
</dd>
<dt class="hdlist1"><code>passwd</code></dt>
<dd>
<p>Change the password of user accounts and control all aspects of password aging.</p>
</dd>
<dt class="hdlist1"><code>chage</code></dt>
<dd>
<p>Change user password expiry information.</p>
</dd>
<dt class="hdlist1"><code>/etc/skel</code></dt>
<dd>
<p>The default location of the skeleton directory.</p>
</dd>
<dt class="hdlist1"><code>/etc/login.defs</code></dt>
<dd>
<p>The file that controls the creation of users and groups and provides default values for several user account parameters.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For each of the following commands, identify the corresponding purpose:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usermod -L</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lock the user account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -u</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unlock the user account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -E</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the expiration date for the user account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupdel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useradd -s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new user account with a specific login shell</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupadd -g</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new group with a specific GID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userdel -r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove the user account and all files in its home directory, the home directory itself and the user&#8217;s mail spool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>usermod -l</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the login name of the user account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupmod -n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the name of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useradd -m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new user account and its home directory</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>For each of the following <code>passwd</code> commands, identify the corresponding <code>chage</code> command:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -m</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -M</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -w</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -W</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -I</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>passwd -S</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chage -l</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Explain in detail the purpose of the commands in the previous question:</p>
<div class="paragraph">
<p>In Linux, you can use the <code>passwd -n</code> command (or <code>chage -m</code>) to set the minimum number of days between password changes, the <code>passwd -x</code> command (or <code>chage -M</code>) to set the maximum number of days during which a password is valid, the <code>passwd -w</code> command (or <code>chage -W</code>) to set the number of days of warning before the password expires, the <code>passwd -i</code> command (or <code>chage -I</code>) to set the number of days of inactivity during which the user should change the password and the <code>passwd -S</code> command (or <code>chage -l</code>) to show brief information about the password of the user account.</p>
</div>
</li>
<li>
<p>What commands can you use to lock a user account? And which commands to unlock it?</p>
<div class="paragraph">
<p>If you want to lock an user account, you can use one of these commands: <code>usermod -L</code>, <code>usermod --lock</code> and <code>passwd -l</code>. Instead, if you want to unlock it, you can use <code>usermod -U</code>, <code>usermod --unlock</code> and <code>passwd -u</code>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.107.1_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Using the <code>groupadd</code> command, create the <code>administrators</code> and <code>developers</code> groups. Assume you are working as root.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>groupadd administrators</strong>
# <strong>groupadd developers</strong></pre>
</div>
</div>
</li>
<li>
<p>Now that you have created these groups, run the following command: <code>useradd -G administrators,developers kevin</code>. What operations does this command perform? Assume that <code>CREATE_HOME</code> and <code>USERGROUPS_ENAB</code> in <code>/etc/login.defs</code> are set to <code>yes</code>.</p>
<div class="paragraph">
<p>The command adds a new user, named <code>kevin</code>, to the list of users in the system, creates its home directory (<code>CREATE_HOME</code> is set to yes and therefore you can omit the -m option) and creates a new group, named <code>kevin</code>, as the primary group of this user account (<code>USERGROUPS_ENAB</code> is set to yes). Finally, the files and folders contained in the skeleton directory are copied to the home dir of <code>kevin</code>.</p>
</div>
</li>
<li>
<p>Create a new group named <code>designers</code>, rename it to <code>web-designers</code> and add this new group to the secondary groups of the <code>kevin</code> user account. Identify all the groups <code>kevin</code> belongs to and their IDs.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>groupadd designers</strong>
# <strong>groupmod -n web-designers designers</strong>
# <strong>usermod -a -G web-designers kevin</strong>
# <strong>id kevin</strong>
uid=1010(kevin) gid=1030(kevin) groups=1030(kevin),1028(administrators),1029(developers),1031(web-designers)</pre>
</div>
</div>
</li>
<li>
<p>Remove only the <code>developers</code> group from the secondary groups of <code>kevin</code>.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>usermod -G administrators,web-designers kevin</strong>
# <strong>id kevin</strong>
uid=1010(kevin) gid=1030(kevin) groups=1030(kevin),1028(administrators),1031(web-designers)</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>usermod</code> command does not have an option to remove only one group; therefore, you need to specify all the secondary groups to which the user belongs.</p>
</div>
</li>
<li>
<p>Set the password for the <code>kevin</code> user account.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>passwd kevin</strong>
Changing password for user kevin.
New UNIX password:
Retype new UNIX password:
passwd: all authentication tokens updated successfully.</pre>
</div>
</div>
</li>
<li>
<p>Using the <code>chage</code> command, first check the expiry date of the <code>kevin</code> user account and then change it to December 31st 2022. What other command can you use to change the expiration date of a user account?</p>
<div class="listingblock">
<div class="content">
<pre># <strong>chage -l kevin | grep "Account expires"</strong>
Account expires		: never
# <strong>chage -E 2019-12-31 kevin</strong>
# <strong>chage -l kevin | grep "Account expires"</strong>
Account expires		: dec 31, 2019</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>usermod</code> command with the <code>-e</code> option is equivalent to <code>chage -E</code>.</p>
</div>
</li>
<li>
<p>Add a new user account named <code>emma</code> with UID 1050 and set <code>administrators</code> as its primary group and <code>developers</code> and <code>web-designers</code> as its secondary groups.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>useradd -u 1050 -g administrators -G developers,web-designers emma</strong>
# <strong>id emma</strong>
uid=1050(emma) gid=1028(administrators) groups=1028(administrators),1029(developers),1031(web-designers)</pre>
</div>
</div>
</li>
<li>
<p>Change the login shell of <code>emma</code> to <code>/bin/sh</code>.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>usermod -s /bin/sh emma</strong></pre>
</div>
</div>
</li>
<li>
<p>Delete the <code>emma</code> and <code>kevin</code> user accounts and the <code>administrators</code>, <code>developers</code> and <code>web-designers</code> groups.</p>
<div class="listingblock">
<div class="content">
<pre># <strong>userdel -r emma</strong>
# <strong>userdel -r kevin</strong>
# <strong>groupdel administrators</strong>
# <strong>groupdel developers</strong>
# <strong>groupdel web-designers</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">107.1 Manage user and group accounts and related system files (107.1 Lesson 2)</p>

        <div class="button-group">
            <a href="../107.1_02/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
