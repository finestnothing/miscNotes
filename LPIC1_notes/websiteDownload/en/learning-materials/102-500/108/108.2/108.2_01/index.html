

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>108.2 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">108.2 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../105/105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../105/105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../109/109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 108: Essential System Services</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">108.2 System logging</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">108.2 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>108.2 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">108 Essential System Services</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">108.2 System logging</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logs can be a system administrator&#8217;s best friend. Logs are files (usually text files) where all system and network events are chronologically registered from the moment your system is booted up. Thus, the range of information that can be found in logs includes virtually every aspect of the system: failed authentication attempts, program and service errors, hosts blocked by the firewall, etc. As you can imagine, logs make system administrators' lives a lot easier when it comes to troubleshooting, resource-checking, detection of anomalous behaviour of programs, and so on.</p>
</div>
<div class="paragraph">
<p>In this lesson we will discuss one of the most common logging facilites currently found in GNU/Linux distributions: <code>rsyslog</code>. We will study the different types of logs that exist, where they are stored, what information they include and how that information can be obtained and filtered. We will also discuss how logs can be kept in centralized servers across IP networks, log rotation and the kernel ring buffer.</p>
</div>
<div class="sect2">
<h3 id="_system_logging">System Logging</h3>
<div class="paragraph">
<p>The moment the kernel and the different processes in your system start running and communicating with one another, a lot of information is generated in the form of messages that are&#8201;&#8212;&#8201;for the most part&#8201;&#8212;&#8201;sent to the logs.</p>
</div>
<div class="paragraph">
<p>Without logging, searching for an event that happened on a server would give system administrators a headache, hence the importance of having a standardized and centralized way of keeping track of any system events. Logs are determinant and telling when it comes to troubleshooting and security and are reliable data sources for understanding system statistics and making trend predictions.</p>
</div>
<div class="paragraph">
<p>Leaving aside <code>systemd-journald</code> (which we will discuss in the next lesson), logging has traditionally been handled by three main dedicated services: <code>syslog</code>, <code>syslog-ng</code> (syslog new generation) and <code>rsyslog</code> (&#8220;the rocket-fast system for log processing&#8221;). <code>rsyslog</code> brought along important improvements (such as RELP support) and has become the most popular choice nowadays. Each of these services collects messages from other services and programs and stores them in log files, typically under <code>/var/log</code>. However, some services take care of their own logs (take&#8201;&#8212;&#8201;for example&#8201;&#8212;&#8201;the Apache HTTPD web server or the CUPS printing system). Likewise, the Linux kernel uses an in-memory ring buffer for storing its log messages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>RELP</code> stands for <em>Reliable Event Logging Protocol</em> and extends the functionality of the syslog protocol to provide reliable delivery of messages.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since <code>rsyslog</code> has become the <em>de facto</em> standard logging facility in all major distros, we will focus on it for the present lesson. <code>rsyslog</code> uses a client-server model. The client and the server can live on the same host or in different machines. Messages are sent and received in a particular format and can be kept in centralized <code>rsyslog</code> servers across IP networks. rsyslog&#8217;s daemon&#8201;&#8212;&#8201;<code>rsyslogd</code>&#8201;&#8212;&#8201;works together with <code>klogd</code> (which manages kernel messages).
In the next sections <code>rsyslog</code> and its logging infrastructure will be discussed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A daemon is a service that runs in the background. Note the final <code>d</code> in daemon names: <code>klogd</code> or <code>rsyslogd</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_log_types">Log Types</h4>
<div class="paragraph">
<p>Because logs are <em>variable</em> data, they are normally found in <code>/var/log</code>. Roughly speaking, they can be classified into <em>system logs</em> and <em>service or program logs</em>.</p>
</div>
<div class="paragraph">
<p>Let us see some system logs and the information they keep:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>/var/log/auth.log</code></dt>
<dd>
<p>Activities related to authentication processes: logged users, <code>sudo</code> information, cron jobs, failed login attempts, etc.</p>
</dd>
<dt class="hdlist1"><code>/var/log/syslog</code></dt>
<dd>
<p>A centralized file for practically all of the logs captured by <code>rsyslogd</code>. Because it includes so much information, logs are distributed across other files according to the configuration supplied in <code>/etc/rsyslog.conf</code>.</p>
</dd>
<dt class="hdlist1"><code>/var/log/debug</code></dt>
<dd>
<p>Debug information from programs.</p>
</dd>
<dt class="hdlist1"><code>/var/log/kern.log</code></dt>
<dd>
<p>Kernel messages.</p>
</dd>
<dt class="hdlist1"><code>/var/log/messages</code></dt>
<dd>
<p>Informative messages which are not related to the kernel but to other services. It is also the default remote client log destination in a centralized log server implementation.</p>
</dd>
<dt class="hdlist1"><code>/var/log/daemon.log</code></dt>
<dd>
<p>Information related to daemons or services running in the background.</p>
</dd>
<dt class="hdlist1"><code>/var/log/mail.log</code></dt>
<dd>
<p>Information related to the email server, e.g. postfix.</p>
</dd>
<dt class="hdlist1"><code>/var/log/Xorg.0.log</code></dt>
<dd>
<p>Information related to the graphics card.</p>
</dd>
<dt class="hdlist1"><code>/var/run/utmp</code> and <code>/var/log/wtmp</code></dt>
<dd>
<p>Successful logins.</p>
</dd>
<dt class="hdlist1"><code>/var/log/btmp</code></dt>
<dd>
<p>Failed login attempts, e.g. brute force attack via ssh.</p>
</dd>
<dt class="hdlist1"><code>/var/log/faillog</code></dt>
<dd>
<p>Failed authentication attempts.</p>
</dd>
<dt class="hdlist1"><code>/var/log/lastlog</code></dt>
<dd>
<p>Date and time of recent user logins.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Now let us see a few examples of service logs:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>/var/log/cups/</code></dt>
<dd>
<p>Directory for logs of the <em>Common Unix Printing System</em>. It commonly includes the following default log files: <code>error_log</code>, <code>page_log</code> and <code>access_log</code>.</p>
</dd>
<dt class="hdlist1"><code>/var/log/apache2/</code> or <code>/var/log/httpd</code></dt>
<dd>
<p>Directory for logs of the <em>Apache Web Server</em>. It commonly includes the following default log files: <code>access.log</code>, <code>error_log</code>, and <code>other_vhosts_access.log</code>.</p>
</dd>
<dt class="hdlist1"><code>/var/log/mysql</code></dt>
<dd>
<p>Directory for logs of the <em>MySQL Relational Database Management System</em>. It commonly includes the following default log files: <code>error_log</code>, <code>mysql.log</code> and <code>mysql-slow.log</code>.</p>
</dd>
<dt class="hdlist1"><code>/var/log/samba/</code></dt>
<dd>
<p>Directory for logs of the <em>Session Message Block</em> (SMB) protocol. It commonly includes the following default log files: <code>log.</code>, <code>log.nmbd</code> and <code>log.smbd</code>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The exact name and contents of log files may vary across Linux distributions. There are also logs particular to specific distributions such as <code>/var/log/dpkg.log</code> (containing information related to <code>dpkg</code> packages) in Debian GNU/Linux and its derivatives.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_reading_logs">Reading Logs</h4>
<div class="paragraph">
<p>To read log files, first ensure you are the root user or have reading permissions on the file. You can use a variety of utilities such as:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>less</code> or <code>more</code></dt>
<dd>
<p>Pagers that allow viewing and scrolling one page at a time:</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>less /var/log/auth.log</strong>
Sep 12 18:47:56 debian sshd[441]: Received SIGHUP; restarting.
Sep 12 18:47:56 debian sshd[441]: Server listening on 0.0.0.0 port 22.
Sep 12 18:47:56 debian sshd[441]: Server listening on :: port 22.
Sep 12 18:47:56 debian sshd[441]: Received SIGHUP; restarting.
Sep 12 18:47:56 debian sshd[441]: Server listening on 0.0.0.0 port 22.
Sep 12 18:47:56 debian sshd[441]: Server listening on :: port 22.
Sep 12 18:49:46 debian sshd[905]: Accepted password for carol from 192.168.1.65 port 44296 ssh2
Sep 12 18:49:46 debian sshd[905]: pam_unix(sshd:session): session opened for user carol by (uid=0)
Sep 12 18:49:46 debian systemd-logind[331]: New session 2 of user carol.
Sep 12 18:49:46 debian systemd: pam_unix(systemd-user:session): session opened for user carol by (uid=0)
(...)</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>zless</code> or <code>zmore</code></dt>
<dd>
<p>The same as <code>less</code> and <code>more</code>, but used for logs that are compressed with <code>gzip</code> (a common function of <code>logrotate</code>):</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>zless /var/log/auth.log.3.gz</strong>
Aug 19 20:05:57 debian sudo:    carol : TTY=pts/0 ; PWD=/home/carol ; USER=root ; COMMAND=/sbin/shutdown -h now
Aug 19 20:05:57 debian sudo: pam_unix(sudo:session): session opened for user root by carol(uid=0)
Aug 19 20:05:57 debian lightdm: pam_unix(lightdm-greeter:session): session closed for user lightdm
Aug 19 23:50:49 debian systemd-logind[333]: Watching system buttons on /dev/input/event2 (Power Button)
Aug 19 23:50:49 debian systemd-logind[333]: Watching system buttons on /dev/input/event3 (Sleep Button)
Aug 19 23:50:49 debian systemd-logind[333]: Watching system buttons on /dev/input/event4 (Video Bus)
Aug 19 23:50:49 debian systemd-logind[333]: New seat seat0.
Aug 19 23:50:49 debian sshd[409]: Server listening on 0.0.0.0 port 22.
(...)</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>tail</code></dt>
<dd>
<p>View the last lines in a file (the default is 10 lines). The power of tail lies&#8201;&#8212;&#8201;to a great extent&#8201;&#8212;&#8201;in the <code>-f</code> switch, which will dynamically show new lines as they are appended:</p>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>tail -f /var/log/messages</strong>
2019-09-14T13:57:28.962780+02:00 suse-server sudo: pam_unix(sudo:session): session closed for user root
2019-09-14T13:57:38.038298+02:00 suse-server sudo:    carol : TTY=pts/0 ; PWD=/home/carol ; USER=root ; COMMAND=/usr/bin/tail -f /var/log/messages
2019-09-14T13:57:38.039927+02:00 suse-server sudo: pam_unix(sudo:session): session opened for user root by carol(uid=0)
2019-09-14T14:07:22+02:00 debian carol: appending new message from client to remote server...</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>head</code></dt>
<dd>
<p>View the first lines in a file (the default is 10 lines):</p>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>head -5 /var/log/mail</strong>
2019-06-29T11:47:59.219806+02:00 suse-server postfix/postfix-script[1732]: the Postfix mail system is not running
2019-06-29T11:48:01.355361+02:00 suse-server postfix/postfix-script[1925]: starting the Postfix mail system
2019-06-29T11:48:01.391128+02:00 suse-server postfix/master[1930]: daemon started -- version 3.3.1, configuration /etc/postfix
2019-06-29T11:55:39.247462+02:00 suse-server postfix/postfix-script[3364]: stopping the Postfix mail system
2019-06-29T11:55:39.249375+02:00 suse-server postfix/master[1930]: terminating on signal 15</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>grep</code></dt>
<dd>
<p>Filtering utility which allows you to search for specific strings:</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>grep "dhclient" /var/log/syslog</strong>
Sep 13 11:58:48 debian dhclient[448]: DHCPREQUEST of 192.168.1.4 on enp0s3 to 192.168.1.1 port 67
Sep 13 11:58:49 debian dhclient[448]: DHCPACK of 192.168.1.4 from 192.168.1.1
Sep 13 11:58:49 debian dhclient[448]: bound to 192.168.1.4 -- renewal in 1368 seconds.
(...)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>As you may have noticed, the output is printed in the following format:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Timestamp</p>
</li>
<li>
<p>Hostname from which the message originated</p>
</li>
<li>
<p>Name of program/service that generated the message</p>
</li>
<li>
<p>The PID of the program that generated the message</p>
</li>
<li>
<p>Description of the action that took place</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are a few examples in which logs are not text, but binary files and&#8201;&#8212;&#8201;consequently&#8201;&#8212;&#8201;you must use special commands to parse them:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>/var/log/wtmp</code></dt>
<dd>
<p>Use <code>who</code> (or <code>w</code>):</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>who</strong>
root    pts/0        2020-09-14 13:05 (192.168.1.75)
root    pts/1        2020-09-14 13:43 (192.168.1.75)</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>/var/log/btmp</code></dt>
<dd>
<p>Use <code>utmpdump</code> or <code>last -f</code>:</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>utmpdump /var/log/btmp</strong>
Utmp dump of /var/log/btmp
[6] [01287] [    ] [dave     ] [ssh:notty   ] [192.168.1.75        ] [192.168.1.75   ] [2019-09-07T19:33:32,000000+0000]</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>/var/log/faillog</code></dt>
<dd>
<p>Use <code>faillog</code>:</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>faillog -a | less</strong>
Login       Failures Maximum Latest                   On

root            0        0   01/01/70 01:00:00 +0100
daemon          0        0   01/01/70 01:00:00 +0100
bin             0        0   01/01/70 01:00:00 +0100
sys             0        0   01/01/70 01:00:00 +0100
sync            0        0   01/01/70 01:00:00 +0100
games           0        0   01/01/70 01:00:00 +0100
man             0        0   01/01/70 01:00:00 +0100
lp              0        0   01/01/70 01:00:00 +0100
mail            0        0   01/01/70 01:00:00 +0100
(...)</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>/var/log/lastlog</code></dt>
<dd>
<p>Use <code>lastlog</code>:</p>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>lastlog | less</strong>
Username         Port     From             Latest
root                                       <strong>Never logged in</strong>
daemon                                     <strong>Never logged in</strong>
bin                                        <strong>Never logged in</strong>
sys                                        <strong>Never logged in</strong>
(...)
sync                                       <strong>Never logged in</strong>
avahi                                      <strong>Never logged in</strong>
colord                                     <strong>Never logged in</strong>
saned                                      <strong>Never logged in</strong>
hplip                                      <strong>Never logged in</strong>
carol            pts/1    192.168.1.75     Sat Sep 14 13:43:06 +0200 2019
dave             pts/3    192.168.1.75     Mon Sep  2 14:22:08 +0200 2019</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There are also graphical tools for reading log files, for example: <code>gnome-logs</code> and <code>KSystemLog</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_how_messages_are_turned_into_logs">How Messages are Turned into Logs</h4>
<div class="paragraph">
<p>The following process illustrates how a message is written to a log file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Applications, services and the kernel write messages in special files (sockets and memory buffers), e.g. <code>/dev/log</code> or <code>/dev/kmsg</code>.</p>
</li>
<li>
<p><code>rsyslogd</code> gets the information from the sockets or memory buffers.</p>
</li>
<li>
<p>Depending on the rules found in <code>/etc/rsyslog.conf</code> and/or the files in <code>/etc/ryslog.d/</code>, <code>rsyslogd</code> moves the information to the corresponding log file (typically found in <code>/var/log</code>).</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A socket is a special file used to transfer information between different processes. To list all sockets on your system, you can use the command <code>systemctl list-sockets --all</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_facilities_priorities_and_actions">Facilities, Priorities and Actions</h4>
<div class="paragraph">
<p><code>rsyslog</code> configuration file is <code>/etc/rsylog.conf</code> (in some distributions you can also find configuration files in <code>/etc/rsyslog.d/</code>). It is normally divided into three sections: <code>MODULES</code>, <code>GLOBAL DIRECTIVES</code> and <code>RULES</code>. Let us have a look at them by exploring the <code>rsyslog.conf</code> file in our Debian GNU/Linux 10 (buster) host&#8201;&#8212;&#8201;you can use <code>sudo less /etc/rsyslog.conf</code> to do so.</p>
</div>
<div class="paragraph">
<p><code>MODULES</code> includes module support for logging, message capability, and UDP/TCP log reception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#################
#### MODULES ####
#################

module(load="imuxsock") # provides support for local system logging
module(load="imklog")   # provides kernel logging support
#module(load="immark")  # provides --MARK-- message capability

# provides UDP syslog reception
#module(load="imudp")
#input(type="imudp" port="514")

# provides TCP syslog reception
#module(load="imtcp")
#input(type="imtcp" port="514")</pre>
</div>
</div>
<div class="paragraph">
<p><code>GLOBAL DIRECTIVES</code> allow us to configure a number of things such as logs and log directory permissions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>###########################
#### GLOBAL DIRECTIVES ####
###########################

#
# Use traditional timestamp format.
# To enable high precision timestamps, comment out the following line.
#
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

#
# Set the default permissions for all log files.
#
$FileOwner root
$FileGroup adm
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022

#
# Where to place spool and state files
#
$WorkDirectory /var/spool/rsyslog

#
# Include all config files in /etc/rsyslog.d/
#
$IncludeConfig /etc/rsyslog.d/*.conf</pre>
</div>
</div>
<div class="paragraph">
<p><code>RULES</code> is where <em>facilities</em>, <em>priorities</em> and <em>actions</em> come in. The settings in this section tell the logging daemon to filter messages according to certain rules and log them or send them where required. To understand these rules, we should first explain the concepts of <code>rsyslog</code> facilities and priorities. Each log message is given a <em>facility</em> number and keyword that are associated with the Linux internal subsystem that produces the message:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Number</th>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux kernel messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-level messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mail</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mail system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>daemon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System daemons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auth</code>, <code>authpriv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security/Authorization messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syslog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">syslogd messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lpr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line printer subsystem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>news</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network news subsystem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uucp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UUCP (Unix-to-Unix Copy Protocol) subsystem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>9</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cron</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clock daemon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auth</code>, <code>authpriv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security/Authorization messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ftp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FTP (File Transfer Protocol) daemon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>12</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ntp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NTP (Network Time Protocol) daemon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>13</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>security</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log audit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>14</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>console</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log alert</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>15</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cron</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clock daemon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>16 - 23</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local0</code> through <code>local7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local use 0 - 7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Furthermore, each message is assigned a <em>priority</em> level:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Severity</th>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Emergency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emerg</code>, <code>panic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System is unusable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alert</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action must be taken immediately</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>err</code>, <code>error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>warn</code>, <code>warning</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notice</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal but significant condition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informational</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Informational messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>debug</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug-level messages</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Here is an excerpt of <code>rsyslog.conf</code> from our Debian GNU/Linux 10 (buster) system which including some sample rules:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>###############
#### RULES ####
###############

# First some standard log files.  Log by facility.
#
auth,authpriv.*                 /var/log/auth.log
*.*;auth,authpriv.none          -/var/log/syslog
#cron.*                         /var/log/cron.log
daemon.*                        -/var/log/daemon.log
kern.*                          -/var/log/kern.log
lpr.*                           -/var/log/lpr.log
mail.*                          -/var/log/mail.log
user.*                          -/var/log/user.log

#
# Logging for the mail system.  Split it up so that
# it is easy to write scripts to parse these files.
#
mail.info                       -/var/log/mail.info
mail.warn                       -/var/log/mail.warn
mail.err                        /var/log/mail.err

#
# Some "catch-all" log files.
#
*.=debug;\
        auth,authpriv.none;\
	news.none;mail.none     -/var/log/debug
*.=info;*.=notice;*.=warn;\
	auth,authpriv.none;\
	cron,daemon.none;\
	mail,news.none          -/var/log/messages</pre>
</div>
</div>
<div class="paragraph">
<p>The rule format is as follows: <code>&lt;facility&gt;.&lt;priority&gt;</code> <code>&lt;action&gt;</code></p>
</div>
<div class="paragraph">
<p>The <code>&lt;facility&gt;.&lt;priority&gt;</code> selector filters messages to match. Priority levels are hierarchically inclusive, which means rsyslog will match messages of the specified priority and higher. The <code>&lt;action&gt;</code> shows what action to take (where to send the log message). Here are a few examples for clarity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>auth,authpriv.*                 /var/log/auth.log</pre>
</div>
</div>
<div class="paragraph">
<p>Regardless of their priority (<code>*</code>), all messages from the <code>auth</code> or <code>authpriv</code> facilities will be sent to <code>/var/log/auth.log</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*.*;auth,authpriv.none          -/var/log/syslog</pre>
</div>
</div>
<div class="paragraph">
<p>All messages&#8201;&#8212;&#8201;irrespective of their priority (<code>*</code>)&#8201;&#8212;&#8201;from all facilities (<code>*</code>)&#8201;&#8212;&#8201;discarding those from <code>auth</code> or <code>authpriv</code> (hence the <code>.none</code> suffix)&#8201;&#8212;&#8201;will be written to <code>/var/log/syslog</code> (the minus sign (<code>-</code>) before the path prevents excessive disk writes). Note the semicolon (<code>;</code>) to split the selector and the comma (<code>,</code>) to concatenate two facilities in the same rule (<code>auth,authpriv</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mail.err                        /var/log/mail.err</pre>
</div>
</div>
<div class="paragraph">
<p>Messages from the <code>mail</code> facility with a priority level of <code>error</code> or higher (<code>critical</code>, <code>alert</code> or <code>emergency</code>) will be sent to <code>/var/log/mail.err</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*.=debug;\
        auth,authpriv.none;\
	news.none;mail.none     -/var/log/debug</pre>
</div>
</div>
<div class="paragraph">
<p>Messages from all facilities with the <code>debug</code> priority and no other (<code>=</code>) will be written to <code>/var/log/debug</code>&#8201;&#8212;&#8201;excluding any messages coming from the <code>auth</code>, <code>authpriv</code>, <code>news</code> and <code>mail</code> facilities (note the syntax: <code>;\</code>).</p>
</div>
<div class="sect4">
<h5 id="_manual_entries_into_the_system_log_logger">Manual Entries into the System Log: <code>logger</code></h5>
<div class="paragraph">
<p>The <code>logger</code> command comes in handy for shell scripting or for testing purposes. <code>logger</code> will append any message it receives to <code>/var/log/syslog</code> (or to <code>/var/log/messages</code> when logging to a remote central log server as you will see later in this lesson):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>logger this comment goes into "/var/log/syslog"</strong></pre>
</div>
</div>
<div class="paragraph">
<p>To print the last line in <code>/var/log/syslog</code>, use the <code>tail</code> command with the <code>-1</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>tail -1 /var/log/syslog</strong>
Sep 17 17:55:33 debian carol: this comment goes into /var/log/syslog</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sec.1.1.5-rsyslogAsACentralLogServer"><code>rsyslog</code> as a Central Log Server</h4>
<div class="paragraph">
<p>To explain this topic we are going to add a new host to our setup. The layout is as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role</th>
<th class="tableblock halign-left valign-top">Hostname</th>
<th class="tableblock halign-left valign-top">OS</th>
<th class="tableblock halign-left valign-top">IP Address</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Central Log Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>suse-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">openSUSE Leap 15.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">192.168.1.6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>debian</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian GNU/Linux 10 (buster)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">192.168.1.4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Let us start by configuring the server. First of all, we make sure that <code>rsyslog</code> is up and running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>systemctl status rsyslog</strong>
 rsyslog.service - System Logging Service
   Loaded: loaded (/usr/lib/systemd/system/rsyslog.service; enabled; vendor preset: enabled)
   Active: active (running) since Thu 2019-09-17 18:45:58 CEST; 7min ago
     Docs: man:rsyslogd(8)
           http://www.rsyslog.com/doc/
 Main PID: 832 (rsyslogd)
    Tasks: 5 (limit: 4915)
   CGroup: /system.slice/rsyslog.service
           └─832 /usr/sbin/rsyslogd -n -iNONE</pre>
</div>
</div>
<div class="paragraph">
<p>openSUSE ships with a dedicated configuration file for remote logging: <code>/etc/rsyslog.d/remote.conf</code>. Let us enable receiving messages from clients (remote hosts) via TCP. We must uncomment the lines which load the module and start the TCP server on port 514:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># ######### Receiving Messages from Remote Hosts ##########
# TCP Syslog Server:
# provides TCP syslog reception and GSS-API (if compiled to support it)
$ModLoad imtcp.so  # load module
##$UDPServerAddress 10.10.0.1  # force to listen on this IP only
$InputTCPServerRun 514  # Starts a TCP server on selected port

# UDP Syslog Server:
#$ModLoad imudp.so  # provides UDP syslog reception
##$UDPServerAddress 10.10.0.1  # force to listen on this IP only
#$UDPServerRun 514  # start a UDP syslog server at standard port 514</pre>
</div>
</div>
<div class="paragraph">
<p>Once this is done, we must restart the rsyslog service and check that the server is listening on port 514:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>systemctl restart rsyslog</strong>
root@suse-server:~# <strong>netstat -nltp | grep 514</strong>
[sudo] password for root:
tcp        0      0 0.0.0.0:514             0.0.0.0:*               LISTEN      2263/rsyslogd
tcp6       0      0 :::514                  :::*                    LISTEN      2263/rsyslogd</pre>
</div>
</div>
<div class="paragraph">
<p>Next, we should open the ports in the firewall and reload the configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>firewall-cmd --permanent --add-port 514/tcp</strong>
success
root@suse-server:~# <strong>firewall-cmd --reload</strong>
success</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>With the arrival of openSUSE Leap 15.0, <code>firewalld</code> replaced the classic <code>SuSEFirewall2</code> completely.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="sec.TemplatesAndFilterConditions">Templates and Filter Conditions</h5>
<div class="paragraph">
<p>By default, the client&#8217;s logs will be written to the server&#8217;s <code>/var/log/messages</code> file&#8201;&#8212;&#8201;together with those of the server themselves. However, we will create a <em>template</em> and a <em>filter condition</em> to have our client&#8217;s logs stored in clear-cut directories of their own. To do so, we will add the following to <code>/etc/rsyslog.conf</code> (or <code>/etc/rsyslog.d/remote.conf</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$template RemoteLogs,"/var/log/remotehosts/%HOSTNAME%/%$NOW%.%syslogseverity-text%.log"
if $FROMHOST-IP=='192.168.1.4' then ?RemoteLogs
&amp; stop</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Template</dt>
<dd>
<p>The template corresponds to the first line and allows you to specify a format for log names using dynamic file name generation. A template consists of:</p>
<div class="ulist">
<ul>
<li>
<p>Template directive (<code>$template</code>)</p>
</li>
<li>
<p>Template name (<code>RemoteLogs</code>)</p>
</li>
<li>
<p>Template text (<code>"/var/log/remotehosts/%HOSTNAME%/%$NOW%.%syslogseverity-text%.log"</code>)</p>
</li>
<li>
<p>Options (optional)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Our template is called <code>RemoteLogs</code> and its text consists of a path in <code>/var/log</code>. All of our remote host&#8217;s logs will go into the <code>remotehosts</code> directory, where a subdirectory will be created based on the machine&#8217;s hostname (<code>%HOSTNAME%</code>). Each filename in this directory will consist of the date (<code>%$NOW%</code>), the severity (aka priority) of the message in text format (<code>%syslogseverity-text%</code>) and the <code>.log</code> suffix. The words between percent signs are <em>properties</em> and allow you access to the contents of the log message (date, priority, etc.). A <code>syslog</code> message has a number of well-defined properties which can be used in templates. These properties are accessed&#8201;&#8212;&#8201;and can be modified&#8201;&#8212;&#8201;by the so-called <em>property replacer</em> which implies writing them between percent signs.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Filter Condition</dt>
<dd>
<p>The remaining two lines correspond to the filter condition and its associated action:</p>
<div class="ulist">
<ul>
<li>
<p>Expression-Based Filter (<code>if $FROMHOST-IP=='192.168.1.4'</code>)</p>
</li>
<li>
<p>Action (<code>then ?RemoteLogs</code>, <code>&amp; stop</code>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The first line checks the IP address of the remote host sending the log and&#8201;&#8212;&#8201;if it equals that of our Debian client&#8201;&#8212;&#8201;it applies the <code>RemoteLogs</code> template. The last line (<code>&amp; stop</code>) guarantees that messages are not being sent simultaneously to <code>/var/log/messages</code> (but only to files in the <code>/var/log/remotehosts</code> directory).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>To learn more about templates, properties and rules, you can consult the manual page for <code>rsyslog.conf</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With the configuration updated, we will restart <code>rsyslog</code> again and confirm there is no <code>remotehosts</code> directory in <code>/var/log</code> yet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>systemctl restart rsyslog</strong>
root@suse-server:~# <strong>ls /var/log/</strong>
acpid             chrony     localmessages   pbl.log          Xorg.0.log
alternatives.log  cups       mail            pk_backend_zypp  Xorg.0.log.old
apparmor          firebird   mail.err        samba            YaST2
audit             firewall   mail.info       snapper.log      zypp
boot.log          firewalld  mail.warn       tallylog         zypper.log
boot.msg          krb5       messages        tuned
boot.omsg         lastlog    mysql           warn
btmp              lightdm    NetworkManager  wtmp</pre>
</div>
</div>
<div class="paragraph">
<p>The server has now been configured. Next, we will configure the client.</p>
</div>
<div class="paragraph">
<p>Again, we must ensure that <code>rsyslog</code> is installed and running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>sudo systemctl status rsyslog</strong>
 rsyslog.service - System Logging Service
   Loaded: loaded (/lib/systemd/system/rsyslog.service; enabled; vendor preset:
   Active: active (running) since Thu 2019-09-17 18:47:54 CEST; 7min ago
     Docs: man:rsyslogd(8)
           http://www.rsyslog.com/doc/
 Main PID: 351 (rsyslogd)
    Tasks: 4 (limit: 4915)
   CGroup: /system.slice/rsyslog.service
           └─351 /usr/sbin/rsyslogd -n</pre>
</div>
</div>
<div class="paragraph">
<p>In our sample environment we have implemented name resolution on the client by adding the line <code>192.168.1.6   suse-server</code> to <code>/etc/hosts</code>. Thus, we can refer to the server by either name (<code>suse-server</code>) or IP address (<code>192.168.1.6</code>).</p>
</div>
<div class="paragraph">
<p>Our Debian client does not come with a <code>remote.conf</code> file in <code>/etc/rsyslog.d/</code>, so we will apply our configurations in <code>/etc/rsyslog.conf</code>. We will write the following line at the end of the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*.* @@suse-server:514</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we restart <code>rsyslog</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>systemctl restart rsyslog</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now, let us go back to our <code>suse-server</code> machine and check for the existence of <code>remotehosts</code> in <code>/var/log</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>ls /var/log/remotehosts/debian/</strong>
2019-09-17.info.log  2019-09-17.notice.log</pre>
</div>
</div>
<div class="paragraph">
<p>We already have two logs inside <code>/var/log/remotehosts</code> as described in our template. To complete this section, we run <code>tail -f</code> <code>2019-09-17.notice.log</code> on <code>suse-server</code> while we send a log <em>manually</em> from our Debian client and confirm that messages are appended to the log file as expected (the <code>-t</code> option supplies a tag for our message):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>tail -f /var/log/remotehosts/debian/2019-09-17.notice.log</strong>
2019-09-17T20:57:42+02:00 debian dbus[323]: [system] Successfully activated service 'org.freedesktop.nm_dispatcher'
2019-09-17T21:01:41+02:00 debian anacron[1766]: Anacron 2.3 started on 2019-09-17
2019-09-17T21:01:41+02:00 debian anacron[1766]: Normal exit (0 jobs run)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>logger -t DEBIAN-CLIENT Hi from 192.168.1.4</strong></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>root@suse-server:~# <strong>tail -f /var/log/remotehosts/debian/2019-09-17.notice.log</strong>
2019-09-17T20:57:42+02:00 debian dbus[323]: [system] Successfully activated service 'org.freedesktop.nm_dispatcher'
2019-09-17T21:01:41+02:00 debian anacron[1766]: Anacron 2.3 started on 2019-09-17
2019-09-17T21:01:41+02:00 debian anacron[1766]: Normal exit (0 jobs run)
2019-09-17T21:04:21+02:00 debian DEBIAN-CLIENT: Hi from 192.168.1.4</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_log_rotation_mechanism">The Log Rotation Mechanism</h4>
<div class="paragraph">
<p>Logs are rotated on a regular basis, which serves two main purposes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prevent older log files from using more disk space than necessary.</p>
</li>
<li>
<p>Keep logs to a manageable length for ease of consultation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The utility in charge of log rotation (or cycling) is <code>logrotate</code> and its job includes actions such as moving log files to a new name, archiving and/or compressing them, sometimes emailing them to the system administrator and eventually deleting them as they grow old. There are various conventions for naming these rotated log files (adding a suffix with the date to the filename, for example); however, simply adding a suffix with an integer is the common practice:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>ls /var/log/messages</strong>*
/var/log/messages  /var/log/messages.1  /var/log/messages.2.gz  /var/log/messages.3.gz  /var/log/messages.4.gz</pre>
</div>
</div>
<div class="paragraph">
<p>Let us now explain what will happen in the next log rotation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>messages.4.gz</code> will be deleted and lost.</p>
</li>
<li>
<p>The content of <code>messages.3.gz</code> will be moved to <code>messages.4.gz</code>.</p>
</li>
<li>
<p>The content of <code>messages.2.gz</code> will be moved to <code>messages.3.gz</code>.</p>
</li>
<li>
<p>The content of <code>messages.1</code> will be moved to <code>messages.2.gz</code>.</p>
</li>
<li>
<p>The content of <code>messages</code> will be moved to <code>messages.1</code> and <code>messages</code> will be empty and ready to register new log entries.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note how&#8201;&#8212;&#8201;according to <code>logrotate</code> directives that you will see shortly&#8201;&#8212;&#8201;the three older log files are compressed, whereas the two most recent ones are not. Also, we will be retaining the logs from the last 4-5 weeks. To read messages that are 1 week old, we will consult <code>messages.1</code> (and so on).</p>
</div>
<div class="paragraph">
<p><code>logrotate</code> is run as an automated process or cron job daily through the script <code>/etc/cron.daily/logrotate</code> and reads the configuration file <code>/etc/logrotate.conf</code>. This file includes some global options and is well commented with each option introduced by a brief explanation of its purpose:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>sudo less /etc/logrotate.conf</strong>
# see "man logrotate" for details
# rotate log files weekly
weekly

# keep 4 weeks worth of backlogs
rotate 4

# create new (empty) log files after rotating old ones
create

# uncomment this if you want your log files compressed
#compress

# packages drop log rotation information into this directory
include /etc/logrotate.d

(...)</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the configuration files in <code>/etc/logrotate.d</code> for specific packages are also included. These files contain&#8201;&#8212;&#8201;for the most part&#8201;&#8212;&#8201;local definitions and specify the logfiles to rotate (remember, local definitions take precedence over global ones, and later definitions override earlier ones). What follows is an excerpt of a definition in <code>/etc/logrotate.d/rsyslog</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/var/log/messages
{
        rotate 4
        weekly
        missingok
        notifempty
        compress
        delaycompress
        sharedscripts
        postrotate
                invoke-rc.d rsyslog rotate &gt; /dev/null
        endscript
}</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, every directive is separated from its value by whitespace and/or an optional equals sign (<code>=</code>). The lines between <code>postrotate</code> and <code>endscript</code> must appear on lines by themselves, though. The explanation is as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>rotate 4</code></dt>
<dd>
<p>Retain  4 weeks worth of logs.</p>
</dd>
<dt class="hdlist1"><code>weekly</code></dt>
<dd>
<p>Rotate log files weekly.</p>
</dd>
<dt class="hdlist1"><code>missingok</code></dt>
<dd>
<p>Do not issue an error message if the log file is missing; just go on to the next one.</p>
</dd>
<dt class="hdlist1"><code>notifempty</code></dt>
<dd>
<p>Do not rotate the log if it is empty.</p>
</dd>
<dt class="hdlist1"><code>compress</code></dt>
<dd>
<p>Compress log files with <code>gzip</code> (default).</p>
</dd>
<dt class="hdlist1"><code>delaycompress</code></dt>
<dd>
<p>Postpone compression of the previous log file to the next rotation cycle (only effective when used in combination with compress). It is useful when a program cannot be told to close its log file and thus might continue writing to the previous log file for some time.</p>
</dd>
<dt class="hdlist1"><code>sharedscripts</code></dt>
<dd>
<p>Related to <em>prerotate</em> and <em>postrotate</em> scripts. To prevent a script from being executed multiple times, run the scripts only once regardless of how many log files match a given pattern (e.g. <code>/var/log/mail/*</code>).The scripts will not be run if none of the logs in the pattern require rotating, though. On top of that, if the scripts exit with errors, any remaining actions will not be executed for any logs.</p>
</dd>
<dt class="hdlist1"><code>postrotate</code></dt>
<dd>
<p>Indicate the beginning of a <em>postrotate</em> script.</p>
</dd>
<dt class="hdlist1"><code>invoke-rc.d rsyslog rotate &gt; /dev/null</code></dt>
<dd>
<p>Use <code>/bin/sh</code> to run <code>invoke-rc.d rsyslog rotate &gt; /dev/null</code> after rotating the logs.</p>
</dd>
<dt class="hdlist1"><code>endscript</code></dt>
<dd>
<p>Indicate the end of the <em>postrotate</em> script.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For a complete list of directives and explanations, consult the manual page for <code>logrotate.conf</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_the_kernel_ring_buffer">The Kernel Ring Buffer</h4>
<div class="paragraph">
<p>Since the kernel generates several messages before <code>rsyslogd</code> becomes available on boot, a mechanism to register those messages becomes necessary. This is where the <em>kernel ring buffer</em> comes into play. It is a fixed-size data structure and&#8201;&#8212;&#8201;therefore&#8201;&#8212;&#8201;as it grows with new messages, the oldest will disappear.</p>
</div>
<div class="paragraph">
<p>The <code>dmesg</code> command prints the kernel ring buffer. Because of the buffer&#8217;s size, this command is normally used in combination with the text filtering utility <code>grep</code>. For instance, to search for messages related to Universal Serial Bus devices:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@debian:~# <strong>dmesg | grep "usb"</strong>
[    1.241182] usbcore: registered new interface driver usbfs
[    1.241188] usbcore: registered new interface driver hub
[    1.250968] usbcore: registered new device driver usb
[    1.339754] usb usb1: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 4.19
[    1.339756] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
(...)</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What utilities/commands would you use in the following scenarios:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose and log file</th>
<th class="tableblock halign-left valign-top">Utility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog.7.gz</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter for the word <code>renewal</code> in <code>/var/log/syslog</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/faillog</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog</code> dynamically</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Rearrange the following log entries in such a way that they represent a valid log message with the proper structure:</p>
<div class="ulist">
<ul>
<li>
<p><code>debian-server</code></p>
</li>
<li>
<p><code>sshd</code></p>
</li>
<li>
<p><code>[515]:</code></p>
</li>
<li>
<p><code>Sep 13 21:47:56</code></p>
</li>
<li>
<p><code>sshd Server listening on 0.0.0.0 port 22</code></p>
<div class="paragraph">
<p>The correct order is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>What rules would you add to <code>/etc/rsyslog.conf</code> in order to accomplish each of the following:</p>
<div class="ulist">
<ul>
<li>
<p>Send all messages from the <code>mail</code> facility and a priority/severity of <code>crit</code> (and above) to  <code>/var/log/mail.crit</code>:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Send all messages from the <code>mail</code> facility with priorities of <code>alert</code> and <code>emergency</code> to <code>/var/log/mail.urgent</code>:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Except for those coming from the <code>cron</code> and <code>ntp</code> facilities, send all messages&#8201;&#8212;&#8201;irrespective of their facility and priority&#8201;&#8212;&#8201;to <code>/var/log/allmessages</code>:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>With all required settings properly configured first, send all messages from the <code>mail</code> facility to a remote host whose IP address is <code>192.168.1.88</code> using TCP and specifying the default port:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Irrespective of their facility, send all messages with the <code>warning</code> priority (<em>only with the <code>warning</code> priority</em>) to <code>/var/log/warnings</code> preventing excessive writing to the disk:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Consider following stanza from <code>/etc/logrotate.d/samba</code> and explain the different options:</p>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>sudo head -n 11 /etc/logrotate.d/samba</strong>
/var/log/samba/log.smbd {
        weekly
        missingok
        rotate 7
        postrotate
                [ ! -f /var/run/samba/smbd.pid ] || /etc/init.d/smbd reload > /dev/null
        endscript
        compress
        delaycompress
        notifempty
}</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>weekly</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>missingok</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rotate 7</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>postrotate</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endscript</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compress</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delaycompress</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notifyempty</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In section &#8220;Templates and Filter Conditions&#8221; we used an <em>expression-based filter</em> as a filter condition. <em>Property-based filters</em> are another type of filter unique to <code>rsyslogd</code>. Translate our <em>expression-based filter</em> into a <em>property-based filter</em>:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression-Based Filter</th>
<th class="tableblock halign-left valign-top">Property-Based Filter</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>if $FROMHOST-IP=='192.168.1.4' then ?RemoteLogs</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>omusrmsg</code> is an <code>rsyslog</code> built-in module which facilitates notifying users (it sends log messages to the user terminal). Write a rule to send all <em>emergency</em> messages of all facilities to both <code>root</code> and the regular user <code>carol</code>.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson you learned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Logging is crucial for system administration.</p>
</li>
<li>
<p><code>rsyslogd</code> is the utility in charge of keeping logs neat and orderly.</p>
</li>
<li>
<p>Some services take care of their own logs.</p>
</li>
<li>
<p>Roughly speaking, logs can be classified into system logs and service/program logs.</p>
</li>
<li>
<p>There are a number of utilities which are convenient for log reading: <code>less</code>, <code>more</code>, <code>zless</code>, <code>zmore</code>, <code>grep</code>, <code>head</code> and <code>tail</code>.</p>
</li>
<li>
<p>Most log files are plain-text files; however, there are a small number of binary log files.</p>
</li>
<li>
<p>Log-wise, <code>rsyslogd</code> receives the relevant information from special files (sockets and memory buffers) before processing it.</p>
</li>
<li>
<p>To classify logs, <code>rsyslogd</code> uses rules in <code>/etc/rsyslog.conf</code> or <code>/etc/rsyslog.d/*</code>.</p>
</li>
<li>
<p>Any user may enter their own messages into the system log manually with the <code>logger</code> utility.</p>
</li>
<li>
<p><code>rsyslog</code> allows you to keep all logs across IP networks in a centralized log server.</p>
</li>
<li>
<p>Templates come in handy for formatting log file names dynamically.</p>
</li>
<li>
<p>The purpose of log rotation is twofold: preventing old logs from using excessive disk space and making consulting logs manageable.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What utilities/commands would you use in the following scenarios:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose and log file</th>
<th class="tableblock halign-left valign-top">Utility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog.7.gz</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zmore</code> or <code>zless</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>more</code> or <code>less</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter for the word <code>renewal</code> in <code>/var/log/syslog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>grep</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/faillog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>faillog -a</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read <code>/var/log/syslog</code> dynamically</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tail -f</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Rearrange the following log entries in such a way that they represent a valid log message with the proper structure:</p>
<div class="ulist">
<ul>
<li>
<p><code>debian-server</code></p>
</li>
<li>
<p><code>sshd</code></p>
</li>
<li>
<p><code>[515]:</code></p>
</li>
<li>
<p><code>Sep 13 21:47:56</code></p>
</li>
<li>
<p><code>sshd Server listening on 0.0.0.0 port 22</code></p>
<div class="paragraph">
<p>The correct order is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Sep 13 21:47:56 debian-server sshd[515]: Server listening on 0.0.0.0 port 22</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>What rules would you add to <code>/etc/rsyslog.conf</code> in order to accomplish each of the following:</p>
<div class="ulist">
<ul>
<li>
<p>Send all messages from the <code>mail</code> facility and a priority/severity of <code>crit</code> (and above) to  <code>/var/log/mail.crit</code>:</p>
<div class="listingblock">
<div class="content">
<pre>mail.crit                 /var/log/mail.crit</pre>
</div>
</div>
</li>
<li>
<p>Send all messages from the <code>mail</code> facility with priorities of <code>alert</code> and <code>emergency</code> to <code>/var/log/mail.urgent</code>:</p>
<div class="listingblock">
<div class="content">
<pre>mail.alert                        /var/log/mail.urgent</pre>
</div>
</div>
</li>
<li>
<p>Except for those coming from the <code>cron</code> and <code>ntp</code> facilities, send all messages&#8201;&#8212;&#8201;irrespective of their facility and priority&#8201;&#8212;&#8201;to <code>/var/log/allmessages</code>:</p>
<div class="listingblock">
<div class="content">
<pre>*.*;cron.none;ntp.none                 /var/log/allmessages</pre>
</div>
</div>
</li>
<li>
<p>With all required settings properly configured first, send all messages from the <code>mail</code> facility to a remote host whose IP address is <code>192.168.1.88</code> using TCP and specifying the default port:</p>
<div class="listingblock">
<div class="content">
<pre>mail.* @@192.168.1.88:514</pre>
</div>
</div>
</li>
<li>
<p>Irrespective of their facility, send all messages with the <code>warning</code> priority (<em>only with the <code>warning</code> priority</em>) to <code>/var/log/warnings</code> preventing excessive writing to the disk:</p>
<div class="listingblock">
<div class="content">
<pre>*.=warning                        -/var/log/warnings</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Consider following stanza from <code>/etc/logrotate.d/samba</code> and explain the different options:</p>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>sudo head -n 11 /etc/logrotate.d/samba</strong>
/var/log/samba/log.smbd {
        weekly
        missingok
        rotate 7
        postrotate
                [ ! -f /var/run/samba/smbd.pid ] || /etc/init.d/smbd reload > /dev/null
        endscript
        compress
        delaycompress
        notifempty
}</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>weekly</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotate log files on a weekly basis.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>missingok</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not issue an error message if the log is missing; just continue to the next one.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rotate 7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep 7 weeks worth of backlogs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>postrotate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run the script on the following line after rotating the logs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endscript</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicate the end of the <em>postrotate</em> script.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compress the logs with <code>gzip</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delaycompress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In combination with <code>compress</code>, postpone compression to the next rotation cycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notifyempty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not rotate the log if it is empty.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.108.2_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In section &#8220;Templates and Filter Conditions&#8221; we used an <em>expression-based filter</em> as a filter condition. <em>Property-based filters</em> are another type of filter unique to <code>rsyslogd</code>. Translate our <em>expression-based filter</em> into a <em>property-based filter</em>:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression-Based Filter</th>
<th class="tableblock halign-left valign-top">Property-Based Filter</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>if $FROMHOST-IP=='192.168.1.4' then ?RemoteLogs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>:fromhost-ip, isequal, "192.168.1.4" ?RemoteLogs</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>omusrmsg</code> is an <code>rsyslog</code> built-in module which facilitates notifying users (it sends log messages to the user terminal). Write a rule to send all <em>emergency</em> messages of all facilities to both <code>root</code> and the regular user <code>carol</code>.</p>
<div class="listingblock">
<div class="content">
<pre>*.emerg                        :omusrmsg:root,carol</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">108.2 System logging (108.2 Lesson 2)</p>

        <div class="button-group">
            <a href="../108.2_02/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
