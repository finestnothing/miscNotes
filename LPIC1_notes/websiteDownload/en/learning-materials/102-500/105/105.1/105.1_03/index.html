

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>105.1 Lesson 3</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">105.1 Lesson 3</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../109/109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 105: Shells and Shell Scripting</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">105.1 Customize and use the shell environment</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">105.1 Lesson 3</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>105.1 Lesson 3</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">105 Shells and Shell Scripting</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">105.1 Customize and use the shell environment</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 of 3</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After going through shells, startup scripts and variables in the previous lessons, we will round the whole topic of customizing the shell off by having a look at two very interesting shell elements: <em>aliases</em> and <em>functions</em>. In fact the entire group of variables, aliases and functions&#8201;&#8212;&#8201;and their influence on one another&#8201;&#8212;&#8201;is what makes up the shell environment.</p>
</div>
<div class="paragraph">
<p>The main strength of these two flexible and time-saving shell facilities has to do with the concept of encapsulation: they offer the possibility of putting together&#8201;&#8212;&#8201;under a single command&#8201;&#8212;&#8201;a series of repetitive or recurrent commands.</p>
</div>
<div class="sect2">
<h3 id="_creating_aliases">Creating Aliases</h3>
<div class="paragraph">
<p>An alias is a substitute name for another command(s). It can run like a regular command, but instead executes another command according to the alias definition.</p>
</div>
<div class="paragraph">
<p>The syntax for declaring aliases is quite straightforward. Aliases are declared by writing the keyword <code>alias</code> followed by the alias assignment. In turn, the alias assignment consists of the <em>alias name</em>, an <em>equal sign</em> and one or more <em>commands</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>alias alias_name=command(s)</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias oldshell=sh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This awkward alias will start an instance of the original <code>sh</code> shell when the user types <code>oldshell</code> into the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>oldshell</strong>
$</pre>
</div>
</div>
<div class="paragraph">
<p>The power of aliases lies in that they allow us to write short versions of long commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias ls='ls --color=auto'</strong></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For information about <code>ls</code> and its colors, type <code>man dir_colors</code> into the terminal.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Likewise, we can create aliases for a series of concatenated commands&#8201;&#8212;&#8201;the semicolon (<code>;</code>) is used as a delimiter. We can, for instance, have an alias that gives us information about the location of the <code>git</code> executable and its version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias git_info='which git;git --version'</strong></pre>
</div>
</div>
<div class="paragraph">
<p>To invoke an alias, we type its name into the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>git_info</strong>
/usr/bin/git
git version 2.7.4</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>alias</code> command will produce a listing of all available aliases in the system:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias</strong>
alias git-info='which git;git --version'
alias ls='ls --color=auto'
alias oldshell='sh'</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>unalias</code> command removes aliases. We can, for instance, <code>unalias git-info</code> and see how it disappears from the listing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>unalias git-info</strong>
$ <strong>alias</strong>
alias ls='ls --color=auto'
alias oldshell='sh'</pre>
</div>
</div>
<div class="paragraph">
<p>As we saw with the <code>alias hi='echo We salute you.'</code> in a previous lesson, we must enclose commands in quotes (either single or double) when&#8201;&#8212;&#8201;as a result of having arguments or parameters&#8201;&#8212;&#8201;they contain spaces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias greet='echo Hello world!'</strong>
$ <strong>greet</strong>
Hello world!</pre>
</div>
</div>
<div class="paragraph">
<p>Commands with spaces include also those with options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias ll='ls -al'</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now <code>ll</code> will list all files&#8201;&#8212;&#8201;including the hidden ones (<code>a</code>)&#8201;&#8212;&#8201;in the long format (<code>l</code>).</p>
</div>
<div class="paragraph">
<p>We can reference variables in aliases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>reptile=uromastyx</strong>
$ <strong>alias greet='echo Hello $reptile!'</strong>
$ <strong>greet</strong>
Hello uromastyx!</pre>
</div>
</div>
<div class="paragraph">
<p>The variable can also be assigned within the alias:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias greet='reptile=tortoise; echo Hello $reptile!'</strong>
$ <strong>greet</strong>
Hello tortoise!</pre>
</div>
</div>
<div class="paragraph">
<p>We can escape an alias with <code>\</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias where?='echo $PWD'</strong>
$ <strong>where?</strong>
/home/user2
$ <strong>\where?</strong>
-bash: where?: command not found</pre>
</div>
</div>
<div class="paragraph">
<p>Escaping an alias is useful when an alias has the same name as a regular command. In this case, the alias takes precedence over the original command, which, however, is still be accessible by escaping the alias.</p>
</div>
<div class="paragraph">
<p>Likewise, we can put an alias inside another alias:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>where?</strong>
/home/user2
$ <strong>alias my_home=where?</strong>
$ <strong>my_home</strong>
/home/user2</pre>
</div>
</div>
<div class="paragraph">
<p>On top of that, we can also put a function inside an alias as you will be shown below.</p>
</div>
<div class="sect3">
<h4 id="_expansion_and_evaluation_of_quotes_in_aliases">Expansion and Evaluation of Quotes in Aliases</h4>
<div class="paragraph">
<p>When using quotes with environment variables, single quotes make the expansion dynamic:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias where?='echo $PWD'</strong>
$ <strong>where?</strong>
/home/user2
$ <strong>cd Music</strong>
$ <strong>where?</strong>
/home/user2/Music</pre>
</div>
</div>
<div class="paragraph">
<p>However, with double quotes the expansion is done statically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias where?="echo $PWD"</strong>
$ <strong>where?</strong>
/home/user2
$ <strong>cd Music</strong>
$ <strong>where?</strong>
/home/user2</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_persistence_of_aliases_startup_scripts">Persistence of Aliases: Startup Scripts</h4>
<div class="paragraph">
<p>Just as with variables, for our aliases to gain persistence, we must put them into initialization scripts that are sourced at startup. As we already know, a good file for users to put their personal aliases in is <code>~/.bashrc</code>. You will probably find some aliases there already (most of them commented out and ready to be used by removing the leading <code>#</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>grep alias .bashrc</strong>
# enable color support of ls and also add handy aliases
    alias ls='ls --color=auto'
    #alias dir='dir --color=
    #alias vdir='vdir --color=
    #alias grep='grep --color=
    #alias fgrep='fgrep --color'
    #alias egrep='egrep --color=
# some more ls aliases
#ll='ls -al'
#alias la='ls -A'
#alias l='ls -CF'
# ~/.bash_aliases, instead of adding them here directly.
if [ -f ~/.bash_aliases ]; then
   . ~/.bash_aliases</pre>
</div>
</div>
<div class="paragraph">
<p>As you can read in the last three lines, we are offered the possibility of having our own alias-dedicated file&#8201;&#8212;&#8201;<code>~/.bash_aliases</code>&#8201;&#8212;&#8201;and have it sourced by <code>.bashrc</code> with every system start. So we can go for that option and create and populate such file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>###########
# .bash_aliases:
# a file to be populated by the user's personal aliases (and sourced by ~/.bashrc).
###########
alias git_info='which git;git --version'
alias greet='echo Hello world!'
alias ll='ls -al'
alias where?='echo $PWD'</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_functions">Creating Functions</h3>
<div class="paragraph">
<p>Compared to aliases, functions are more programmatic and flexible, specially when it comes to exploiting the full potential of <em>Bash</em> special built-in variables and positional parameters. They are also great to work with flow control structures such as loops or conditionals. We can think of a function as a command which includes logic through blocks or collections of other commands.</p>
</div>
<div class="sect3">
<h4 id="_two_syntaxes_for_creating_functions">Two Syntaxes for Creating Functions</h4>
<div class="paragraph">
<p>There are two valid syntaxes to define functions.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Using the keyword <code>function</code></dt>
<dd>
<p>On the one hand, we can use the keyword <code>function</code>, followed by the name of the function and the commands between curly brackets:</p>
<div class="listingblock">
<div class="content">
<pre>function function_name {
command #1
command #2
command #3
.
.
.
command #n
}</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Using <code>()</code></dt>
<dd>
<p>On the other, we can leave out the keyword <code>function</code> and use two brackets right after the name of the function instead:</p>
<div class="listingblock">
<div class="content">
<pre>function_name() {
command #1
command #2
command #3
.
.
.
command #n
}</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>It is commonplace to put functions in files or scripts. However, they can also be written directly into the shell prompt with each command on a different line&#8201;&#8212;&#8201;note <code>PS2</code>(<code>&gt;</code>) indicating a new line after a line break:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>greet() {</strong>
> <strong>greeting="Hello world!"</strong>
> <strong>echo $greeting</strong>
> <strong>}</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Whatever the case&#8201;&#8212;&#8201;and irrespective of the syntax we choose&#8201;&#8212;&#8201;, if we decide to skip line breaks and write a function in just one line, commands must be separated by semicolons (note the semicolon after the last command too):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>greet() { greeting="Hello world!"; echo $greeting; }</strong></pre>
</div>
</div>
<div class="paragraph">
<p><code>bash</code> did not complain when we pressed Enter, so our function is ready to be invoked. To invoke a function, we must type its name into the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>greet</strong>
Hello world!</pre>
</div>
</div>
<div class="paragraph">
<p>Just as with variables and aliases, if we want functions to be persistent across system reboots we have to put them into shell initialization scripts such as <code>/etc/bash.bashrc</code> (global) or <code>~/.bashrc</code> (local).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>After adding aliases or functions to any startup script file, you should source such files with either <code>.</code> or <code>source</code> for the changes to take effect if you do not want to logout and back in again or reboot the system.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_bash_special_built_in_variables">Bash Special Built-in Variables</h4>
<div class="paragraph">
<p>The <em>Bourne Again Shell</em> comes with a set of special variables which are particularly useful for functions and scripts. These are special because they can only be referenced&#8201;&#8212;&#8201;not assigned. Here is a list of the most relevant ones:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>$?</code></dt>
<dd>
<p>This variable&#8217;s reference expands to the result of the last command run. A value of <code>0</code> means success:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ps aux | grep bash</strong>
user2      420  0.0  0.4  21156  5012 pts/0    Ss   17:10   0:00 -bash
user2      640  0.0  0.0  12784   936 pts/0    S+   18:04   0:00 grep bash
$ <strong>echo $?</strong>
0</pre>
</div>
</div>
<div class="paragraph">
<p>A value other than <code>0</code> means error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>user1@debian:~$ <strong>ps aux |rep bash</strong>
-bash: rep: command not found
user1@debian:~$ <strong>echo $?</strong>
127</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>$$</code></dt>
<dd>
<p>It expands to the shell PID (process ID):</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ps aux | grep bash</strong>
user2      420  0.0  0.4  21156  5012 pts/0    Ss   17:10   0:00 -bash
user2      640  0.0  0.0  12784   936 pts/0    S+   18:04   0:00 grep bash
$ <strong>echo $$</strong>
420</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>$!</code></dt>
<dd>
<p>It expands to the PID of the last background job:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ps aux | grep bash &amp;</strong>
[1] 663
$ user2      420  0.0  0.4  21156  5012 pts/0    Ss+  17:10   0:00 -bash
user2      663  0.0  0.0  12784   972 pts/0    S    18:08   0:00 grep bash
^C
[1]+  Done                   ps aux | grep bash
$ <strong>echo $!</strong>
663</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Remember, the ampersand (<code>&amp;</code>) is used to start processes in the background.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">Positional parameters <code>$0</code> through <code>$9</code></dt>
<dd>
<p>They expand to the parameters or arguments being passed to the function (alias or script)&#8201;&#8212;&#8201;<code>$0</code> expanding to the name of the script or shell.</p>
<div class="paragraph">
<p>Let us create a function to demonstrate positional parameters&#8201;&#8212;&#8201;note <code>PS2</code> (<code>&gt;</code>) indicating new lines after line breaks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars() {
> echo $0
> echo $1
> echo $2
> echo $3
}</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we will invoke the function (<code>special_vars</code>) passing three parameters to it (<code>debian</code>, <code>ubuntu</code>, <code>zorin</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars debian ubuntu zorin</strong>
-bash
debian
ubuntu
zorin</pre>
</div>
</div>
<div class="paragraph">
<p>It worked as expected.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Although passing positional parameters to aliases is technically possible, it is not at all functional since&#8201;&#8212;&#8201;with aliases&#8201;&#8212;&#8201;positional parameters are always passed at the end:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias great_editor='echo $1 is a great text editor'</strong>
$ <strong>great_editor emacs</strong>
is a great text editor emacs</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Other Bash special built-in variables include:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>$#</code></dt>
<dd>
<p>It expands to the number of arguments passed to the command.</p>
</dd>
<dt class="hdlist1"><code>$@</code>, <code>$*</code></dt>
<dd>
<p>They expand to the arguments passed to the command.</p>
</dd>
<dt class="hdlist1"><code>$_</code></dt>
<dd>
<p>It expands to the last parameter or the name of the script (amongst other things; see <code>man bash</code> to find out more!):</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_variables_in_functions">Variables in Functions</h4>
<div class="paragraph">
<p>Of course, variables can be used within functions.</p>
</div>
<div class="paragraph">
<p>To prove it, this time we will create a new empty file called <code>funed</code> and put the following function into it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>editors() {

editor=emacs

echo "My editor is: $editor. $editor is a fun text editor."
}</pre>
</div>
</div>
<div class="paragraph">
<p>As you may have guessed by now, we must source the file first to be able to invoke the function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>. funed</strong></pre>
</div>
</div>
<div class="paragraph">
<p>And now we can test it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>editors</strong>
My editor is emacs. emacs is a fun text editor.</pre>
</div>
</div>
<div class="paragraph">
<p>As you can appreciate, for the <code>editors</code> function to work properly, the <code>editor</code> variable must first be set. The scope of that variable is local to the current shell and we can reference it as long as the session lasts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>echo $editor</strong>
emacs</pre>
</div>
</div>
<div class="paragraph">
<p>Together with local variables we can also include environment variables in our function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>editors() {

editor=emacs

echo "The text editor of $USER is: $editor."
}

editors</pre>
</div>
</div>
<div class="paragraph">
<p>Note how this time we decided to call the function from within the file itself (<code>editors</code> in the last line). That way, when we source the file, the function will also be invoked&#8201;&#8212;&#8201;all at once:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>. funed</strong>
The text editor of user2 is: emacs.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_positional_parameters_in_functions">Positional Parameters in Functions</h4>
<div class="paragraph">
<p>Something similar occurs with positional parameters.</p>
</div>
<div class="paragraph">
<p>We can pass them to functions from within the file or script (note the last line: <code>editors tortoise</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>editors() {

editor=emacs

echo "The text editor of $USER is: $editor."
echo "Bash is not a $1 shell."
}

editors tortoise</pre>
</div>
</div>
<div class="paragraph">
<p>We source the file and prove it works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>. funed</strong>
The text editor of user2 is: emacs.
Bash is not a tortoise shell.</pre>
</div>
</div>
<div class="paragraph">
<p>And we can also pass positional parameters to functions at the command line. To prove it, we get rid of the last line of the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>editors() {

editor=emacs

echo "The text editor of $USER is: $editor."
echo "Bash is not a $1 shell."
}</pre>
</div>
</div>
<div class="paragraph">
<p>Then, we have to source the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>. funed</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we invoke the function with <code>tortoise</code> as the positional parameter <code>$1</code> at the command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>editors tortoise</strong>
The text editor of user2 is: emacs.
Bash is not a tortoise shell.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_functions_in_scripts">Functions in Scripts</h4>
<div class="paragraph">
<p>Functions are mostly found in Bash scripts.</p>
</div>
<div class="paragraph">
<p>Turning our <code>funed</code> file into a script (we will name it <code>funed.sh</code>) is really a piece of cake:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash

editors() {

editor=emacs

echo "The text editor of $USER is: $editor."
echo "Bash is not a $1 shell."
}

editors tortoise</pre>
</div>
</div>
<div class="paragraph">
<p>That is it! We only added two lines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first line is the <em>shebang</em> and defines what program is going to interpret the script: <code>#!/bin/bash</code>. Curiously enough, that program is <code>bash</code> itself.</p>
</li>
<li>
<p>The last line is simply the invocation of the function.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now there is only one thing left&#8201;&#8212;&#8201;we have to make the script executable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod +x funed.sh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>And now it is ready to be executed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>./funed.sh</strong>
The text editor of user2 is: emacs.
Bash is not a tortoise shell.</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You will learn all about <em>shell scripting</em> in the next few lessons.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sec.105.1.03-IN-FunctionInAlias">A Function within an Alias</h4>
<div class="paragraph">
<p>As said above, we can put a function inside an alias:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>alias great_editor='gr8_ed() { echo $1 is a great text editor; unset -f gr8_ed; }; gr8_ed'</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This long alias value deserves an explanation. Let us break it down:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First there is the function itself: <code>gr8_ed() { echo $1 is a great text editor; unset -f gr8_ed; }</code></p>
</li>
<li>
<p>The last command in the function&#8201;&#8212;&#8201;<code>unset -f gr8_ed</code>&#8201;&#8212;&#8201;unsets the function so that it does not remain in the present <code>bash</code> session after the alias is called.</p>
</li>
<li>
<p>Last but not least, to have a successful alias invocation, we must first invoke the function too: <code>gr8_ed</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let us invoke the alias and prove it works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>great_editor emacs</strong>
emacs is a great text editor</pre>
</div>
</div>
<div class="paragraph">
<p>As shown in <code>unset -f gr8_ed</code> above, the <code>unset</code> command is not only used to unset variables, but also functions. In fact, there are specific switches or options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>unset -v</code></dt>
<dd>
<p>for variables</p>
</dd>
<dt class="hdlist1"><code>unset -f</code></dt>
<dd>
<p>for functions</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If used without switches, <code>unset</code> will try to unset a variable first and&#8201;&#8212;&#8201;if it fails&#8201;&#8212;&#8201;then it will try to unset a function.</p>
</div>
</div>
<div class="sect3">
<h4 id="sec.105.1.03-IN-FunctionInFunction">A Function within a Function</h4>
<div class="paragraph">
<p>Now say we want to communicate two things to <code>user2</code> every time she logs into the system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Say hello and recommend/praise a text editor.</p>
</li>
<li>
<p>Since she is starting to put a lot of <code>Matroska</code> video files in its <code>$HOME/Video</code> folder, we also want to give her a warning.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To accomplish that purpose, we have put the following two functions into <code>/home/user2/.bashrc</code>:</p>
</div>
<div class="paragraph">
<p>The first function (<code>check_vids</code>) does the checking on <code>.mkv</code> files and the warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>check_vids() {
    ls -1 ~/Video/*.mkv &gt; /dev/null 2&gt;&amp;1
    if [ "$?" = "0" ];then
        echo -e "Remember, you must not keep more than 5 video files in your Video folder.\nThanks."
    else
	echo -e "You do not have any videos in the Video folder. You can keep up to 5.\nThanks."
    fi
}</pre>
</div>
</div>
<div class="paragraph">
<p><code>check_vids</code> does three things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It lists the <code>mkv</code> files in <code>~/Video</code> sending the output&#8201;&#8212;&#8201;and any errors&#8201;&#8212;&#8201;to the so-called <em>bit-bucket</em> (<code>/dev/null</code>).</p>
</li>
<li>
<p>It tests the output of the previous command for success.</p>
</li>
<li>
<p>Depending on the result of the test, it echoes one of two messages.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The second function is a modified version of our <code>editors</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>editors() {

editor=emacs

echo "Hi, $USER!"
echo "$editor is more than a text editor!"

check_vids
}

editors</pre>
</div>
</div>
<div class="paragraph">
<p>It is important to observe two things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The last command of <code>editors</code> invokes <code>check_vids</code> so both functions get chained: The greeting, praise and the checking and warning are executed in sequence.</p>
</li>
<li>
<p><code>editors</code> itself is the entry point to the sequence of functions so it is invoked in the last line (<code>editors</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now, let us log in as <code>user2</code> and prove it works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>su - user2</strong>
Hi, user2!
emacs is more than a text editor!
Remember, you must not keep more than 5 video files in your Video folder.
Thanks.</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete the table with &#8220;Yes&#8221; or &#8220;No&#8221; considering the capabilities of aliases and functions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Aliases?</th>
<th class="tableblock halign-left valign-top">Functions?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local variables can be used</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment variables can be used</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be escaped with <code>\</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be recursive</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very productive when used with positional parameters</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Enter the command that list all aliases in your system:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Write an alias named <code>logg</code> that lists all <code>ogg</code> files in <code>~/Music</code>&#8201;&#8212;&#8201;one per line:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Invoke the alias to prove it works:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Now, modify the alias so that it echoes out the session&#8217;s user and a colon before the listing:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Invoke it again to prove this new version also works:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>List all aliases again and check your <code>logg</code> alias appears in the listing:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Remove the alias:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Study the columns &#8220;Alias Name&#8221; and &#8220;Aliased Command(s)`&#8221; and assign the aliases to their values correctly:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Alias Name</th>
<th class="tableblock halign-left valign-top">Aliased Command(s)</th>
<th class="tableblock halign-left valign-top">Alias Assignment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bash</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bash_info</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>which bash</code> + <code>echo "$BASH_VERSION"</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kernel_info</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uname -r</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>greet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo Hi, $USER!</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>computer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc=slimbook</code> + <code>echo My computer is a $pc</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>As <code>root</code>, write a function called <code>my_fun</code> in <code>/etc/bash.bashrc</code>. The function must say hello to the user and tell them what their path is. Invoke it so that the user gets both messages every time they log in:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Login as <code>user2</code> to check it works:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Write the same function in just one line:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Invoke the function:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Unset the function:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>This is a modified version of the <code>special_vars</code> function:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars2() {
> echo $#
> echo $_
> echo $1
> echo $4
> echo $6
> echo $7
> echo $_
> echo $@
> echo $?
> }</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This is the command we use to invoke it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars2 crying cockles and mussels alive alive oh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Guess the outputs:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reference</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $#</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $_</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $1</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $4</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $6</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $7</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $_</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $@</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $?</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Based on the sample function (<code>check_vids</code>) in the section &#8220;A Function within a Function&#8221;, write a function named <code>check_music</code> to include into a <code>bash</code> startup script that accepts positional parameters so that we can modify easily:</p>
<div class="ulist">
<ul>
<li>
<p>the type of file being checked: <code>ogg</code></p>
</li>
<li>
<p>the directory in which files are saved: <code>~/Music</code></p>
</li>
<li>
<p>the type of file being kept: <code>music</code></p>
</li>
<li>
<p>the number of files being saved: <code>7</code></p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Read-only functions are those whose contents we cannot modify. Do a research on <em>readonly functions</em> and complete the following table:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function Name</th>
<th class="tableblock halign-left valign-top">Make it readonly</th>
<th class="tableblock halign-left valign-top">List all readonly Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>my_fun</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Search the web for how to modify <code>PS1</code> and anything else you may need to write a function called <code>fyi</code> (to be placed in a startup script) which gives the user the following information:</p>
<div class="ulist">
<ul>
<li>
<p>name of the user</p>
</li>
<li>
<p>home directory</p>
</li>
<li>
<p>name of the host</p>
</li>
<li>
<p>operating system type</p>
</li>
<li>
<p>search path for executables</p>
</li>
<li>
<p>mail directory</p>
</li>
<li>
<p>how often mail is checked</p>
</li>
<li>
<p>how many shells deep the current session is</p>
</li>
<li>
<p>prompt (you should modify it so that it shows <code>&lt;user&gt;@&lt;host-date&gt;</code>)</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this lesson you learned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Both aliases and functions are important features of the shell that allow us to encapsulate recurrent blocks of code.</p>
</li>
<li>
<p>Aliases are useful to have shorter versions of long and/or complicated commands.</p>
</li>
<li>
<p>Functions are procedures that implement logic and allow us to automate tasks, specially when used in scripts.</p>
</li>
<li>
<p>The syntax to write aliases and functions.</p>
</li>
<li>
<p>How to concatenate various commands by means of the semicolon (<code>;</code>).</p>
</li>
<li>
<p>How to properly use quotes with aliases.</p>
</li>
<li>
<p>How to make aliases and functions persistent.</p>
</li>
<li>
<p>Bash special built-in variables: <code>$?</code>, <code>$$</code>, <code>$!</code>, positional parameters (<code>$0</code>-<code>$9</code>), <code>$#</code>, <code>$@</code>, <code>$*</code> and <code>$_</code>.</p>
</li>
<li>
<p>How to use variables and positional parameters with functions.</p>
</li>
<li>
<p>How to use functions in scripts.</p>
</li>
<li>
<p>How to invoke a function from an alias.</p>
</li>
<li>
<p>How to invoke a function from another function.</p>
</li>
<li>
<p>The basics for creating a <code>bash</code> script.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Commands and keywords used in this lesson:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>alias</code></dt>
<dd>
<p>Create aliases.</p>
</dd>
<dt class="hdlist1"><code>unalias</code></dt>
<dd>
<p>Remove aliases.</p>
</dd>
<dt class="hdlist1"><code>cd</code></dt>
<dd>
<p>Change directory.</p>
</dd>
<dt class="hdlist1"><code>grep</code></dt>
<dd>
<p>Print lines matching a pattern.</p>
</dd>
<dt class="hdlist1"><code>function</code></dt>
<dd>
<p>Shell keyword to create functions.</p>
</dd>
<dt class="hdlist1"><code>.</code></dt>
<dd>
<p>Source a file.</p>
</dd>
<dt class="hdlist1"><code>source</code></dt>
<dd>
<p>Source a file.</p>
</dd>
<dt class="hdlist1"><code>ps</code></dt>
<dd>
<p>Report a snapshot of the current processes.</p>
</dd>
<dt class="hdlist1"><code>echo</code></dt>
<dd>
<p>Display a line of text.</p>
</dd>
<dt class="hdlist1"><code>chmod</code></dt>
<dd>
<p>Change mode bits of a file, for example make it executable.</p>
</dd>
<dt class="hdlist1"><code>unset</code></dt>
<dd>
<p>Unset variables and functions.</p>
</dd>
<dt class="hdlist1"><code>su</code></dt>
<dd>
<p>Change user ID or become superuser.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete the table with &#8220;Yes&#8221; or &#8220;No&#8221; considering the capabilities of aliases and functions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Aliases?</th>
<th class="tableblock halign-left valign-top">Functions?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local variables can be used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment variables can be used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be escaped with <code>\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be recursive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very productive when used with positional parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Enter the command that list all aliases in your system:</p>
<div class="listingblock">
<div class="content">
<pre><strong>alias</strong></pre>
</div>
</div>
</li>
<li>
<p>Write an alias named <code>logg</code> that lists all <code>ogg</code> files in <code>~/Music</code>&#8201;&#8212;&#8201;one per line:</p>
<div class="listingblock">
<div class="content">
<pre><strong>alias logg='ls -1 ~/Music/*ogg'</strong></pre>
</div>
</div>
</li>
<li>
<p>Invoke the alias to prove it works:</p>
<div class="listingblock">
<div class="content">
<pre><strong>logg</strong></pre>
</div>
</div>
</li>
<li>
<p>Now, modify the alias so that it echoes out the session&#8217;s user and a colon before the listing:</p>
<div class="listingblock">
<div class="content">
<pre><strong>alias logg='echo $USER:; ls -1 ~/Music/*ogg'</strong></pre>
</div>
</div>
</li>
<li>
<p>Invoke it again to prove this new version also works:</p>
<div class="listingblock">
<div class="content">
<pre><strong>logg</strong></pre>
</div>
</div>
</li>
<li>
<p>List all aliases again and check your <code>logg</code> alias appears in the listing:</p>
<div class="listingblock">
<div class="content">
<pre><strong>alias</strong></pre>
</div>
</div>
</li>
<li>
<p>Remove the alias:</p>
<div class="listingblock">
<div class="content">
<pre><strong>unalias logg</strong></pre>
</div>
</div>
</li>
<li>
<p>Study the columns &#8220;Alias Name&#8221; and &#8220;Aliased Command(s)&#8221; and assign the aliases to their values correctly:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Alias Name</th>
<th class="tableblock halign-left valign-top">Aliased Command(s)</th>
<th class="tableblock halign-left valign-top">Alias Assignment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias b=bash</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bash_info</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>which bash</code> + <code>echo "$BASH_VERSION"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias bash_info='which bash; echo "BASH_VERSION"'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kernel_info</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uname -r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias kernel_info='uname -r'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>greet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo Hi, $USER!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias greet='echo Hi, $USER'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>computer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pc=slimbook</code> + <code>echo My computer is a $pc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alias computer='pc=slimbook; echo My computer is a $pc'</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Single quotes can also be replaced by double ones.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>As <code>root</code>, write a function called <code>my_fun</code> in <code>/etc/bash.bashrc</code>. The function must say hello to the user and tell them what their path is. Invoke it so that the user gets both messages every time they log in:</p>
<div class="paragraph">
<p>Option A:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>my_fun() {
echo Hello, $USER!
echo Your path is: $PATH
}
my_fun</pre>
</div>
</div>
<div class="paragraph">
<p>Option B:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>function my_fun {
echo Hello, $USER!
echo Your path is: $PATH
}
my_fun</pre>
</div>
</div>
</li>
<li>
<p>Login as <code>user2</code> to check it works:</p>
<div class="listingblock">
<div class="content">
<pre><strong>su - user2</strong></pre>
</div>
</div>
</li>
<li>
<p>Write the same function in just one line:</p>
<div class="paragraph">
<p>Option A:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>my_fun() { echo "Hello, $USER!"; echo "Your path is: $PATH"; }</pre>
</div>
</div>
<div class="paragraph">
<p>Option B:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>function my_fun { echo "Hello, $USER!"; echo "Your path is: $PATH"; }</pre>
</div>
</div>
</li>
<li>
<p>Invoke the function:</p>
<div class="listingblock">
<div class="content">
<pre><strong>my_fun</strong></pre>
</div>
</div>
</li>
<li>
<p>Unset the function:</p>
<div class="listingblock">
<div class="content">
<pre><strong>unset -f my_fun</strong></pre>
</div>
</div>
</li>
<li>
<p>This is a modified version of the <code>special_vars</code> function:</p>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars2() {
> echo $#
> echo $_
> echo $1
> echo $4
> echo $6
> echo $7
> echo $_
> echo $@
> echo $?
> }</strong></pre>
</div>
</div>
<div class="paragraph">
<p>This is the command we use to invoke it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>special_vars2 crying cockles and mussels alive alive oh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Guess the outputs:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reference</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $#</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crying</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mussels</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alive</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oh</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oh</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $@</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crying cockles and mussels alive alive oh</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>echo $?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Based on the sample function (<code>check_vids</code>) in section &#8220;A Function within a Function&#8221;, write a function named <code>check_music</code> to include into a <code>bash</code> startup script that accepts positional parameters so that we can modify easily:</p>
<div class="ulist">
<ul>
<li>
<p>the type of file being checked: <code>ogg</code></p>
</li>
<li>
<p>the directory in which files are saved: <code>~/Music</code></p>
</li>
<li>
<p>the type of file being kept: <code>music</code></p>
</li>
<li>
<p>the number of files being saved: <code>7</code></p>
<div class="listingblock">
<div class="content">
<pre>check_music() {
    ls -1 ~/$1/*.$2 &gt; ~/.mkv.log 2&gt;&amp;1
    if [ "$?" = "0" ];then
        echo -e "Remember, you must not keep more than $3 $4 files in your $1 folder.\nThanks."
    else
	 echo -e "You do not have any $4 files in the $1 folder. You can keep up to $3.\nThanks."
    fi
}

check_music Music ogg 7 music</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.1_03-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Read-only functions are those whose contents we cannot modify. Do a research on <em>readonly functions</em> and complete the following table:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Function Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Make it readonly</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>List all readonly Functions</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>my_fun</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readonly -f my_fun</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readonly -f</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Search the web for how to modify <code>PS1</code> and anything else you may need to write a function called <code>fyi</code> (to be placed in a startup script) which gives the user the following information:</p>
<div class="ulist">
<ul>
<li>
<p>name of the user</p>
</li>
<li>
<p>home directory</p>
</li>
<li>
<p>name of the host</p>
</li>
<li>
<p>operating system type</p>
</li>
<li>
<p>search path for executables</p>
</li>
<li>
<p>mail directory</p>
</li>
<li>
<p>how often mail is checked</p>
</li>
<li>
<p>how many shells deep the current session is</p>
</li>
<li>
<p>prompt (you should modify it so that it shows <code>&lt;user&gt;@&lt;host-date&gt;</code>)</p>
<div class="listingblock">
<div class="content">
<pre>fyi() {
    echo -e "For your Information:\n
    Username: $USER
    Home directory: $HOME
    Host: $HOSTNAME
    Operating System: $OSTYPE
    Path for executable files: $PATH
    Your mail directory is $MAIL and is searched every $MAILCHECK seconds.
    The current level of your shell is: $SHLVL"
    PS1="\u@\h-\d "
}

fyi</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">105.2 Customize or write simple scripts (105.2 Lesson 1)</p>

        <div class="button-group">
            <a href="../../105.2/105.2_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
