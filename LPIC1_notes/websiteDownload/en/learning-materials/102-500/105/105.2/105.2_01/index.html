

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>105.2 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="es"
      >Español</option>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">105.2 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../109/109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 105: Shells and Shell Scripting</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">105.2 Customize or write simple scripts</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">105.2 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>105.2 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">105 Shells and Shell Scripting</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">105.2 Customize or write simple scripts</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Linux shell environment allows the use of files&#8201;&#8212;&#8201;called <em>scripts</em>&#8201;&#8212;&#8201;containing commands from any available program in the system combined with shell builtin commands to automate a user&#8217;s and/or a system&#8217;s custom tasks. Indeed, many of the operating system maintenance tasks are performed by scripts consisting of sequences of commands, decision structures and conditional loops. Although scripts are most of the time intended for tasks related to the operating system itself, they are also useful for user oriented tasks, like mass renaming of files, data collecting and parsing, or any otherwise repetitive command line activities.</p>
</div>
<div class="paragraph">
<p>Scripts are nothing more than text files that behave like programs.  An actual program&#8201;&#8212;&#8201;the interpreter&#8201;&#8212;&#8201;reads and executes the instructions listed in the script file. The interpreter can also start an interactive session where commands&#8201;&#8212;&#8201;including scripts&#8201;&#8212;&#8201;are read and executed as they are entered, as is the case with Linux shell sessions. Script files can group those instructions and commands when they grow too complex to be implemented as an alias or a custom shell function. Furthermore, script files can be maintained like conventional programs and, being just text files, they can be created and modified with any simple text editor.</p>
</div>
<div class="sect2">
<h3 id="sec.105.2_01-SSE">Script Structure and Execution</h3>
<div class="paragraph">
<p>Basically, a script file is an ordered sequence of commands that must be executed by a corresponding command interpreter. How an interpreter reads a script file varies and there are distinct ways of doing so in a Bash shell session, but the default interpreter for a script file will be the one indicated in the first line of the script, just after the characters <code>#!</code> (known as <em>shebang</em>). In a script with instructions for the Bash shell, the first line should be <code>#!/bin/bash</code>. By indicating this line, the interpreter for all the instructions in the file will be <code>/bin/bash</code>. Except for the first line, all other lines starting with the hash character <code>#</code> will be ignored, so they can be used to place reminders and comments. Blank lines are also ignored. A very concise shell script file can therefore be written as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash

# A very simple script

echo "Cheers from the script file! Current time is: "

date +%H:%M</pre>
</div>
</div>
<div class="paragraph">
<p>This script has only two instructions for the <code>/bin/bash</code> interpreter: the builtin command <code>echo</code> and the command <code>date</code>. The most basic way to run a script file is to execute the interpreter with the script path as the argument. So, assuming the previous example was saved in a script file named <code>script.sh</code> in the current directory, it will be read and interpreted by Bash with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>bash script.sh</strong>
Cheers from the script file! Current time is:
10:57</pre>
</div>
</div>
<div class="paragraph">
<p>Command <code>echo</code> will automatically add a new line after displaying the content, but the option <code>-n</code> will suppress this behaviour. Thus, using <code>echo -n</code> in the script will make the output of both commands to appear in the same line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>bash script.sh</strong>
Cheers from the script file! Current time is: 10:57</pre>
</div>
</div>
<div class="paragraph">
<p>Although not required, the suffix <code>.sh</code> helps to identify shell scripts when listing and searching for files.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Bash will call whatever command is indicated after the <code>#!</code> as the interpreter for the script file. It may be useful, for example, to employ the shebang for other scripting languages, like <em>Python</em> (<code>#!/usr/bin/python</code>), <em>Perl</em> (<code>#!/usr/bin/perl</code>) or <em>awk</em> (<code>#!/usr/bin/awk</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the script file is intended to be executed by other users in the system, it is important to check if the proper reading permissions are set. The command <code>chmod o+r script.sh</code> will give reading permission to all users in the system, allowing them to execute <code>script.sh</code> by placing the path to the script file as the argument of command <code>bash</code>. Alternatively, the script file may have the execution bit permission set so the file can be executed as a conventional command. The execution bit is activated on the script file with the command <code>chmod</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>chmod +x script.sh</strong></pre>
</div>
</div>
<div class="paragraph">
<p>With the execution bit enabled, the script file named <code>script.sh</code> in the current directory can be executed directly with the command <code>./script.sh</code>. Scripts placed in a directory listed in the <code>PATH</code> environment variable will also be accessible without their complete path.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>A script performing restricted actions may have its SUID permission activated, so ordinary users can also run the script with root privileges. In this case, it is very important to ensure that no user other than root has the permission to write in the file. Otherwise, an ordinary user could modify the file to perform arbitrary and potentially harmful operations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The placement and indentation of commands in script files are not too rigid. Every line in a shell script will be executed as an ordinary shell command, in the same sequence as the line appears in the script file, and the same rules that apply to the shell prompt also apply to each script line individually. It is possible to place two or more commands in the same line, separated by semicolons:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo "Cheers from the script file! Current time is:" ; date +%H:%M</pre>
</div>
</div>
<div class="paragraph">
<p>Although this format might be convenient at times, its usage is optional, as sequential commands can be placed one command per line and they will be executed just as they were separated by semicolons. In other words, the semicolon can be replaced by a new line character in Bash script files.</p>
</div>
<div class="paragraph">
<p>When a script is executed, the commands contained therein are not executed directly in the current session, but instead they are executed by a new Bash process, called a <em>sub-shell</em>. It prevents the script from overwriting the current session&#8217;s environment variables and from leaving unattended modifications in the current session. If the goal is to run the script&#8217;s contents in the current shell session, then it should be executed with <code>source script.sh</code> or <code>. script.sh</code> (note that there is a space between the dot and the script name).</p>
</div>
<div class="paragraph">
<p>As it happens with the execution of any other command, the shell prompt will only be available again when the script ends its execution and its exit status code will be available in the <code>$?</code> variable. To change this behaviour, so the current shell also ends when the script ends, the script&#8201;&#8212;&#8201;or any other command&#8201;&#8212;&#8201;can be preceded by the <code>exec</code> command. This command will also replace the exit status code of the current shell session with its own.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec.105.2_01-VAR">Variables</h3>
<div class="paragraph">
<p>Variables in shell scripts behave in the same way as in interactive sessions, given that the interpreter is the same. For example, the format <code>SOLUTION=42</code> (without spaces around the equal sign) will assign the value <code>42</code> to the variable named <code>SOLUTION</code>. By convention, uppercase letters are used for variable names, but it&#8217;s not mandatory. Variable names can not, however, start with non alphabetical characters.</p>
</div>
<div class="paragraph">
<p>In addition to the ordinary variables created by the user, Bash scripts also have a set of special variables called <em>parameters</em>. Unlike ordinary variables, parameter names start with a non-alphabetical character that designates its function. Arguments passed to a script and other useful information are stored in parameters like <code>$0</code>, <code>$*</code>, <code>$?</code>, etc, where the character following the dollar sign indicates the information to be fetched:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>$*</code></dt>
<dd>
<p>All the arguments passed to the script.</p>
</dd>
<dt class="hdlist1"><code>$@</code></dt>
<dd>
<p>All the arguments passed to the script. If used with double quotes, as in <code>"$@"</code>, every argument will be enclosed by double quotes.</p>
</dd>
<dt class="hdlist1"><code>$#</code></dt>
<dd>
<p>The number of arguments.</p>
</dd>
<dt class="hdlist1"><code>$0</code></dt>
<dd>
<p>The name of the script file.</p>
</dd>
<dt class="hdlist1"><code>$!</code></dt>
<dd>
<p>PID of the last executed program.</p>
</dd>
<dt class="hdlist1"><code>$$</code></dt>
<dd>
<p>PID of the current shell.</p>
</dd>
<dt class="hdlist1"><code>$?</code></dt>
<dd>
<p>Numerical exit status code of the last finished command. For POSIX standard processes, a numerical value of <code>0</code> means that the last command was successfully executed, which also applies to shell scripts.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A <em>positional parameter</em> is a parameter denoted by one or more digits, other than the single digit <code>0</code>. For example, the variable <code>$1</code> corresponds to the first argument given to the script (positional parameter one), <code>$2</code> corresponds to the second argument, and so on. If the position of a parameter is greater than nine, it must be referenced with curly braces, as in <code>${10}</code>, <code>${11}</code>, etc.</p>
</div>
<div class="paragraph">
<p>Ordinary variables, on the other hand,  are intended to store manually inserted values or the output generated by other commands. Command <code>read</code>, for example, can be used inside the script to ask the user for input during script execution:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo "Do you want to continue (y/n)?"
read ANSWER</pre>
</div>
</div>
<div class="paragraph">
<p>The returned value will be stored in the <code>ANSWER</code> variable. If the name of the variable is not supplied, the variable name <code>REPLY</code> will be used by default. It is also possible to use command <code>read</code> to read more than one variable simultaneously:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo "Type your first name and last name:"
read NAME SURNAME</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, each space separated term will be assigned to the variables <code>NAME</code> and <code>SURNAME</code> respectively. If the number of given terms is greater than the number of variables, the exceeding terms will be stored in the last variable. <code>read</code> itself can display the message to the user with option <code>-p</code>, making the <code>echo</code> command redundant in this case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>read -p "Type your first name and last name:" NAME SURNAME</pre>
</div>
</div>
<div class="paragraph">
<p>Scripts performing system tasks will often require information provided by other programs. The <em>backtick notation</em> can be used to store the output of a command in a variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>OS=`uname -o`</strong></pre>
</div>
</div>
<div class="paragraph">
<p>In the example, the output of command <code>uname -o</code> will be stored in the <code>OS</code> variable. An identical result will be produced with <code>$()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>OS=$(uname -o)</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The length of a variable, that is, the quantity of characters it contains, is returned by prepending a hash <code>#</code> before the name of the variable. This feature, however, requires the use of the curly braces syntax to indicate the variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>OS=$(uname -o)</strong>
$ <strong>echo $OS</strong>
GNU/Linux
$ <strong>echo ${#OS}</strong>
9</pre>
</div>
</div>
<div class="paragraph">
<p>Bash also features one-dimensional array variables, so a set of related elements can be stored with a single variable name. Every element in an array has a numerical index, which must be used to write and read values in the corresponding element. Different from ordinary variables, arrays must be declared with the Bash builtin command <code>declare</code>. For example, to declare a variable named <code>SIZES</code> as an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>declare -a SIZES</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Arrays can also be implicitly declared when populated from a predefined list of items, using the parenthesis notation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>SIZES=( 1048576 1073741824 )</strong></pre>
</div>
</div>
<div class="paragraph">
<p>In the example, the two large integer values were stored in the <code>SIZES</code> array. Array elements must be referenced using curly braces and square brackets, otherwise Bash will not change or display the element correctly. As array indexes start at 0, the content of the first element is in <code>${SIZES[0]}</code>, the second element is in <code>${SIZES[1]}</code>, and so on:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>echo ${SIZES[0]}</strong>
1048576
$ <strong>echo ${SIZES[1]}</strong>
1073741824</pre>
</div>
</div>
<div class="paragraph">
<p>Unlike reading, changing an array element&#8217;s content is performed without the curly braces (e.g., <code>SIZES[0]=1048576</code>). As with ordinary variables, the length of an element in an array is returned with the hash character (e.g., <code>${#SIZES[0]}</code> for the length of the first element in <code>SIZES</code> array). The total number of elements in an array is returned if <code>@</code> or <code>*</code> are used as the index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>echo ${#SIZES[@]}</strong>
2
$ <strong>echo ${#SIZES[*]}</strong>
2</pre>
</div>
</div>
<div class="paragraph">
<p>Arrays can also be declared using the output of a command as the initial elements through command substitution. The following example shows how to create a Bash array whose elements are the current system&#8217;s supported filesystems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>FS=( $(cut -f 2 &lt; /proc/filesystems) )</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The command <code>cut -f 2 &lt; /proc/filesystems</code> will display all the filesystems currently supported by the running kernel (as listed in the second column of the file <code>/proc/filesystems</code>), so the array <code>FS</code> now contains one element for each supported filesystem. Any text content can be used to initialize an array as, by default, any terms delimited by <em>space</em>, <em>tab</em> or <em>newline</em> characters will become an array element.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Bash treats each character of an environment variable&#8217;s <code>$IFS</code> (<em>Input Field Separator</em>) as a delimiter. To change the field delimiter to newline characters only, for example, the IFS variable should be reset with command <code>IFS=$'\n'</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sec.105.2_01-AE">Arithmetic Expressions</h3>
<div class="paragraph">
<p>Bash provides a practical method to perform integer arithmetic operations with the builtin command <code>expr</code>. Two numerical variables, <code>$VAL1</code> and <code>$VAL2</code> for example, can be added together with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>SUM=`expr $VAL1 + $VAL2`</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting value of the example will be available in the <code>$SUM</code> variable. Command <code>expr</code> can be replaced by <code>$(())</code>, so the previous example can be rewritten as <code>SUM=$(( $VAL1 + $VAL2 ))</code>. Power expressions are also allowed with the double asterisks operator, so the previous array declaration <code>SIZES=( 1048576 1073741824)</code> could be rewritten as <code>SIZES=( $((1024**2)) $((1024**3)) )</code>.</p>
</div>
<div class="paragraph">
<p>Command substitution can also be used in arithmetic expressions. For example, the file <code>/proc/meminfo</code> has detailed information about the system memory, including the number of free bytes in RAM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>FREE=$(( 1000 * `sed -nre '2s/[^[:digit:]]//gp' &lt; /proc/meminfo` ))</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The example shows how the command <code>sed</code> can be used to parse the contents of <code>/proc/meminfo</code> inside the arithmetic expression. The second line of the <code>/proc/meminfo</code> file contains the amount of free memory in thousands of bytes, so the arithmetic expression multiplies it by 1000 to obtain the number of free bytes in RAM.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec.105.2_01-CE">Conditional Execution</h3>
<div class="paragraph">
<p>Some scripts usually are not intended to execute all the commands in the script file, but just those commands that match a predefined criteria. For example, a maintenance script may send a warning message to the administrator&#8217;s email only if the execution of a command fails. Bash provides specific methods of assessing the success of command execution and general conditional structures, more similar to those found in popular programming languages.</p>
</div>
<div class="paragraph">
<p>By separating commands with <code>&amp;&amp;</code>, the command to the right will be executed only if the command to the left did not encounter an error, that is, if its exit status was equal to <code>0</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>COMMAND A && COMMAND B && COMMAND C</pre>
</div>
</div>
<div class="paragraph">
<p>The opposite behaviour occurs if commands are separated with <code>||</code>. In this case, the following command will be executed only if the previous command did encounter an error, that is, if its returning status code differs from 0.</p>
</div>
<div class="paragraph">
<p>One of the most important features of all programming languages is the ability to execute commands depending on previously defined conditions. The most straightforward way to conditionally execute commands is to use the Bash builtin command <code>if</code>, which executes one or more commands only if the command given as argument returns a 0 (success) status code. Another command, <code>test</code>, can be used to assess many different special criteria, so it is mostly used in conjunction with <code>if</code>. In the following example, the message <code>Confirmed: /bin/bash is executable.</code> will be displayed if the file <code>/bin/bash</code> exists and it is executable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if test -x /bin/bash ; then
  echo "Confirmed: /bin/bash is executable."
fi</pre>
</div>
</div>
<div class="paragraph">
<p>Option <code>-x</code> makes command <code>test</code> return a status code 0 only if the given path is an executable file. The following example shows another way to achieve the exact same result, as the square brackets can be used as a replacement for <code>test</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if [ -x /bin/bash ] ; then
  echo "Confirmed: /bin/bash is executable."
fi</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>else</code> instruction is optional to the <code>if</code> structure and can, if present, define a command or sequence of commands to execute if the conditional expression is not true:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if [ -x /bin/bash ] ; then
  echo "Confirmed: /bin/bash is executable."
else
  echo "No, /bin/bash is not executable."
fi</pre>
</div>
</div>
<div class="paragraph">
<p><code>if</code> structures must always end with <code>fi</code>, so the Bash interpreter knows were the conditional commands end.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec.105.2_01-SO">Script Output</h3>
<div class="paragraph">
<p>Even when the purpose of a script only involves file-oriented operations, it is important to display progress related messages in the standard output, so the user is kept informed of any issues and can eventually use those messages to generate operation logs.</p>
</div>
<div class="paragraph">
<p>The Bash builtin command <code>echo</code> is commonly used to display simple strings of text, but it also provides some extended features. With option <code>-e</code>, command <code>echo</code> is able to display special characters using escaped sequences (a backslash sequence designating a special character). For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash

# Get the operating system's generic name
OS=$(uname -o)

# Get the amount of free memory in bytes
FREE=$(( 1000 * `sed -nre '2s/[^[:digit:]]//gp' &lt; /proc/meminfo` ))

echo -e "Operating system:\t$OS"
echo -e "Unallocated RAM:\t$(( $FREE / 1024**2 )) MB"</pre>
</div>
</div>
<div class="paragraph">
<p>Whilst the use of quotes is optional when using <code>echo</code> with no options, it is necessary to add them when using option <code>-e</code>, otherwise the special characters may not render correctly. In the previous script, both <code>echo</code> commands use the tabulation character <code>\t</code> to align the text, resulting in the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Operating system:       GNU/Linux
Unallocated RAM:        1491 MB</pre>
</div>
</div>
<div class="paragraph">
<p>The newline character <code>\n</code> can be used to separate the output lines, so the exact same output is obtained by combining the two <code>echo</code> commands into only one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo -e "Operating system:\t$OS\nUnallocated RAM:\t$(( $FREE / 1024**2 )) MB"</pre>
</div>
</div>
<div class="paragraph">
<p>Although fit to display most text messages, command <code>echo</code> may not be well suited to display more specific text patterns. Bash builtin command <code>printf</code> gives more control over how to display the variables. Command <code>printf</code> uses the first argument as the format of the output, where placeholders will be replaced by the following arguments in the order they appear in the command line. For example, the message of the previous example could be generated with the following <code>printf</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>printf "Operating system:\t%s\nUnallocated RAM:\t%d MB\n" $OS $(( $FREE / 1024**2 ))</pre>
</div>
</div>
<div class="paragraph">
<p>The placeholder <code>%s</code> is intended for text content (it will be replaced by the <code>$OS</code> variable) and the <code>%d</code> placeholder is intended to integer numbers (it will be replaced by the resulting number of free megabytes in RAM). <code>printf</code> does not append a newline character at the end of the text, so the newline character <code>\n</code> should be placed at the end of the pattern if needed. The entire pattern should be interpreted as a single argument, so it must be enclosed in quotes.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>The format of placeholder substitution performed by <code>printf</code> can be customized using the same format used by the <code>printf</code> function from the C programming language. The full reference for the <code>printf</code> function can be found in its manual page, accessed with the command <code>man 3 printf</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With <code>printf</code>, the variables are placed outside the text pattern, which makes it possible to store the text pattern in a separate variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MSG='Operating system:\t%s\nUnallocated RAM:\t%d MB\n'
printf "$MSG" $OS $(( $FREE / 1024**2 ))</pre>
</div>
</div>
<div class="paragraph">
<p>This method is particularly useful to display distinct output formats, depending on the user&#8217;s requirements. It makes it easier, for example, to write a script that uses a distinct text pattern if the user requires a CSV (<em>Comma Separated Values</em>) list rather than a default output message.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>-s</code> option for the <code>read</code> command is useful for entering passwords, as it will not show the content being typed on the screen.  How could the <code>read</code> command be used to store the user&#8217;s input in the variable <code>PASSWORD</code> while hiding the typed content?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>The only purpose of the command <code>whoami</code> is to display the username of the user who called it, so it is mostly used inside scripts to identify the user who is running it. Inside a Bash script, how could the output of the <code>whoami</code> command be stored in the variable named <code>WHO</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What Bash operator should be between the commands <code>apt-get dist-upgrade</code> and <code>systemctl reboot</code> if the root user wants to execute <code>systemctl reboot</code> only if <code>apt-get dist-upgrade</code> finished successfully?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After trying to run a newly created Bash script, a user receives the following error message:</p>
<div class="listingblock">
<div class="content">
<pre>bash: ./script.sh: Permission denied</pre>
</div>
</div>
<div class="paragraph">
<p>Considering that the file <code>./script.sh</code> was created by the same user, what would be the probable cause of this error?</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Suppose a script file named <code>do.sh</code> is executable and the symbolic link named <code>undo.sh</code> points to it. From within the script, how could you identify if the calling filename was <code>do.sh</code> or <code>undo.sh</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>In a system with a properly configured email service, the command <code>mail -s "Maintenance Error" root &lt;&lt;&lt;"Scheduled task error"</code> sends the notice email message to the root user. Such a command could be used in unattended tasks, like <em>cronjobs</em>, to inform the system administrator about an unexpected issue. Write an <em>if</em> construct that will execute the aforementioned <code>mail</code> command if the exit status of the previous command&#8201;&#8212;&#8201;whatever it was&#8201;&#8212;&#8201;is unsuccessful.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lesson covers the basic concepts for understanding and writing Bash shell scripts. Shell scripts are a core part of any Linux distribution as they offer a very flexible way to automate user and system tasks performed in the shell environment. The lesson goes through the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Shell script structure and correct script file permissions</p>
</li>
<li>
<p>Script parameters</p>
</li>
<li>
<p>Using variables to read user input and to store the output of commands</p>
</li>
<li>
<p>Bash arrays</p>
</li>
<li>
<p>Simple tests and conditional execution</p>
</li>
<li>
<p>Output formatting</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The commands and procedures addressed were:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bash builtin notation for command substitution, array expansion and arithmetic expressions</p>
</li>
<li>
<p>Conditional command execution with the <code>||</code> and <code>&amp;&amp;</code> operators</p>
</li>
<li>
<p><code>echo</code></p>
</li>
<li>
<p><code>chmod</code></p>
</li>
<li>
<p><code>exec</code></p>
</li>
<li>
<p><code>read</code></p>
</li>
<li>
<p><code>declare</code></p>
</li>
<li>
<p><code>test</code></p>
</li>
<li>
<p><code>if</code></p>
</li>
<li>
<p><code>printf</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>-s</code> option for the <code>read</code> command is useful for entering passwords, as it will not show the content being typed on the screen.  How could the <code>read</code> command be used to store the user&#8217;s input in the variable <code>PASSWORD</code> while hiding the typed content?</p>
<div class="paragraph">
<p><code>read -s PASSWORD</code></p>
</div>
</li>
<li>
<p>The only purpose of the command <code>whoami</code> is to display the username of the user who called it, so it is mostly used inside scripts to identify the user who is running it. Inside a Bash script, how could the output of the <code>whoami</code> command be stored in the variable named <code>WHO</code>?</p>
<div class="paragraph">
<p><code>WHO=`whoami`</code> or <code>WHO=$(whoami)</code></p>
</div>
</li>
<li>
<p>What Bash operator should be between the commands <code>apt-get dist-upgrade</code> and <code>systemctl reboot</code> if the root user wants to execute <code>systemctl reboot</code> only if <code>apt-get dist-upgrade</code> finished successfully?</p>
<div class="paragraph">
<p>The operator <code>&amp;&amp;</code>, as in <code>apt-get dist-upgrade &amp;&amp; systemctl reboot</code>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.105.2_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After trying to run a newly created Bash script, a user receives the following error message:</p>
<div class="listingblock">
<div class="content">
<pre>bash: ./script.sh: Permission denied</pre>
</div>
</div>
<div class="paragraph">
<p>Considering that the file <code>./script.sh</code> was created by the same user, what would be the probable cause of this error?</p>
</div>
<div class="paragraph">
<p>The <code>./script.sh</code> file does not have the execution permission enabled.</p>
</div>
</li>
<li>
<p>Suppose a script file named <code>do.sh</code> is executable and the symbolic link named <code>undo.sh</code> points to it. From within the script, how could you identify if the calling filename was <code>do.sh</code> or <code>undo.sh</code>?</p>
<div class="paragraph">
<p>The special variable <code>$0</code> contains the filename used to call the script.</p>
</div>
</li>
<li>
<p>In a system with a properly configured email service, the command <code>mail -s "Maintenance Error" root &lt;&lt;&lt;"Scheduled task error"</code> sends the notice email message to the root user. Such a command could be used in unattended tasks, like <em>cronjobs</em>, to inform the system administrator about an unexpected issue. Write an <em>if</em> construct that will execute the aforementioned <code>mail</code> command if the exit status of the previous command&#8201;&#8212;&#8201;whatever it was&#8201;&#8212;&#8201;is unsuccessful.</p>
<div class="paragraph">
<p><code>if [ "$?" -ne 0 ]; then mail -s "Maintenance Error" root &lt;&lt;&lt;"Scheduled task error"; fi</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">105.2 Customize or write simple scripts (105.2 Lesson 2)</p>

        <div class="button-group">
            <a href="../105.2_02/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
