

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>109.3 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >PortuguÃªs</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">109.3 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../105/105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../105/105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 109: Networking Fundamentals</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">109.3 Basic network troubleshooting</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">109.3 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>109.3 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">109 Networking Fundamentals</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">109.3 Basic network troubleshooting</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Linux has very flexible and powerful network capabilities. In fact, Linux based operating systems are often used on common network devices, including expensive commercial equipment. Linux networking could be a certification in itself. With this mind, this lesson is only going to cover a few basic configuration and troubleshooting tools.</p>
</div>
<div class="paragraph">
<p>Be sure to review the lessons on internet protocols and persistent network configuration prior to this lesson.  Within this lesson, we will be covering tools to configure and troubleshoot IPv4 and IPv6 networking.</p>
</div>
<div class="paragraph">
<p>While not an official objective, <em>packet sniffers</em> such as <code>tcpdump</code> are useful troubleshooting tools. Packet sniffers allow you to view and record packets coming into or out of a network interface. Tools such as <em>hex viewers</em> and <em>protocol analyzers</em> can be used to view these packets in more detail than a packet sniffer will typically allow. It wouldn&#8217;t hurt to at least be aware of such programs.</p>
</div>
<div class="sect2">
<h3 id="_about_the_ip_command">About the <code>ip</code> Command</h3>
<div class="paragraph">
<p>The <code>ip</code> command is a fairly recent utility used to view and configure just about anything relating to network configurations. This lesson covers some of the most used subcommands of <code>ip</code>, but it barely scratches the surface of what is available. Learning to read the documentation will help you be much more efficient with it.</p>
</div>
<div class="paragraph">
<p>Each subcommand of <code>ip</code> has its own man page. The <code>SEE ALSO</code> section of the <code>ip</code> man page has a list of them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>man ip</strong>
...
SEE ALSO
       ip-address(8), ip-addrlabel(8), ip-l2tp(8), ip-link(8), ip-maddress(8),
       ip-monitor(8), ip-mroute(8), ip-neighbour(8), ip-netns(8), ip-
       ntable(8), ip-route(8), ip-rule(8), ip-tcp_metrics(8), ip-token(8), ip-
       tunnel(8), ip-xfrm(8)
       IP Command reference ip-cref.ps
...</pre>
</div>
</div>
<div class="paragraph">
<p>Instead of looking at this every time you need the man page, simply add <code>-</code> and the name of the subcommand to <code>ip</code>, e.g. <code>man ip-route</code>.</p>
</div>
<div class="paragraph">
<p>Another source of information is the help function. To view the built-in help, add <code>help</code> after the subcommand:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ip address help</strong>
Usage: ip address {add|change|replace} IFADDR dev IFNAME [ LIFETIME ]
                                                      [ CONFFLAG-LIST ]
       ip address del IFADDR dev IFNAME [mngtmpaddr]
       ip address {save|flush} [ dev IFNAME ] [ scope SCOPE-ID ]
                            [ to PREFIX ] [ FLAG-LIST ] [ label LABEL ] [up]
       ip address [ show [ dev IFNAME ] [ scope SCOPE-ID ] [ master DEVICE ]
                         [ type TYPE ] [ to PREFIX ] [ FLAG-LIST ]
                         [ label LABEL ] [up] [ vrf NAME ] ]
       ip address {showdump|restore}
IFADDR := PREFIX | ADDR peer PREFIX
...</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_netmask_and_routing_review">Netmask and Routing  Review</h3>
<div class="paragraph">
<p>IPv4 and IPv6 are what are known as routed or routable protocols. This means they are designed in a way that make it possible for network designers to control traffic flow. Ethernet is not a routable protocol. This means that if you were to connect a bunch of devices together using nothing but Ethernet, there is very little you can do to control the flow of network traffic. Any measures to control traffic would end up similar to current routable and routing protocols.</p>
</div>
<div class="paragraph">
<p>Routable protocols allow network designers to segment networks to reduce the processing requirements of connectivity devices, provide redundancy, and manage traffic.</p>
</div>
<div class="paragraph">
<p>IPv4 and IPv6 addresses have two sections. The first set of bits make up the network section while the second set make up the host portion. The number of bits that make up the network portion are determined by the <em>netmask</em> (also called <em>subnet mask</em>). Sometimes it will also be referred to as the <em>prefix length</em>. Regardless of what it is called, it is the number of bits that the machine treats as the network portion of the address. With IPv4, sometimes this is specified in dotted decimal notation.</p>
</div>
<div class="paragraph">
<p>Below is an example using IPv4. Notice how the binary digits maintain their place value in the octets even when it is divided by the netmask.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>192.168.130.5/20

          192      168      130      5
          11000000 10101000 10000010 00000101

20 bits = 11111111 11111111 11110000 00000000

Network = 192.168.128.0
Host    = 2.5</pre>
</div>
</div>
<div class="paragraph">
<p>The network portion of an address is used by an IPv4 or IPv6 machines to lookup which interface a packet should be sent out on in its routing table. When an IPv4 or IPv6 host with routing enabled receives a packet that is not for the host itself, it attempts to match the network portion of the destination to a network in the routing table. If a matching entry is found, it sends the packet to the destination specified in the routing table. If no entries are found and a default route is configured, it is sent to the default route. If no entry is found and no default route are configured, the packet is discarded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_an_interface">Configuring an Interface</h3>
<div class="paragraph">
<p>There are two tools we will be covering that you can use to configure a network interface: <code>ifconfig</code> and <code>ip</code>. The <code>ifconfig</code> program, while still widely used, is considered a legacy tool and may not be available on newer systems.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>On newer Linux distributions, installation of the <code>net-tools</code> package will provide you with the legacy networking commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before configuring an interface, you must first know what interfaces are available. There are a few ways to do this. One way is to use the <code>-a</code> option of <code>ifconfig</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ifconfig -a</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Another way is with <code>ip</code>. Sometimes you will see examples with <code>ip addr</code>, <code>ip a</code>, and some with <code>ip address</code>. They are synonymous. Officially, the subcommand is <code>ip address</code>. This means that if you wish to view the man page, you must use <code>man ip-address</code> and not <code>man ip-addr</code>.</p>
</div>
<div class="paragraph">
<p>The <code>link</code> subcommand for <code>ip</code> will list the interface links available for configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ip link</strong>
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:54:18:57 brd ff:ff:ff:ff:ff:ff
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:ab:11:3e brd ff:ff:ff:ff:ff:ff</pre>
</div>
</div>
<div class="paragraph">
<p>Assuming the <code>sys</code> filesystem is mounted, you can also list the contents of <code>/sys/class/net</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ls /sys/class/net</strong>
enp0s3  enp0s8  lo</pre>
</div>
</div>
<div class="paragraph">
<p>To configure an interface with <code>ifconfig</code>, you must be logged in as root or use a utility such as <code>sudo</code> to run the command with root privilege. Follow the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ifconfig enp1s0 192.168.50.50/24</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The Linux version of <code>ifconfig</code> is flexible with how you specify the subnet mask:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ifconfig eth2 192.168.50.50 netmask 255.255.255.0</strong>
# <strong>ifconfig eth2 192.168.50.50 netmask 0xffffff00</strong>
# <strong>ifconfig enp0s8 add 2001:db8::10/64</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Notice how with IPv6 the keyword <code>add</code> was used. If you don&#8217;t precede an IPv6 address with <code>add</code>, you will get an error message.</p>
</div>
<div class="paragraph">
<p>The following command configures an interface with <code>ip</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip addr add 192.168.5.5/24 dev enp0s8</strong>
# <strong>ip addr add 2001:db8::10/64 dev enp0s8</strong></pre>
</div>
</div>
<div class="paragraph">
<p>With <code>ip</code>, the same command is used for both IPv4 and IPv6.</p>
</div>
<div class="sect3">
<h4 id="_configuring_low_level_options">Configuring Low Level Options</h4>
<div class="paragraph">
<p>The <code>ip link</code> command is used to configure low level interface or protocol settings such as VLANs, ARP, or MTUs, or disabling an interface.</p>
</div>
<div class="paragraph">
<p>A common task for <code>ip link</code> is to disable or enable an interface. This can be done with <code>ifconfig</code> as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip link set dev enp0s8 down</strong>
# <strong>ip link show dev enp0s8</strong>
3: enp0s8: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast state <strong>DOWN</strong> mode DEFAULT group default qlen 1000
    link/ether 08:00:27:ab:11:3e brd ff:ff:ff:ff:ff:ff
# <strong>ifconfig enp0s8 up</strong>
# <strong>ip link show dev enp0s8</strong>
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state <strong>UP</strong> mode DEFAULT group default qlen 1000
    link/ether 08:00:27:ab:11:3e brd ff:ff:ff:ff:ff:ff</pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes you may need to adjust an interface&#8217;s MTU. As with enabling/disabling interfaces, this can be done with either <code>ifconfig</code> of <code>ip link</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip link set enp0s8 mtu 2000</strong>
# ip link show dev enp0s3
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <strong>2000</strong> qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:54:53:59 brd ff:ff:ff:ff:ff:ff
# <strong>ifconfig enp0s3 mtu 1500</strong>
# <strong>ip link show dev enp0s3</strong>
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <strong>1500</strong> qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:54:53:59 brd ff:ff:ff:ff:ff:ff</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_routing_table">The Routing Table</h3>
<div class="paragraph">
<p>The commands <code>route</code>, <code>netstat -r</code>, and <code>ip route</code> can all be used to view your routing table. If you wish to modify your routes, you need to use <code>route</code> or <code>ip route</code>. Below are examples of viewing a routing table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>netstat -r</strong>
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         10.0.2.2        0.0.0.0         UG        0 0          0 enp0s3
10.0.2.0        0.0.0.0         255.255.255.0   U         0 0          0 enp0s3
192.168.150.0   0.0.0.0         255.255.255.0   U         0 0          0 enp0s8
$ <strong>ip route</strong>
default via 10.0.2.2 dev enp0s3 proto dhcp metric 100
10.0.2.0/24 dev enp0s3 proto kernel scope link src 10.0.2.15 metric 100
192.168.150.0/24 dev enp0s8 proto kernel scope link src 192.168.150.200
$ <strong>route</strong>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         10.0.2.2        0.0.0.0         UG    100    0        0 enp0s3
10.0.2.0        0.0.0.0         255.255.255.0   U     100    0        0 enp0s3
192.168.150.0   0.0.0.0         255.255.255.0   U     0      0        0 enp0s8</pre>
</div>
</div>
<div class="paragraph">
<p>Notice how there is no output regarding IPv6. If you wish to view your routing table for IPv6, you must use <code>route -6</code>, <code>netstat -6r</code>, and <code>ip -6 route</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>route -6</strong>
Kernel IPv6 routing table
Destination                    Next Hop                   Flag Met Ref Use If
2001:db8::/64                  [::]                       U    256 0      0 enp0s8
fe80::/64                      [::]                       U    100 0      0 enp0s3
2002:a00::/24                  [::]                       !n   1024 0      0 lo
[::]/0                         2001:db8::1                UG   1   0      0 enp0s8
localhost/128                  [::]                       Un   0   2     84 lo
2001:db8::10/128               [::]                       Un   0   1      0 lo
fe80::a00:27ff:fe54:5359/128   [::]                       Un   0   1      0 lo
ff00::/8                       [::]                       U    256 1      3 enp0s3
ff00::/8                       [::]                       U    256 1      6 enp0s8</pre>
</div>
</div>
<div class="paragraph">
<p>An example of <code>netstat -r6</code> has been omitted because its output is identical to <code>route -6</code>. Some of the output of the above <code>route</code> command is self explanatory. The <code>Flag</code> column provides some information about the route. The <code>U</code> flag indicates that a route is up. A <code>!</code> means reject route i.e. a route with a <code>!</code> won&#8217;t be used. The <code>n</code> flag means the route hasn&#8217;t been cached. The kernel maintains a cache of routes for faster lookups separately from all known routes. The <code>G</code> flag indicates a gateway. The <code>Metric</code> or <code>Met</code> column isn&#8217;t used by the kernel. It refers to the administrative distance to the target. This administrative distance is used by routing protocols to determine dynamic routes. The <code>Ref</code> column is the reference count, or number of uses of a route. Like <code>Metric</code>, it is not used by the Linux kernel. The <code>Use</code> column shows the number of lookups for a route.</p>
</div>
<div class="paragraph">
<p>In the output of <code>netstat -r</code>, <code>MSS</code> indicates the maximum segment size for TCP connections over that route. The <code>Window</code> column shows you the defualt TCP window size. The <code>irtt</code> shows the round trip time for packets on this route.</p>
</div>
<div class="paragraph">
<p>The output of <code>ip route</code> and <code>ip -6 route</code> reads as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Destination.</p>
</li>
<li>
<p>Optional address followed by interface.</p>
</li>
<li>
<p>The routing protocol used to add the route.</p>
</li>
<li>
<p>The scope of the route. If this is omitted, it is global scope, or a gateway.</p>
</li>
<li>
<p>The route&#8217;s metric. This is used by dynamic routing protocols to determine the cost of the route. This isn&#8217;t used by most systems.</p>
</li>
<li>
<p>If it is an IPv6 route, the RFC4191 route preference.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Working through a few examples should clarify this:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">IPv4 Example</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>default via 10.0.2.2 dev enp0s3 proto dhcp metric 100</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The destination is the default route.</p>
</li>
<li>
<p>The gateway address is <code>10.0.2.2</code> reachable through interface <code>enp0s3</code>.</p>
</li>
<li>
<p>It was added to the routing table by DHCP.</p>
</li>
<li>
<p>The scope was omitted, so it is global.</p>
</li>
<li>
<p>The route has a cost value of <code>100</code>.</p>
</li>
<li>
<p>No IPv6 route preference.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">IPv6 Example</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>fc0::/64 dev enp0s8 proto kernel metric 256 pref medium</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The destination is <code>fc0::/64</code>.</p>
</li>
<li>
<p>It is reachable through interface <code>enp0s8</code>.</p>
</li>
<li>
<p>It was added automatically by the kernel.</p>
</li>
<li>
<p>The scope was omitted, so it is global.</p>
</li>
<li>
<p>The route has a cost value of <code>256</code>.</p>
</li>
<li>
<p>It has an IPv6 preference of <code>medium</code>.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_managing_routes">Managing Routes</h4>
<div class="paragraph">
<p>Routes can by managed by using <code>route</code> or <code>ip route</code>. Below is an example of adding and removing a route using the <code>route</code> command. With <code>route</code>, you must use the <code>-6</code> option for IPv6:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ping6 -c 2 2001:db8:1::20</strong>
connect: Network is unreachable
# <strong>route -6 add 2001:db8:1::/64 gw 2001:db8::3</strong>
# <strong>ping6 -c 2 2001:db8:1::20</strong>
PING 2001:db8:1::20(2001:db8:1::20) 56 data bytes
64 bytes from 2001:db8:1::20: icmp_seq=1 ttl=64 time=0.451 ms
64 bytes from 2001:db8:1::20: icmp_seq=2 ttl=64 time=0.438 ms
# <strong>route -6 del 2001:db8:1::/64 gw 2001:db8::3</strong>
# <strong>ping6 -c 2 2001:db8:1::20</strong>
connect: Network is unreachable</pre>
</div>
</div>
<div class="paragraph">
<p>Below is the same example using the <code>ip route</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ping6 -c 2 2001:db8:1:20</strong>
connect: Network is unreachable
# <strong>ip route add 2001:db8:1::/64 via 2001:db8::3</strong>
# <strong>ping6 -c 2 2001:db8:1:20</strong>
PING 2001:db8:1::20(2001:db8:1::20) 56 data bytes
64 bytes from 2001:db8:1::20: icmp_seq=2 ttl=64 time=0.529 ms
64 bytes from 2001:db8:1::20: icmp_seq=2 ttl=64 time=0.438 ms
# <strong>ip route del 2001:db8:1::/64 via 2001:db8::3</strong>
# <strong>ping6 -c 2 2001:db8:1::20</strong>
connect: Network is unreachable</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Which commands can be used to list network interfaces?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would you temporarily disable an interface? How would you re-enable it?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which of the following is a reasonable subnet mask for IPv4?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0.0.255</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>255.0.255.0</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>255.252.0.0</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/24</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which commands can you use to verify your default route?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would add a second IP address to an interface?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Which subcommand of <code>ip</code> can be used to configure vlan tagging?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would you configure a default route?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would you get detailed information about the <code>ip neighbour</code> command? What happens if you run it by itself?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How would you backup your routing table? How would you restore from it?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which <code>ip</code> subcommand can be used to configure spanning tree options?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Networking is usually configured by a system&#8217;s startup scripts or a helper such as NetworkManager. Most distributions have tools that will edit the startup script configuration files for you. Consult your distribution&#8217;s documentation for details.</p>
</div>
<div class="paragraph">
<p>Being able to manually configure networking allows you to troubleshoot more effectively. It is useful in minimal environments used for things like restoring from backups or migrating to new hardware.</p>
</div>
<div class="paragraph">
<p>The utilities covered in this section have more functionality than covered in this lesson. It would be worthwhile to skim through the man page of each to familiarize yourself with the options available. The <code>ss</code> and <code>ip</code> commands are the modern way of doing things, while the rest that are covered, while still in common use, are considered legacy tools.</p>
</div>
<div class="paragraph">
<p>The best way to get familiar with the tools covered is practice. Using a computer with a modest amount of RAM, it is possible to setup a virtual network lab using virtual machines that you can practice with. Three virtual machines are enough to get comfortable with the tools listed.</p>
</div>
<div class="paragraph">
<p>Commands used in this lesson include:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ifconfig</code></dt>
<dd>
<p>Legacy utility used to configure network interfaces and review their states.</p>
</dd>
<dt class="hdlist1"><code>ip</code></dt>
<dd>
<p>Modern and versatile utility used to configure network interfaces and review their states.</p>
</dd>
<dt class="hdlist1"><code>netstat</code></dt>
<dd>
<p>Legacy command used to view current network connections and route information.</p>
</dd>
<dt class="hdlist1"><code>route</code></dt>
<dd>
<p>Legacy command used to view or modify a system&#8217;s routing table.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Which commands can be used to list network interfaces?</p>
<div class="paragraph">
<p>Any of the commands below:</p>
</div>
<div class="paragraph">
<p><code>ip link</code>, <code>ifconfig -a</code>, or <code>ls /sys/class/net</code></p>
</div>
</li>
<li>
<p>How would you temporarily disable an interface? How would you re-enable it?</p>
<div class="paragraph">
<p>You could use <code>ifconfig</code> or <code>ip link</code>:</p>
</div>
<div class="paragraph">
<p>Using <code>ifconfig</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ifconfig wlan1 down</strong>
$ <strong>ifconfig wlan1 up</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>ip link</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ifconfig wlan1 down</strong>
$ <strong>ifconfig wlan1 up</strong></pre>
</div>
</div>
</li>
<li>
<p>Which of the following is a reasonable subnet mask for IPv4?</p>
<div class="ulist">
<ul>
<li>
<p><code>255.252.0.0</code></p>
</li>
<li>
<p><code>/24</code></p>
<div class="paragraph">
<p>The other masks listed are invalid because they don&#8217;t separate the address cleanly into two sections, the first part defining the network, and the second the host. The left most bits of a mask will always be <code>1</code> and the right bits will always be <code>0</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Which commands can you use to verify your default route?</p>
<div class="paragraph">
<p>You can use <code>route</code>, <code>netstat -r</code>, or <code>ip route</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>route</strong>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         server          0.0.0.0         UG    600    0        0 wlan1
192.168.1.0     0.0.0.0         255.255.255.0   U     600    0        0 wlan1
$ <strong>netstat -r</strong>
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
default         server          0.0.0.0         UG        0 0          0 wlan1
192.168.1.0     0.0.0.0         255.255.255.0   U         0 0          0 wlan1
$ <strong>ip route</strong>
default via 192.168.1.20 dev wlan1 proto static metric 600
192.168.1.0/24 dev wlan1 proto kernel scope link src 192.168.1.24 metric 600</pre>
</div>
</div>
</li>
<li>
<p>How would add a second IP address to an interface?</p>
<div class="paragraph">
<p>You would use <code>ip address</code> or <code>ifconfig</code>. Keep in mind that <code>ifconfig</code> is a legacy tool:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ip addr add 172.16.15.16/16 dev enp0s9 label enp0s9:sub1</strong></pre>
</div>
</div>
<div class="paragraph">
<p>The portion of the command <code>label enp0s9:sub1</code> adds an alias to <code>enp0s9</code>. If you don&#8217;t use the legacy <code>ifconfig</code> you can omit this. If you do, the command will still work, but the address you just added won&#8217;t show up in the output of <code>ifconfig</code>.</p>
</div>
<div class="paragraph">
<p>You can also use <code>ifconfig</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ifconfig enp0s9:sub1 172.16.15.16/16</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.3_01-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Which subcommand of <code>ip</code> can be used to configure vlan tagging?</p>
<div class="paragraph">
<p><code>ip link</code> has a <code>vlan</code> option that can be used. Below is an example of tagging a sub interface with vlan 20.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip link add link enp0s9 name enp0s9.20 type vlan id 20</strong></pre>
</div>
</div>
</li>
<li>
<p>How would you configure a default route?</p>
<div class="paragraph">
<p>Using <code>route</code> or <code>ip route</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>route add default gw 192.168.1.1</strong>
# <strong>ip route add default via 192.168.1.1</strong></pre>
</div>
</div>
</li>
<li>
<p>How would you get detailed information about the <code>ip neighbour</code> command? What happens if you run it by itself?</p>
<div class="paragraph">
<p>By reading the man page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>man ip-neigbour</strong></pre>
</div>
</div>
<div class="paragraph">
<p>It displays your ARP cache:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ip neighbour</strong>
10.0.2.2 dev enp0s3 lladdr 52:54:00:12:35:02 REACHABLE</pre>
</div>
</div>
</li>
<li>
<p>How would you backup your routing table? How would you restore from it?</p>
<div class="paragraph">
<p>The example below demonstrates backing up and restoring a routing table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip route save &gt; /root/routes/route_backup</strong>
# <strong>ip route restore &lt; /root/routes/route_backup</strong></pre>
</div>
</div>
</li>
<li>
<p>Which <code>ip</code> subcommand can be used to configure spanning tree options?</p>
<div class="paragraph">
<p>Similar to managing vlan settings, <code>ip link</code> can configure spanning tree by using the <code>bridge</code> type. The example shows adding a virtual interface with a STP priority of 50:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>ip link add link enp0s9 name enp0s9.50 type bridge priority 50</strong></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>Â© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">109.3 Basic network troubleshooting (109.3 Lesson 2)</p>

        <div class="button-group">
            <a href="../109.3_02/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>Â© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the worldâs first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>Â© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
