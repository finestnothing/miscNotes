

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>109.4 Lesson 1</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >PortuguÃªs</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">109.4 Lesson 1</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../105/105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../105/105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../110/110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../110/110.3/index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../110/110.3/110.3_02/index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 109: Networking Fundamentals</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">109.4 Configure client side DNS</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">109.4 Lesson 1</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>109.4 Lesson 1</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">109 Networking Fundamentals</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">109.4 Configure client side DNS</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 of 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.4_01-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lesson covers configuring client side name resolution and how to use a few CLI name resolution tools.</p>
</div>
<div class="paragraph">
<p>Remembering and maintaining IP addresses, UIDs, and GIDs, and other numbers for everything isn&#8217;t feasible. Name resolution services translate easy to remember names to numbers and vice versa. This lesson focuses on host name resolution, but a similar process happens for user names, group names, port numbers, and several others.</p>
</div>
<div class="sect2">
<h3 id="_name_resolution_process">Name Resolution Process</h3>
<div class="paragraph">
<p>Programs that resolve names to numbers almost always use functions provided by the standard C library, which on Linux systems is the GNU project&#8217;s glibc. The first things these functions do is read the file <code>/etc/nsswitch.conf</code> for instructions on how to resolve that type of name. This lesson is focused on host name resolution, but the same process applies to other types of name resolution as well. Once the process reads <code>/etc/nsswitch.conf</code>, it looks up the name in the manner specified. Since <code>/etc/nsswitch.conf</code> supports plugins, what comes next could be anything. After the function is done looking up the name or number, it returns the result to the calling process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dns_classes">DNS Classes</h3>
<div class="paragraph">
<p>DNS has three record classes, IN, HS, and CH. In this lesson, all DNS queries will be of type IN. The IN class is for internet addresses using the TCP/IP stack. CH is for ChaosNet, which is a network technology that was short lived and is no longer in use. The HS class is for Hesiod. Hesiod is a way to store things like passwd and group entries in DNS. Hesiod is beyond the scope of this lesson.</p>
</div>
<div class="sect3">
<h4 id="_understanding_etcnsswitch_conf">Understanding <code>/etc/nsswitch.conf</code></h4>
<div class="paragraph">
<p>The best way to learn about this file is to read the man page that is part of the Linux man-pages project. It is available on most systems. It can be accessed with the command <code>man nsswitch.conf</code>. Alternatively, it can be found at <a href="https://man7.org/linux/man-pages/dir_section_5.html" class="bare">https://man7.org/linux/man-pages/dir_section_5.html</a></p>
</div>
<div class="paragraph">
<p>Below is a simple example of <code>/etc/nsswitch.conf</code> from its man page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>           passwd:         compat
           group:          compat
           shadow:         compat

           hosts:          dns [!UNAVAIL=return] files
           networks:       nis [NOTFOUND=return] files
           ethers:         nis [NOTFOUND=return] files
           protocols:      nis [NOTFOUND=return] files
           rpc:            nis [NOTFOUND=return] files
           services:       nis [NOTFOUND=return] files
           # This is a comment. It is ignored by the resolution functions.</pre>
</div>
</div>
<div class="paragraph">
<p>The file is organized into columns. The far left column is the type of name database. The rest of the columns are the methods the resolution functions should use to lookup a name. The methods are followed by the functions from left to right. Columns with <code>[]</code> are used to provide some limited conditional logic to the column immediately to the left of it.</p>
</div>
<div class="paragraph">
<p>Suppose a process is trying to resolve the host name <code>learning.lpi.org</code>. It would make an appropriate C library call (most likely <code>gethostbyname</code>). This function will then read <code>/etc/nsswitch.conf</code>. Since the process is looking up a host name, it will find the line starting with <code>hosts</code>. It would then attempt to use DNS to resolve the name. The next column, <code>[!UNAVAIL=return]</code> means that if the service is <em>not</em> unavailable, then do not try the next source, i.e., if DNS is available, stop trying to resolve the host name even if the name servers are unable to. If DNS is unavailable, then continue on to the next source. In this case, the next source is <code>files</code>.</p>
</div>
<div class="paragraph">
<p>When you see a column in the format <code>[result=action]</code>, it means that when a resolver lookup of the column to the left of it is <code>result</code>, then <code>action</code> is performed. If <code>result</code> is preceded with a <code>!</code>, it means if the result is not <code>result</code>, then perform <code>action</code>. For descriptions of the possible results and actions, see the man page.</p>
</div>
<div class="paragraph">
<p>Now suppose a process is trying to resolve a port number to a service name. It would read the <code>services</code> line. The first source listed is NIS. NIS stands for <em>Network Information Service</em> (it is sometimes referred to as yellow pages). It is an old service that allowed central management of things such as users. It is rarely used anymore due to its weak security.  The next column <code>[NOTFOUND=return]</code> means that if the lookup succeeded but the service was not found to stop looking. If the aforementioned condition does not apply, use local files.</p>
</div>
<div class="paragraph">
<p>Anything to the right of <code>#</code> is a comment and ignored.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_etcresolv_conf_file">The <code>/etc/resolv.conf</code> File</h4>
<div class="paragraph">
<p>The file <code>/etc/resolv.conf</code> is used to configure host resolution via DNS. Some distributions have startup scripts, daemons, and other tools that write to this file. Keep this in mind when manually editing this file. Check your distribution and any network configuration tools documentation if this is the case. Some tools, such as Network Manager will leave a comment in the file letting you know that manual changes will be overwritten.</p>
</div>
<div class="paragraph">
<p>As with <code>/etc/nsswitch.conf</code>, there is a man page associated with the file. It can be accessed with the command <code>man resolv.conf</code> or at <a href="https://man7.org/linux/man-pages/man5/resolv.conf.5.html" class="bare">https://man7.org/linux/man-pages/man5/resolv.conf.5.html</a>.</p>
</div>
<div class="paragraph">
<p>The file format is rather straight forward. In the far left column, you have the option <code>name</code>. The rest of the columns on the same line are the option&#8217;s value.</p>
</div>
<div class="paragraph">
<p>The most common option is the <code>nameserver</code> option. It is used to specify the IPv4 or IPv6 address of a DNS server. As of the date of this writing, you can specify up to three name servers. If your <code>/etc/resolv.conf</code> does not have a <code>nameserver</code> option, your system will by default use the name server on the local machine.</p>
</div>
<div class="paragraph">
<p>Below is a simple example file that is representative of common configurations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>search lpi.org
nameserver 10.0.0.53
nameserver fd00:ffff::2:53</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>search</code> option is used to allow short form searches. In the example, a single search domain of <code>lpi.org</code> is configured. This means that any attempt to resolve a host name without a domain portion will have <code>.lpi.org</code> appended before the search.  For example, if you were to try to search for a host named <code>learning</code>, the resolver would search for <code>learning.lpi.org</code>. You can have up to six search domains configured.</p>
</div>
<div class="paragraph">
<p>Another common option is the <code>domain</code> option. This is used to set your local domain name. If this option is missing, this defaults to everything after the first <code>.</code> in the machine&#8217;s host name. If the host name does not contain a <code>.</code>, it is assumed that the machine is part of the root domain. Like <code>search</code>, <code>domain</code> can be used for short name searches.</p>
</div>
<div class="paragraph">
<p>Keep in mind that <code>domain</code> and <code>search</code> are mutually exclusive. If both are present, the last instance in the file is used.</p>
</div>
<div class="paragraph">
<p>There are several options that can be set to affect the behavior of the resolver. To set these, use the <code>options</code> keyword, followed by the name of the option to set, and if applicable, a <code>:</code> followed by the value. Below is an example of setting the timeout option, which is the length of time in seconds the resolver will wait for a name server before giving up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>option timeout:3</pre>
</div>
</div>
<div class="paragraph">
<p>There are other options to <code>resolv.conf</code>, but these are the most common.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_etchosts_file">The <code>/etc/hosts</code> File</h4>
<div class="paragraph">
<p>The file <code>/etc/hosts</code> is used to resolve names to IP addresses and vice versa. Both IPv4 and IPv6 are supported. The left column is the IP address, the rest are names associated with that address. The most common use for <code>/etc/hosts</code> is for hosts and addresses where DNS is not possible, such as loop back addresses. In the example below, IP addresses of critical infrastructure components are defined.</p>
</div>
<div class="paragraph">
<p>Here is a realistic example of an <code>/etc/hosts</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>127.0.0.1       localhost
127.0.1.1       proxy
::1             localhost ip6-localhost ip6-loopback
ff02::1         ip6-allnodes
ff02::2         ip6-allrouters

10.0.0.1        gateway.lpi.org gateway gw
fd00:ffff::1    gateway.lpi.org gateway gw

10.0.1.53       dns1.lpi.org
fd00:ffff::1:53 dns1.lpi.org
10.0.2.53       dns2.lpi.org
fd00:ffff::2:53 dns2.lpi.org</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_systemd_resolved">systemd-resolved</h4>
<div class="paragraph">
<p>Systemd provides a service called <code>systemd-resolved</code>. It provides mDNS, DNS, and LLMNR. When it is running, it listens for DNS requests on <code>127.0.0.53</code>. It does <em>not</em> provide a full fledged DNS server. Any DNS requests it receives are looked up by querying servers configured in <code>/etc/systemd/resolv.conf</code> or <code>/etc/resolv.conf</code>. If you wish to use this, use <code>resolve</code> for <code>hosts</code> in <code>/etc/nsswitch.conf</code>. Keep in mind that the OS package that has the <code>systemd-resolved</code> library may not be installed by default.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_name_resolution_tools">Name Resolution Tools</h3>
<div class="paragraph">
<p>There are many tools available to Linux users for name resolution. This lesson covers three. One, <code>getent</code>, is useful for seeing how real world requests will resolve. Another command is <code>host</code>, which is useful for simple DNS queries. A program called <code>dig</code> is useful for complex DNS operations that can aid with troubleshooting DNS server problems.</p>
</div>
<div class="sect3">
<h4 id="_the_getent_command">The <code>getent</code> Command</h4>
<div class="paragraph">
<p>The <code>getent</code> utility is used to display entries from name service databases. It can retrieve records from any source configurable by <code>/etc/nsswitch.conf</code>.</p>
</div>
<div class="paragraph">
<p>To use <code>getent</code>, follow the command with the type of name you wish to resolve and optionally a specific entry to lookup. If you only specify the type of name, <code>getent</code> will attempt to display all entries of that data type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>getent hosts</strong>
127.0.0.1       localhost
127.0.1.1       proxy
10.0.1.53       dns1.lpi.org
10.0.2.53       dns2.lpi.org
127.0.0.1       localhost ip6-localhost ip6-loopback
$ <strong>getent hosts dns1.lpi,org</strong>
fd00:ffff::1:53 dns1.lpi.org</pre>
</div>
</div>
<div class="paragraph">
<p>Starting with glibc version 2.2.5, you can force <code>getent</code> to use a specific data source with the <code>-s</code> option. The example below demonstrates this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>getent -s files hosts learning.lpi.org</strong>
::1             learning.lpi.org
$ <strong>getent -s dns hosts learning.lpi.org</strong>
208.94.166.198  learning.lpi.org</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_host_command">The <code>host</code> Command</h4>
<div class="paragraph">
<p><code>host</code> is a simple program for looking up DNS entries. With no options, if <code>host</code> is given a name, it returns the A, AAAA, and MX record sets. If given an IPv4 or IPv6 address, it outputs the PTR record if one is available:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>host wikipedia.org</strong>
wikipedia.org has address 208.80.154.224
wikipedia.org has IPv6 address 2620:0:861:ed1a::1
wikipedia.org mail is handled by 10 mx1001.wikimedia.org.
wikipedia.org mail is handled by 50 mx2001.wikimedia.org.
$ <strong>host 208.80.154.224</strong>
224.154.80.208.in-addr.arpa domain name pointer text-lb.eqiad.wikimedia.org.</pre>
</div>
</div>
<div class="paragraph">
<p>If you are looking for a specific record type, you can use <code>host -t</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>host -t NS lpi.org</strong>
lpi.org name server dns1.easydns.com.
lpi.org name server dns3.easydns.ca.
lpi.org name server dns2.easydns.net.
$ <strong>host -t SOA lpi.org</strong>
lpi.org has SOA record dns1.easydns.com. zone.easydns.com. 1593109612 3600 600 1209600 300</pre>
</div>
</div>
<div class="paragraph">
<p><code>host</code> can also be used to query a specific name server if you do not wish to use the ones in <code>/etc/resolv.conf</code>. Simply add the IP address or host name of the server you wish to use as the last argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>host -t MX lpi.org dns1.easydns.com</strong>
Using domain server:
Name: dns1.easydns.com
Address: 64.68.192.10#53
Aliases:

lpi.org mail is handled by 10 aspmx4.googlemail.com.
lpi.org mail is handled by 10 aspmx2.googlemail.com.
lpi.org mail is handled by 5 alt1.aspmx.l.google.com.
lpi.org mail is handled by 0 aspmx.l.google.com.
lpi.org mail is handled by 10 aspmx5.googlemail.com.
lpi.org mail is handled by 10 aspmx3.googlemail.com.
lpi.org mail is handled by 5 alt2.aspmx.l.google.com.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_dig_command">The <code>dig</code> Command</h4>
<div class="paragraph">
<p>Another tool for querying DNS servers is <code>dig</code>. This command is much more verbose than <code>host</code>. By default, <code>dig</code> queries for A records. It is probably too verbose for simply looking up an IP address or host name. <code>dig</code> will work for simple lookups, but it is more suited for troubleshooting DNS server configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dig learning.lpi.org</strong>

; &lt;&lt;&gt;&gt; DiG 9.11.5-P4-5.1+deb10u1-Debian &lt;&lt;&gt;&gt; learning.lpi.org
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 63004
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 3, ADDITIONAL: 5

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
; COOKIE: ca7a415be1cec45592b082665ef87f3483b81ddd61063c30 (good)
;; QUESTION SECTION:
;learning.lpi.org.		IN	A

;; ANSWER SECTION:
learning.lpi.org.	600	IN	A	208.94.166.198

;; AUTHORITY SECTION:
lpi.org.		86400	IN	NS	dns2.easydns.net.
lpi.org.		86400	IN	NS	dns1.easydns.com.
lpi.org.		86400	IN	NS	dns3.easydns.ca.

;; ADDITIONAL SECTION:
dns1.easydns.com.	172682	IN	A	64.68.192.10
dns2.easydns.net.	170226	IN	A	198.41.222.254
dns1.easydns.com.	172682	IN	AAAA	2400:cb00:2049:1::a29f:1835
dns2.easydns.net.	170226	IN	AAAA	2400:cb00:2049:1::c629:defe

;; Query time: 135 msec
;; SERVER: 192.168.1.20#53(192.168.1.20)
;; WHEN: Sun Jun 28 07:29:56 EDT 2020
;; MSG SIZE  rcvd: 266</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, <code>dig</code> provides a lot of information. The output is divided into sections. The first section displays information about the version of <code>dig</code> installed and the query sent, along with any options used for the command. Next it shows information about the query and the response.</p>
</div>
<div class="paragraph">
<p>The next section shows information about EDNS extensions used and the query. In the example, the cookie extension is used. <code>dig</code> is looking for an A record for <code>learning.lpi.org</code>.</p>
</div>
<div class="paragraph">
<p>The next section shows the result of the query. The number in the second column is the TTL of the resource in seconds.</p>
</div>
<div class="paragraph">
<p>The rest of the output provides information about the domain&#8217;s name servers, including the NS records for the server along with the A and AAAA records of the servers in the domain&#8217;s NS record.</p>
</div>
<div class="paragraph">
<p>Like <code>host</code>, you can specify a record type with the <code>-t</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dig -t SOA lpi.org</strong>

; &lt;&lt;&gt;&gt; DiG 9.11.5-P4-5.1+deb10u1-Debian &lt;&lt;&gt;&gt; -t SOA lpi.org
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 16695
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 3, ADDITIONAL: 6

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
; COOKIE: 185c67140a63baf46c4493215ef8906f7bfbe15bdca3b01a (good)
;; QUESTION SECTION:
;lpi.org.			IN	SOA

;; ANSWER SECTION:
lpi.org.		600	IN	SOA	dns1.easydns.com. zone.easydns.com. 1593109612 3600 600 1209600 300

;; AUTHORITY SECTION:
lpi.org.		81989	IN	NS	dns1.easydns.com.
lpi.org.		81989	IN	NS	dns2.easydns.net.
lpi.org.		81989	IN	NS	dns3.easydns.ca.

;; ADDITIONAL SECTION:
dns1.easydns.com.	168271	IN	A	64.68.192.10
dns2.easydns.net.	165815	IN	A	198.41.222.254
dns3.easydns.ca.	107	IN	A	64.68.196.10
dns1.easydns.com.	168271	IN	AAAA	2400:cb00:2049:1::a29f:1835
dns2.easydns.net.	165815	IN	AAAA	2400:cb00:2049:1::c629:defe

;; Query time: 94 msec
;; SERVER: 192.168.1.20#53(192.168.1.20)
;; WHEN: Sun Jun 28 08:43:27 EDT 2020
;; MSG SIZE  rcvd: 298</pre>
</div>
</div>
<div class="paragraph">
<p>Dig has many options to fine tune both the output and query sent to the server. These options begin with <code>+</code>. One option is the <code>short</code> option, which suppresses all output except the result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dig +short lpi.org</strong>
65.39.134.165
$ <strong>dig +short -t SOA lpi.org</strong>
dns1.easydns.com. zone.easydns.com. 1593109612 3600 600 1209600 300</pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example of turning off the cookie EDNS extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>dig +nocookie -t MX lpi.org</strong>

; &lt;&lt;&gt;&gt; DiG 9.11.5-P4-5.1+deb10u1-Debian &lt;&lt;&gt;&gt; +nocookie -t MX lpi.org
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 47774
;; flags: qr rd ra; QUERY: 1, ANSWER: 7, AUTHORITY: 3, ADDITIONAL: 5

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;lpi.org.			IN	MX

;; ANSWER SECTION:
lpi.org.		468	IN	MX	0 aspmx.l.google.com.
lpi.org.		468	IN	MX	10 aspmx4.googlemail.com.
lpi.org.		468	IN	MX	10 aspmx5.googlemail.com.
lpi.org.		468	IN	MX	10 aspmx2.googlemail.com.
lpi.org.		468	IN	MX	10 aspmx3.googlemail.com.
lpi.org.		468	IN	MX	5 alt2.aspmx.l.google.com.
lpi.org.		468	IN	MX	5 alt1.aspmx.l.google.com.

;; AUTHORITY SECTION:
lpi.org.		77130	IN	NS	dns2.easydns.net.
lpi.org.		77130	IN	NS	dns3.easydns.ca.
lpi.org.		77130	IN	NS	dns1.easydns.com.

;; ADDITIONAL SECTION:
dns1.easydns.com.	76140	IN	A	64.68.192.10
dns2.easydns.net.	73684	IN	A	198.41.222.254
dns1.easydns.com.	76140	IN	AAAA	2400:cb00:2049:1::a29f:1835
dns2.easydns.net.	73684	IN	AAAA	2400:cb00:2049:1::c629:defe

;; Query time: 2 msec
;; SERVER: 192.168.1.20#53(192.168.1.20)
;; WHEN: Mon Jun 29 10:18:58 EDT 2020
;; MSG SIZE  rcvd: 389</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec.109.4_01-GE">Guided Exercises</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What will the command below do?</p>
<div class="listingblock">
<div class="content">
<pre>getent group openldap</pre>
</div>
</div>
</li>
<li>
<p>What is the biggest difference between <code>getent</code> and the other tools covered, <code>host</code> and <code>dig</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which option to <code>dig</code> and <code>host</code> is used to specify the type of record you wish to retrieve?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which of the following is a proper <code>/etc/hosts</code> entry?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>::1         localhost</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost   127.0.0.1</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Which option to <code>getent</code> is used to specify which data source should be used to perform a lookup?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sec.109.4_01-EE">Explorational Exercises</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you were to edit the <code>/etc/resolv.conf</code> below with a text editor, what is likely to happen?</p>
<div class="listingblock">
<div class="content">
<pre># Generated by NetworkManager
nameserver 192.168.1.20</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The changes will be overwritten by NetworkManager.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetworkManager will update its configuration with your changes.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your changes won&#8217;t affect the system.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetworkManager will be disabled.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What does the following line in <code>/etc/nsswitch.conf</code> mean:</p>
<div class="listingblock">
<div class="content">
<pre>hosts: files [SUCCESS=continue] dns</pre>
</div>
</div>
</li>
<li>
<p>Considering the following <code>/etc/resolv.conf</code> why isn&#8217;t the system resolving names through DNS?</p>
<div class="listingblock">
<div class="content">
<pre>search lpi.org
#nameserver fd00:ffff::1:53
#nameserver 10.0.1.53</pre>
</div>
</div>
</li>
<li>
<p>What does the command <code>dig +noall +answer +question lpi.org</code> do?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>How can you override the defaults of <code>dig</code> without specifying them on the command line?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.109.4_01-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>getent</code> command is a great tool to see the results of resolver calls. For simple DNS queries, <code>host</code> is easy to use and produces straightforward output. If you need detailed information or need to fine tune a DNS query, <code>dig</code> is most likely your best bet.</p>
</div>
<div class="paragraph">
<p>Due to the ability to add shared library plugins and configure the resolver behavior, Linux has excellent support for name and number resolution of various types. The <code>getent</code> program can be used to resolve names using the resolver libraries. <code>host</code> and <code>dig</code> can be used to query DNS servers.</p>
</div>
<div class="paragraph">
<p>The file <code>/etc/nsswitch.conf</code> is used to configure the resolver behavior. You are able to change data sources and add some simple conditional logic for name types with multiple sources.</p>
</div>
<div class="paragraph">
<p>DNS is configured by editing <code>/etc/resolv.conf</code>. Many distributions have tools that manage this file for you, so make sure to check your system&#8217;s documentation if manual changes aren&#8217;t persisting.</p>
</div>
<div class="paragraph">
<p>The <code>/etc/hosts</code> file is used to resolve host names to IPs and vice versa. It is typically used to define names, such as <code>localhost</code>, that aren&#8217;t available through DNS.</p>
</div>
<div class="paragraph">
<p>It is possible to leave comments in the configuration files covered in this lesson. Any text to the right of <code>#</code> is ignored by the system.</p>
</div>
<div class="sect2">
<h3 id="sec.109.4_01-AGE">Answers to Guided Exercises</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What will the command below do?</p>
<div class="listingblock">
<div class="content">
<pre>getent group openldap</pre>
</div>
</div>
<div class="paragraph">
<p>It will read <code>/etc/nsswitch.conf</code>, lookup the <code>openldap</code> group from the sources listed, and display information about it if it is found.</p>
</div>
</li>
<li>
<p>What is the biggest difference between <code>getent</code> and the other tools covered, <code>host</code> and <code>dig</code>?</p>
<div class="paragraph">
<p><code>getent</code> looks up names using the resolver libraries, the others just query DNS. <code>getent</code> can be used to troubleshoot your <code>/etc/nsswitch.conf</code> and the configuration of name resolution libraries your system is configured to use. <code>host</code> and <code>dig</code> are used to lookup DNS records.</p>
</div>
</li>
<li>
<p>Which option to <code>dig</code> and <code>host</code> is used to specify the type of record you wish to retrieve?</p>
<div class="paragraph">
<p>Both programs use <code>-t</code> to specify the type of record you wish to look up.</p>
</div>
</li>
<li>
<p>Which of the following is a proper <code>/etc/hosts</code> entry?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>::1         localhost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>localhost   127.0.0.1</strong></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>::1         localhost</code> is the correct line. The left column is always an IPv4 or IPv6 address.</p>
</div>
</li>
<li>
<p>Which option to <code>getent</code> is used to specify which data source should be used to perform a lookup?</p>
<div class="paragraph">
<p>The <code>-s</code> option is used to specify the data source. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>getent -s files hosts learning.lpi.org</strong>
192.168.10.25   learning.lpi.org
$ <strong>getent -s dns hosts learning.lpi.org</strong>
208.94.166.198  learning.lpi.org</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sec.109.4_01-AEE">Answers to Explorational Exercises</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you were to edit the <code>/etc/resolv.conf</code> below with a text editor, what is likely to happen?</p>
<div class="listingblock">
<div class="content">
<pre># Generated by NetworkManager
nameserver 192.168.1.20</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The changes will be overwritten by NetworkManager.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetworkManager will update its configuration with your changes.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your changes won&#8217;t affect the system.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetworkManager will be disabled.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What does the following line in <code>/etc/nsswitch.conf</code> mean:</p>
<div class="listingblock">
<div class="content">
<pre>hosts: files [SUCCESS=continue] dns</pre>
</div>
</div>
<div class="paragraph">
<p>Lookups for host names will check your <code>/etc/hosts</code> files first and then DNS. If an entry found is found in files and DNS, the entry in DNS will be used.</p>
</div>
</li>
<li>
<p>Considering the following <code>/etc/resolv.conf</code> why isn&#8217;t the system resolving names through DNS?</p>
<div class="listingblock">
<div class="content">
<pre>search lpi.org
#nameserver fd00:ffff::1:53
#nameserver 10.0.1.53</pre>
</div>
</div>
<div class="paragraph">
<p>Both DNS servers are commented out and there is no DNS server running on the local host.</p>
</div>
</li>
<li>
<p>What does the command <code>dig +noall +answer +question lpi.org</code> do?</p>
<div class="paragraph">
<p>It looks up the A record for <code>lpi.org</code> and displays only the query and response.</p>
</div>
</li>
<li>
<p>How can you override the defaults of <code>dig</code> without specifying them on the command line?</p>
<div class="paragraph">
<p>You create a <code>.digrc</code> file in your home directory.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>Â© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">110.1 Perform security administration tasks (110.1 Lesson 1)</p>

        <div class="button-group">
            <a href="../../../110/110.1/110.1_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>Â© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the worldâs first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>Â© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
