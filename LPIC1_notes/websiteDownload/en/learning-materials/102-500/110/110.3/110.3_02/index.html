

<!DOCTYPE html>
<html lang="en-us">
<head>


  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WMC4KTP');</script>
  



  <meta charset="utf-8"/>
  <title>110.3 Lesson 2</title>

  <link rel="stylesheet" href="../../../../../../scss/styles.min.css">

  
  <link rel="apple-touch-icon" sizes="152x152" href="https://learning.lpi.org/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://learning.lpi.org/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://learning.lpi.org/favicon-16x16.png">
  <link rel="manifest" href="https://learning.lpi.org/site.webmanifest">
  <link rel="mask-icon" href="https://learning.lpi.org/safari-pinned-tab.svg" color="#fbc000">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="page">



  
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WMC4KTP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  



  

<header class="header">
  <span class="header__nav -clone"></span>

  <a href="https://learning.lpi.org/" class="header__logo-link">
    <img class="header__logo" src="../../../../../../lpi-learning-logo.svg" alt="Linux Professional Institute Learning Logo.">
  </a>

  <nav class="header__nav nav">
    <a href="index.html#content" class="nav__skip">Skip to main content</a>

    <button class="nav__button" aria-hidden="true">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav__menus">
      <ul class="nav__menu">
        
          <li class="nav__item
              
              
              ">


            
              <a href="https://learning.lpi.org/en/" class="nav__link">Home</a>
            


            
          </li>
        
          <li class="nav__item
              -has-submenu
              -is-active
              ">


            
              <button class="nav__link" type="button">Learning Materials</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/all-materials/" class="nav__link
                      ">All Resources</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/learning-materials/" class="nav__link
                      ">LPI Learning Materials</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/learning-materials/become-contributor/" class="nav__link
                      ">Become a Contributor</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">Publishing Partners</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/lpp-partners/" class="nav__link
                      ">Publishing Partners</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/lpi-publishing-partner/become-lpp/" class="nav__link
                      ">Become a Publishing Partner</a>
                  </li>
                
              </ul>
            
          </li>
        
          <li class="nav__item
              -has-submenu
              
              ">


            
              <button class="nav__link" type="button">About</button>
            


            
              <ul class="nav__menu -submenu">
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/about/" class="nav__link
                      ">About</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/faq/" class="nav__link
                      ">FAQ</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/lm-contributors/" class="nav__link
                      ">Contributors</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/roadmap/" class="nav__link
                      ">Roadmap</a>
                  </li>
                
                  <li class="nav__item
                      ">
                    <a href="https://learning.lpi.org/en/about/contact/" class="nav__link
                      ">Contact</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>

      <ul class="nav__menu -secondary">
        <li class="nav__item -lang-select">
        
<select name="language-picker" id="lang-select" class="lang-select" title='Language' aria-label='Language'>
  
    <option value="en"
      selected>English</option>
  
    <option value="pt"
      >Português</option>
  
</select>


        </li>
        <li class="nav__item -external">
        <a href="https://lpi.org/" class="nav__link" target="_blank" rel="noreferrer noopener">LPI.org</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <table class="print-header">
    <tr class="print-header__body">
      <td class="print-header__cell">110.3 Lesson 2</td>
      <td class="print-header__cell -pagenumber"></td>
    </tr>
  </table>

  <table class="print">
    <thead><tr><td class="print__cell">
      <div class="print__space -header"></div>
    </td></tr></thead>
    <tbody><tr><td class="print__cell">
      <main id="content">




<div class="lesson page-content">
  <div class="lesson__hierarchy page-content__hierarchy">
    <nav class="hierarchy">
  

  <div class="hierarchy__container">
     
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 105: Shells and Shell Scripting
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../105/105.1/index.html" class="hierarchy__link">105.1 Customize and use the shell environment</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_01/index.html" class="hierarchy__link">105.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_02/index.html" class="hierarchy__link">105.1 Lesson 2</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.1/105.1_03/index.html" class="hierarchy__link">105.1 Lesson 3</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../105/105.2/index.html" class="hierarchy__link">105.2 Customize or write simple scripts</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_01/index.html" class="hierarchy__link">105.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../105/105.2/105.2_02/index.html" class="hierarchy__link">105.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 106: User Interfaces and Desktops
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../106/106.1/index.html" class="hierarchy__link">106.1 Install and configure X11</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.1/106.1_01/index.html" class="hierarchy__link">106.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.2/index.html" class="hierarchy__link">106.2 Graphical Desktops</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.2/106.2_01/index.html" class="hierarchy__link">106.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../106/106.3/index.html" class="hierarchy__link">106.3 Accessibility</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../106/106.3/106.3_01/index.html" class="hierarchy__link">106.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 107: Administrative Tasks
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../107/107.1/index.html" class="hierarchy__link">107.1 Manage user and group accounts and related system files</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_01/index.html" class="hierarchy__link">107.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.1/107.1_02/index.html" class="hierarchy__link">107.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.2/index.html" class="hierarchy__link">107.2 Automate system administration tasks by scheduling jobs</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_01/index.html" class="hierarchy__link">107.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../107/107.2/107.2_02/index.html" class="hierarchy__link">107.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../107/107.3/index.html" class="hierarchy__link">107.3 Localisation and internationalisation</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../107/107.3/107.3_01/index.html" class="hierarchy__link">107.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 108: Essential System Services
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../108/108.1/index.html" class="hierarchy__link">108.1 Maintain system time</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_01/index.html" class="hierarchy__link">108.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.1/108.1_02/index.html" class="hierarchy__link">108.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.2/index.html" class="hierarchy__link">108.2 System logging</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_01/index.html" class="hierarchy__link">108.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../108/108.2/108.2_02/index.html" class="hierarchy__link">108.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.3/index.html" class="hierarchy__link">108.3 Mail Transfer Agent (MTA) basics</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.3/108.3_01/index.html" class="hierarchy__link">108.3 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../108/108.4/index.html" class="hierarchy__link">108.4 Manage printers and printing</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../108/108.4/108.4_01/index.html" class="hierarchy__link">108.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section">
        <dt class="hierarchy__heading">Topic 109: Networking Fundamentals
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../../109/109.1/index.html" class="hierarchy__link">109.1 Fundamentals of internet protocols</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_01/index.html" class="hierarchy__link">109.1 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.1/109.1_02/index.html" class="hierarchy__link">109.1 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.2/index.html" class="hierarchy__link">109.2 Persistent network configuration</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_01/index.html" class="hierarchy__link">109.2 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.2/109.2_02/index.html" class="hierarchy__link">109.2 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.3/index.html" class="hierarchy__link">109.3 Basic network troubleshooting</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_01/index.html" class="hierarchy__link">109.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="../../../109/109.3/109.3_02/index.html" class="hierarchy__link">109.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../../109/109.4/index.html" class="hierarchy__link">109.4 Configure client side DNS</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../../109/109.4/109.4_01/index.html" class="hierarchy__link">109.4 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
      <dl class="hierarchy__section -is-active">
        <dt class="hierarchy__heading">Topic 110: Security
          <button class="hierarchy__toggle-button" aria-hidden="true">
            <span class="hierarchy__toggle-button__icon"></span>
          </button>
        </dt>

        
        <dd class="hierarchy__item">
          <a href="../../110.1/index.html" class="hierarchy__link">110.1 Perform security administration tasks</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../110.1/110.1_01/index.html" class="hierarchy__link">110.1 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../../110.2/index.html" class="hierarchy__link">110.2 Setup host security</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../../110.2/110.2_01/index.html" class="hierarchy__link">110.2 Lesson 1</a>
            </li>
            
          </ul>
        </dd>
        
        <dd class="hierarchy__item">
          <a href="../index.html" class="hierarchy__link">110.3 Securing data with encryption</a>

          <ul class="hierarchy__section -sub">
            
            <li class="hierarchy__item">
              <a href="../110.3_01/index.html" class="hierarchy__link">110.3 Lesson 1</a>
            </li>
            
            <li class="hierarchy__item">
              <a href="index.html" class="hierarchy__link">110.3 Lesson 2</a>
            </li>
            
          </ul>
        </dd>
        
      </dl>
      
  </div>
</nav>

  </div>



  <div class="lesson__container page-content__container">
    <div class="container">
      <nav class="lesson__breadcrumb breadcrumb">
        <ol class="breadcrumb__list">
          
          <li class="breadcrumb__item">
            <a href="../../index.html" class="breadcrumb__link">Topic 110: Security</a>
          </li>
          
          
          <li class="breadcrumb__item">
            <a href="../index.html" class="breadcrumb__link">110.3 Securing data with encryption</a>
          </li>
          
          <li class="breadcrumb__item">
            <a href="index.html" class="breadcrumb__link">110.3 Lesson 2</a>
          </li>
        </ol>
      </nav>

      
      <section class="lesson__content">
        
          <h1>110.3 Lesson 2</h1>
          <div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch fronttable">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Certificate:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LPIC-1</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Version:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Topic:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">110 Security</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Objective:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">110.3 Securing data with encryption</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Lesson:</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 of 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-IN">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous lesson we learned how to use <em>OpenSSH</em> to encrypt remote login sessions as well as any other subsequent exchange of information. There may be other scenarios where you may want to encrypt files or email so that they reach their recipient safely and free from prying eyes. You may also need to digitally sign those files or messages to prevent them from being tampered with.</p>
</div>
<div class="paragraph">
<p>A great tool for these types of uses is the <em>GNU Privacy Guard</em> (aka <em>GnuPG</em> or simply <em>GPG</em>), which is a free and open source implementation of the proprietary <em>Pretty Good Privacy</em> (<em>PGP</em>). <em>GPG</em> uses the <em>OpenPGP</em> standard as defined by the <em>OpenPGP Working Group</em> of the <em>Internet Engineering Task Force</em> (<em>IETF</em>) in RFC 4880. In this lesson we will be reviewing the basics of the <em>GNU Privacy Guard</em>.</p>
</div>
<div class="sect2">
<h3 id="_perform_basic_gnupg_configuration_usage_and_revocation">Perform Basic GnuPG Configuration, Usage and Revocation</h3>
<div class="paragraph">
<p>Just as with SSH, the underlying mechanism to GPG is that of <em>asymmetric cryptography</em> or <em>public-key cryptography</em>. A user generates a key pair which is made up of a <em>private key</em> and a <em>public key</em>. The keys are mathematically related in such a way that what is encrypted by one can only be decrypted by the other. For communication to take place successfully, the user has to send their public key to the intended recipient.</p>
</div>
<div class="sect3">
<h4 id="_gnupg_configuration_and_usage">GnuPG Configuration and Usage</h4>
<div class="paragraph">
<p>The command to work with GPG is <code>gpg</code>. You can pass it a number of options to carry out different tasks. Let us start by generating a key pair as user <code>carol</code>. For that, you will use the <code>gpg --gen-key</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>gpg --gen-key</strong>
gpg (GnuPG) 2.2.12; Copyright (C) 2018 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

gpg: directory '/home/carol/.gnupg' created
gpg: keybox '/home/carol/.gnupg/pubring.kbx' created
Note: Use "gpg --full-generate-key" for a full featured key generation dialog.

GnuPG needs to construct a user ID to identify your key.

Real name:

(...)</pre>
</div>
</div>
<div class="paragraph">
<p>After informing you&#8201;&#8212;&#8201;amongst other things&#8201;&#8212;&#8201;that the configuration directory <code>~/.gnupg</code> and your public keyring <code>~/.gnugpg/pubring.kbx</code> have been created, <code>gpg</code> goes on to ask you to provide your real name and email address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(...)
Real name: carol
Email address: carol@debian
You selected this USER-ID:
    "carol &lt;carol@debian&gt;"

Change (N)ame, (E)mail, or (O)kay/(Q)uit?</pre>
</div>
</div>
<div class="paragraph">
<p>If you are OK with the resulting <code>USER-ID</code> and press <kbd>O</kbd>, you will be then asked for a passphrase (it is recommended that it has enough complexity):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>┌──────────────────────────────────────────────────────┐
│ Please enter the passphrase to                       │
│ protect your new key                                 │
│                                                      │
│ Passphrase: <em><em></em><em></em></em><em><em></em><em></em></em><em><em></em><em></em></em><em><em></em><em></em></em> │

(...)</pre>
</div>
</div>
<div class="paragraph">
<p>Some final messages will be displayed telling you about the creation of other files as well as the keys themselves and then you are done with the key generation process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(...)
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: /home/carol/.gnupg/trustdb.gpg: trustdb created
gpg: key 19BBEFD16813034E marked as ultimately trusted
gpg: directory '/home/carol/.gnupg/openpgp-revocs.d' created
gpg: revocation certificate stored as '/home/carol/.gnupg/openpgp-revocs.d/D18FA0021F644CDAF57FD0F919BBEFD16813034E.rev'
public and secret key created and signed.

pub   rsa3072 2020-07-03 [SC] [expires: 2022-07-03]
      D18FA0021F644CDAF57FD0F919BBEFD16813034E
uid                      carol &lt;carol@debian&gt;
sub   rsa3072 2020-07-03 [E] [expires: 2022-07-03]</pre>
</div>
</div>
<div class="paragraph">
<p>You can now see what is inside the <code>~/.gnupg</code> directory (GPG&#8217;s configuration directory):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~/.gnupg$ <strong>ls -l</strong>
total 16
drwx------ 2 carol carol 4096 Jul  3 23:34 openpgp-revocs.d
drwx------ 2 carol carol 4096 Jul  3 23:34 private-keys-v1.d
-rw-r--r-- 1 carol carol 1962 Jul  3 23:34 pubring.kbx
-rw------- 1 carol carol 1240 Jul  3 23:34 trustdb.gpg</pre>
</div>
</div>
<div class="paragraph">
<p>Let us explain the use of each file:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>opengp-revocs.d</code></dt>
<dd>
<p>The revocation certificate that was created along with the key pair is kept here. The permissions on this directory are quite restrictive as anyone who has access to the certificate could revoke the key (more on key revocation in the next subsection).</p>
</dd>
<dt class="hdlist1"><code>private-keys-v1.d</code></dt>
<dd>
<p>This is the directory that keeps your private keys, therefore permissions are restrictive.</p>
</dd>
<dt class="hdlist1"><code>pubring.kbx</code></dt>
<dd>
<p>This is your public keyring. It stores your own as well as any other imported public keys.</p>
</dd>
<dt class="hdlist1"><code>trustdb.gpg</code></dt>
<dd>
<p>The trust database. This has to do with the concept of <em>Web of Trust</em> (which is outside the scope of this lesson).</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The arrival of <em>GnuPG 2.1</em> brought along some significant changes, such as the disappearance of the <code>secring.gpg</code> and <code>pubring.gpg</code> files in favour of <code>private-keys-v1.d</code> and <code>pubring.kbx</code>, respectively.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once your key pair has been created, you can view your public keys with <code>gpg --list-keys</code>&#8201;&#8212;&#8201;which will display the contents of your public keyring:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~/.gnupg$ <strong>gpg --list-keys</strong>
/home/carol/.gnupg/pubring.kbx
------------------------------
pub   rsa3072 2020-07-03 [SC] [expires: 2022-07-03]
      D18FA0021F644CDAF57FD0F919BBEFD16813034E
uid           [ultimate] carol &lt;carol@debian&gt;
sub   rsa3072 2020-07-03 [E] [expires: 2022-07-03]</pre>
</div>
</div>
<div class="paragraph">
<p>The hexadecimal string <code>D18FA0021F644CDAF57FD0F919BBEFD16813034E</code> is your <em>public key fingerprint</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Apart from the <code>USER-ID</code> (<code>carol</code> in the example), there is also the <code>KEY-ID</code>. The <code>KEY-ID</code> consists of the last 8 hexadecimal digits in your public key fingerprint (<code>6813 034E</code>). You can check your key fingerprint with the command <code>gpg --fingerprint <em>USER-ID</em></code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_key_distribution_and_revocation">Key Distribution and Revocation</h4>
<div class="paragraph">
<p>Now that you have your public key, you should save it (i.e. <em>export</em> it) to a file so that you can make it available to your future recipients. They will then be able to use it to encrypt files or messages intended for you (since you are the only one in posssession of the private key, you will also be the only one able to decrypt and read them). Likewise, your recipients will also use it to decrypt and verify your encrypted or signed messages/files. The command to use is <code>gpg --export</code> followed by the <code>USER-ID</code> and a redirection to the output file name of your choice:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~/.gnupg$ <strong>gpg --export carol > carol.pub.key</strong>
carol@debian:~/.gnupg$ <strong>ls</strong>
carol.pub.key  openpgp-revocs.d  private-keys-v1.d  pubring.kbx  trustdb.gpg</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Passing the <code>-a</code> or <code>--armor</code> option to <code>gpg --export</code>(e.g.: <code>gpg --export --armor carol &gt; carol.pub.key</code>) will create ASCII armored output (instead of the default binary OpenPGP format) which can be safely emailed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As already noted, you must now send your public key file (<code>carol.pub.key</code>) to the recipient with whom you want to exchange information. For instance, let us send the public key file to <code>ina</code> on remote server <code>halof</code> using <code>scp</code>(<em>secure copy</em>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~/.gnupg$ <strong>scp carol.pub.key ina@halof:/home/ina/</strong>
Enter passphrase for key '/home/carol/.ssh/id_ecdsa':
carol.pub.key                                                                                         100% 1740   775.8KB/s   00:00
carol@debian:~/.gnupg$</pre>
</div>
</div>
<div class="paragraph">
<p><code>ina</code> is now in the possession of <code>carol.pub.key</code>. She will use it to encrypt a file and send it to <code>carol</code> in the next section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Another means of public key distribution is through the use of <em>key servers</em>: you upload your public key to the server with the command <code>gpg --keyserver <em>keyserver-name</em> --send-keys <em>KEY-ID</em></code> and other users will get (i.e. <em>import</em>) them with <code>gpg --keyserver <em>keyserver-name</em> --recv-keys <em>KEY-ID</em></code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let us close this section by discussing key revocation. Key revocation should be used when your private keys have been compromised or retired. The first step is to create a revocation certificate by passing <code>gpg</code> the option <code>--gen-revoke</code> followed by the <code>USER-ID</code>. You can precede <code>--gen-revoke</code> with the <code>--output</code> option followed by a destination file name specification to save the resulting certificate into a file (instead of having it printed on the terminal screen). The output messages throughout the revocation process are quite self-explanatory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sonya@debian:~/.gnupg$ <strong>gpg --output revocation_file.asc --gen-revoke sonya</strong>

sec  rsa3072/0989EB7E7F9F2066 2020-07-03 sonya &lt;sonya@debian&gt;

Create a revocation certificate for this key? (y/N) y
Please select the reason for the revocation:
  0 = No reason specified
  1 = Key has been compromised
  2 = Key is superseded
  3 = Key is no longer used
  Q = Cancel
(Probably you want to select 1 here)
Your decision? 1
Enter an optional description; end it with an empty line:
&gt; My laptop was stolen.
&gt;
Reason for revocation: Key has been compromised
My laptop was stolen.
Is this okay? (y/N) y
ASCII armored output forced.
Revocation certificate created.

Please move it to a medium which you can hide away; if Mallory gets
access to this certificate he can use it to make your key unusable.
It is smart to print this certificate and store it away, just in case
your media become unreadable.  But have some caution:  The print system of
your machine might store the data and make it available to others!</pre>
</div>
</div>
<div class="paragraph">
<p>The revocation certificate has been saved to the file <code>revocation_file.asc</code> (<code>asc</code> for ASCII format):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sonya@debian:~/.gnupg$ <strong>ls</strong>
openpgp-revocs.d  private-keys-v1.d  pubring.kbx  revocation_file.asc  trustdb.gpg
sonya@debian:~/.gnupg$ <strong>cat revocation_file.asc</strong>
-----BEGIN PGP PUBLIC KEY BLOCK-----
Comment: This is a revocation certificate

iQHDBCABCgAtFiEEiIVjfDnnpieFi0wvnlcN6yLCeHEFAl8ASx4PHQJzdG9sZW4g
bGFwdG9wAAoJEJ5XDesiwnhxT9YMAKkjQiMpo9Uyiy9hyvukPPSrLcmtAGLk4pKS
pLZfzA5kxa+HPQwBglAEvfNRR6VMxqXUgUGYC/IAyQQM62oNAcY2PCPrxyJNgVF7
8l4mMZKvW++5ikjZwyg6WWV0+w6oroeo9qruJFjcu752p4T+9gsHVa2r+KRqcPQe
aZ65sAvsBJlcsUDZqfWUXg2kQp9mNPCdQuqvDaKRgNCHA1zbzNFzXWVd2X5RgFo5
nY+tUP8ZQA9DTQPBLPcggICmfLopMPZYB2bft5geb2mMi2oNpf9CNPdQkdccimNV
aRjqdUP9C89PwTafBQkQiONlsR/dWTFcqprG5KOWQPA7xjeMV8wretdEgsyTxqHp
v1iRzwjshiJCKBXXvz7wSmQrJ4OfiMDHeS4ipR0AYdO8QCzmOzmcFQKikGSHGMy1
z/YRlttd6NZIKjf1TD0nTrFnRvPdsZOlKYSArbfqNrHRBQkgirOD4JPI1tYKTffq
iOeZFx25K+fj2+0AJjvrbe4HDo5m+Q==
=umI8
-----END PGP PUBLIC KEY BLOCK-----</pre>
</div>
</div>
<div class="paragraph">
<p>To effectively revoke your private key, you now need to merge the certificate with the key, which is done by importing the revocation certificate file to your keyring:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sonya@debian:~/.gnupg$ <strong>gpg --import revocation_file.asc</strong>
gpg: key 9E570DEB22C27871: "sonya &lt;sonya@debian&gt;" revocation certificate imported
gpg: Total number processed: 1
gpg:    new key revocations: 1
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: next trustdb check due at 2022-07-04</pre>
</div>
</div>
<div class="paragraph">
<p>List your keys now and you will be informed about your revoked key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sonya@debian:~/.gnupg$ <strong>gpg --list-keys</strong>
/home/sonya/.gnupg/pubring.kbx
pub   rsa3072 2020-07-04 [SC] [revoked: 2020-07-04]
      8885637C39E7A627858B4C2F9E570DEB22C27871
uid           [ revoked] sonya &lt;sonya@debian&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Last&#8201;&#8212;&#8201;but not least&#8201;&#8212;&#8201;make sure you make the revoked key available to any party that has public keys associated with it (including keyservers).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_gpg_to_encrypt_decrypt_sign_and_verify_files">Use GPG to Encrypt, Decrypt, Sign and Verify Files</h3>
<div class="paragraph">
<p>In the previous section, <code>carol</code> sent her public key to <code>ina</code>. We will use it now to discuss how GPG can encrypt, decrypt, sign and verify files.</p>
</div>
<div class="sect3">
<h4 id="_encrypting_and_decrypting_files">Encrypting and Decrypting Files</h4>
<div class="paragraph">
<p>First, <code>ina</code> must import <code>carol</code>'s public key (<code>carol.pub.key</code>) into her keyring so that she can start working with it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ina@halof:~&gt; <strong>gpg --import carol.pub.key</strong>
gpg: /home/ina/.gnupg/trustdb.gpg: trustdb created
gpg: key 19BBEFD16813034E: public key "carol &lt;carol@debian&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
ina@halof:~&gt; <strong>gpg --list-keys</strong>
/home/ina/.gnupg/pubring.kbx
----------------------------
pub   rsa3072 2020-07-03 [SC] [expires: 2022-07-03]
      D18FA0021F644CDAF57FD0F919BBEFD16813034E
uid           [ unknown] carol &lt;carol@debian&gt;
sub   rsa3072 2020-07-03 [E] [expires: 2022-07-03]</pre>
</div>
</div>
<div class="paragraph">
<p>Next you will create a file by writing some text into it and then encrypt it using <code>gpg</code> (because you did not sign <code>carol</code>'s key, you will be explicitly asked if you want to use that key):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ina@halof:~&gt; <strong>echo "This is the message ..." &gt; unencrypted-message</strong>
ina@halof:~&gt; <strong>gpg --output encrypted-message --recipient carol --armor --encrypt unencrypted-message</strong>
gpg: 0227347CC92A5CB1: There is no assurance this key belongs to the named user
sub  rsa3072/0227347CC92A5CB1 2020-07-03 carol &lt;carol@debian&gt;
 Primary key fingerprint: D18F A002 1F64 4CDA F57F  D0F9 19BB EFD1 6813 034E
      Subkey fingerprint: 9D89 1BF9 39A4 C130 E44B  1135 0227 347C C92A 5CB1

It is NOT certain that the key belongs to the person named
in the user ID.  If you <strong>really</strong> know what you are doing,
you may answer the next question with yes.

Use this key anyway? (y/N) y</pre>
</div>
</div>
<div class="paragraph">
<p>Let us break down the <code>gpg</code> command:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>--output encrypted-message</code></dt>
<dd>
<p>Filename specification for the encrypted version of the original file (<code>encrypted-message</code> in the example).</p>
</dd>
<dt class="hdlist1"><code>--recipient carol</code></dt>
<dd>
<p>Recipient&#8217;s <code>USER-ID</code> specification (<code>carol</code> in our example). If not provided, GnuPG will ask for it (unless <code>--default-recipient</code> is specified).</p>
</dd>
<dt class="hdlist1"><code>--armor</code></dt>
<dd>
<p>This option produces ASCII armored output, which can be copied into an email.</p>
</dd>
<dt class="hdlist1"><code>--encrypt unencrypted-message</code></dt>
<dd>
<p>Filename specification of the original file to encrypt.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can now send the <code>encrypted-message</code> to <code>carol</code> on <code>debian</code> using <code>scp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ina@halof:~> <strong>scp encrypted-message carol@debian:/home/carol/</strong>
carol@debian's password:
encrypted-message                                                             100%  736     1.8MB/s   00:00</pre>
</div>
</div>
<div class="paragraph">
<p>If you log in as <code>carol</code> now and try to read the <code>encrypted-message</code>, you will confirm that it is actually encrypted and&#8201;&#8212;&#8201;therefore&#8201;&#8212;&#8201;unreadable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>cat encrypted-message</strong>
-----BEGIN PGP MESSAGE-----

hQGMAwInNHzJKlyxAQv/brJ8Ubs/xya35sbv6kdRKm1C7ONLxL3OueWA4mCs0Y/P
GBna6ZEUCrMEgl/rCyByj3Yq74kuiTmzxAIRUDdvHfj0TtrOWjVAqIn/fPSfMkjk
dTxKo1i55tLJ+sj17dGMZDcNBinBTP4U1atuN71A5w7vH+XpcesRcFQLKiSOmYTt
F7SN3/5x5J6io4ISn+b0KbJgiJNNx+Ne/ub4Uzk4NlK7tmBklyC1VRualtxcG7R9
1klBPYSld6fTdDwT1Y4MofpyILAiGMZvUR1RXauEKf7OIzwC5gWU+UQPSgeCdKQu
X7QL0ZIBS0Ug2XKrO1k93lmDjf8PWsRIml6n/hNelaOBA3HMP0b6Ozv1gFeEsFvC
IxhUYPb+rfuNFTMEB7xIO94AAmWB9N4qknMxdDqNE8WhA728Plw6y8L2ngsplY15
MR4lIFDpljA/CcVh4BXVe9j0TdFWDUkrFMfaIfcPQwKLXEYJp19XYIaaEazkOs5D
W4pENN0YOcX0KWyAYX6r0l8BF0rq/HMenQwqAVXMG3s8ATuUOeqjBbR1x1qCvRQP
CR/3V73aQwc2j5ioQmhWYpqxiro0yKX2Ar/E6rZyJtJYrq+CUk8O3JoBaudknNFj
pwuRwF1amwnSZ/MZ/9kMKQ==
=g1jw
-----END PGP MESSAGE-----</pre>
</div>
</div>
<div class="paragraph">
<p>However, as you are in possession of the private key, you can easily decrypt the message by passing <code>gpg</code> the <code>--decrypt</code> option followed by the path to the encrypted file (the private key&#8217;s passphrase will be required):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>gpg --decrypt encrypted-message</strong>
gpg: encrypted with 3072-bit RSA key, ID 0227347CC92A5CB1, created 2020-07-03
      "carol &lt;carol@debian&gt;"
This is the message ...</pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify the <code>--output</code> option to save the message into a new unencrypted file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>gpg --output unencrypted-message --decrypt encrypted-message</strong>
gpg: encrypted with 3072-bit RSA key, ID 0227347CC92A5CB1, created 2020-07-03
      "carol &lt;carol@debian&gt;"
carol@debian:~$ <strong>cat unencrypted-message</strong>
This is the message ...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_signing_and_verifying_files">Signing and Verifying Files</h4>
<div class="paragraph">
<p>Apart from encrypting, GPG can also be used to sign files. The <code>--sign</code> option is relevant here. Let us start by creating a new message (<code>message</code>) and signing it with the <code>--sign</code> option (your private key&#8217;s passphrase will be required):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>echo "This is the message to sign ..." > message</strong>
carol@debian:~$ <strong>gpg --output message.sig --sign message</strong>
(...)</pre>
</div>
</div>
<div class="paragraph">
<p>Breakdown of the <code>gpg</code> command:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>--output message</code></dt>
<dd>
<p>Filename specification of the signed version of the original file (<code>message.sig</code> in our example).</p>
</dd>
<dt class="hdlist1"><code>--sign message</code></dt>
<dd>
<p>Path to original file.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Using <code>--sign</code> the document is compressed and then signed. The output is in binary format.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next we will transfer the file to <code>ina</code> on <code>halof</code> using <code>scp message.sig ina@halof:/home/ina</code> . Back as <code>ina</code> on <code>halof</code>, you can now verify it by using the <code>--verify</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ina@halof:~&gt; <strong>gpg --verify message.sig</strong>
gpg: Signature made Sat 04 jul 2020 14:34:41 CEST
gpg:                using RSA key D18FA0021F644CDAF57FD0F919BBEFD16813034E
gpg: Good signature from "carol &lt;carol@debian&gt;" [unknown]
(...)</pre>
</div>
</div>
<div class="paragraph">
<p>If you also want to read the file, you have to decrypt it to a new file (<code>message</code> in our case) using the <code>--output</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ina@halof:~&gt; <strong>gpg --output message --decrypt message.sig</strong>
gpg: Signature made Sat 04 jul 2020 14:34:41 CEST
gpg:                using RSA key D18FA0021F644CDAF57FD0F919BBEFD16813034E
gpg: Good signature from "carol &lt;carol@debian&gt;" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: D18F A002 1F64 4CDA F57F  D0F9 19BB EFD1 6813 034E
ina@halof:~&gt; <strong>cat message</strong>
This is the message to sign ...</pre>
</div>
</div>
<div class="sect4">
<h5 id="_gpg_agent">GPG-Agent</h5>
<div class="paragraph">
<p>We will round this lesson off by briefly touching upon <code>gpg-agent</code>. <code>gpg-agent</code> is the daemon that manages private keys for GPG (it is started on demand by <code>gpg</code>). To view a summary of the most useful options, run <code>gpg-agent --help</code> or <code>gpg-agent -h</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>carol@debian:~$ <strong>gpg-agent --help</strong>
gpg-agent (GnuPG) 2.2.4
libgcrypt 1.8.1
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Syntax: gpg-agent [options] [command [args]]
Secret key management for GnuPG

Options:

     --daemon                        run in daemon mode (background)
     --server                        run in server mode (foreground)
     --supervised                    run in supervised mode
 -v, --verbose                       verbose
 -q, --quiet                         be somewhat more quiet
 -s, --sh                            sh-style command output
 -c, --csh                           csh-style command output
(...)</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For more information, consult the <code>gpg-agent</code> man page.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-GE">Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete the table by providing the correct filename:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Filename</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trust database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for revocation certificates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for private keys</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public keyring</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Answer the following questions:</p>
<div class="ulist">
<ul>
<li>
<p>What type of cryptography is used by <em>GnuPG</em>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What are the two main components of public key cryptography?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What is the <code>KEY-ID</code> of the public key fingerprint <code>07A6 5898 2D3A F3DD 43E3  DA95 1F3F 3147 FA7F 54C7</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What method is used to distribute public keys at a global level?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Put the following steps in the right order concerning private key revocation:</p>
<div class="ulist">
<ul>
<li>
<p>Make the revoked key available to your correspondents.</p>
</li>
<li>
<p>Create a revocation certificate.</p>
</li>
<li>
<p>Import the revocation certificate to your keyring.</p>
<div class="paragraph">
<p>The correct order is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 1</strong>:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 2</strong>:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 3</strong>:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Regarding file encryption, what does the <code>--armor</code> option imply in the command <code>gpg --output encrypted-message --recipient carol --armor --encrypt unencrypted-message</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-EE">Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Most <code>gpg</code> options have both a long and a short version. Complete the table with the corresponding short version:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Long version</th>
<th class="tableblock halign-left valign-top">Short version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--armor</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--output</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--recipient</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--decrypt</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--encrypt</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--sign</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Answer the following questions concerning key export:</p>
<div class="ulist">
<ul>
<li>
<p>What command would you use to export all of your public keys to a file called <code>all.key</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What command would you use to export all of your private keys to a file called <code>all_private.key</code>?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>What <code>gpg</code> option allows for carrying out most key management related tasks by presenting you with a menu?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>What <code>gpg</code> option allows you to make a cleartext signature?</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-SU">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lesson has covered the <em>GNU Privacy Guard</em>, an excellent choice to encrypt/decrypt and digitally sign/verify files. You learned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>how to generate a pair of keys.</p>
</li>
<li>
<p>how to list the keys in your keyring.</p>
</li>
<li>
<p>the contents of the <code>~/.gnupg</code> directory.</p>
</li>
<li>
<p>what <code>USER-ID</code> and <code>KEY-ID</code> are.</p>
</li>
<li>
<p>how to distribute public keys to your correspondents.</p>
</li>
<li>
<p>how to globally distribute public keys through keyservers.</p>
</li>
<li>
<p>how to revoke private keys.</p>
</li>
<li>
<p>how to encrypt and decrypt files.</p>
</li>
<li>
<p>how to sign and verify files.</p>
</li>
<li>
<p>the basics of the <em>GPG-Agent</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following commands were discussed in this lesson:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>gpg</code></dt>
<dd>
<p><em>OpenPGP</em> encryption and signing tool.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-AGE">Answers to Guided Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete the table by providing the correct file name:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Filename</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trust database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trustdb.gpg</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for revocation certificates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>opengp-revocs.d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for private keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>private-keys-v1.d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public keyring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pubring.kbx</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Answer the following questions:</p>
<div class="ulist">
<ul>
<li>
<p>What type of cryptography is used by <em>GnuPG</em>?</p>
<div class="paragraph">
<p>Public key cryptography or asymmetric cryptography.</p>
</div>
</li>
<li>
<p>What are the two main components of public key cryptography?</p>
<div class="paragraph">
<p>The public and the private keys.</p>
</div>
</li>
<li>
<p>What is the <code>KEY-ID</code> of the public key fingerprint <code>07A6 5898 2D3A F3DD 43E3  DA95 1F3F 3147 FA7F 54C7</code>?</p>
<div class="paragraph">
<p><code>FA7F 54C7</code></p>
</div>
</li>
<li>
<p>What method is used to distribute public keys at a global level?</p>
<div class="paragraph">
<p>Key servers.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Put the following steps in the right order concerning private key revocation:</p>
<div class="ulist">
<ul>
<li>
<p>Make the revoked key available to your correspondents</p>
</li>
<li>
<p>Create a revocation certificate</p>
</li>
<li>
<p>Import the revocation certificate to your keyring</p>
<div class="paragraph">
<p>The correct order is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 1</strong>:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a revocation certificate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 2</strong>: </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import the revocation certificate to your keyring</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Step 3</strong>:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make the revoked key available to your correspondents</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</li>
<li>
<p>Regarding file encryption, what does the <code>--armor</code> option imply in the command <code>gpg --output encrypted-message --recipient carol --armor --encrypt unencrypted-message</code>?</p>
<div class="paragraph">
<p>It produces ASCII armored output, which allows you to copy the resulting existing encrypted file into an email.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec.110.3_02-AEE">Answers to Explorational Exercises</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Most <code>gpg</code> options have both a long and a short version. Complete the table with the corresponding short version:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Long version</th>
<th class="tableblock halign-left valign-top">Short version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--armor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-a</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--output</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-o</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--recipient</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-r</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--decrypt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--encrypt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-e</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--sign</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-s</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Answer the following questions concerning key export:</p>
<div class="ulist">
<ul>
<li>
<p>What command would you use to export all of your public keys to a file called <code>all.key</code>?</p>
<div class="paragraph">
<p><code>gpg --export --output all.key</code> or <code>gpg --export -o all.key</code></p>
</div>
</li>
<li>
<p>What command would you use to export all of your private keys to a file called <code>all_private.key</code>?</p>
<div class="paragraph">
<p><code>gpg --export-secret-keys --output all_private.key</code> or <code>gpg --export-secret-keys -o all_private.key</code> (<code>--export-secret-keys</code> can be replaced by <code>--export-secret-subkeys</code> with a slightly different outcome&#8201;&#8212;&#8201;check <code>man pgp</code> for more information).</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>What <code>gpg</code> option allows for carrying out most key management related tasks by presenting you with a menu?</p>
<div class="paragraph">
<p><code>--edit-key</code></p>
</div>
</li>
<li>
<p>What <code>gpg</code> option allows you to make a cleartext signature?</p>
<div class="paragraph">
<p><code>--clearsign</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>

        
      </section>
    </div>

    <aside class="lesson__license smallprint">
  <div class="container">
    
    <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
       This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>
</aside>


    
    
    <aside class="lesson__teaser teaser">
      <div class="container teaser__container">
        <h2 class="label">Next Lesson</h2>
        <p class="headline teaser__headline">110.2 Setup host security (110.2 Lesson 1)</p>

        <div class="button-group">
            <a href="../../110.2/110.2_01/index.html" class="button -primary">Read next lesson</a>
        </div>
      </div>
    </aside>
    
  </div>
</div>

<div class="lesson-progress">
  <div class="lesson-progress__current"></div>
</div>

      </main>
    </td></tr></tbody>
    <tfoot><tr><td class="print__cell">
      <div class="print__space -footer"></div>
    </td></tr></tfoot>
  </table>

  <table class="print-footer">
  <tr class="print-footer__body">
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__image">
    </td>
    <td class="print-footer__cell -center">
      <p>© 2020 Linux Professional Insitute Inc. All rights reserved. Visit the Learning Materials website: https://learning.lpi.org<br />
         This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
    </td>
    <td class="print-footer__cell -image">
      <img src="index.html" alt="" class="print-footer__license">
    </td>
  </tr>
</table>

<footer class="footer">
  <div class="container footer__container columns">
    <div class="column">
      <h2>LPI is a non-profit organization.</h2>
      <p>Linux Professional Institute (LPI) is the global certification standard and career support organization for open source professionals. With more than 200,000 certification holders, it&#39;s the world’s first and largest vendor-neutral Linux and open source certification body. LPI has certified professionals in over 180 countries, delivers exams in multiple languages, and has hundreds of training partners.</p>
      <p>Our purpose is to enable economic and creative opportunities for everybody by making open source knowledge and skills certification universally accessible.</p>
    </div>

    <div class="column">
      <ul class="footer__social social">
        <li class="social__item -linkedin">
          <a class="social__link" href="https://www.linkedin.com/company/35136" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 42.3 36" enable-background="new 0 0 42.3 36" xml:space="preserve">
<g>
	<g>
		<g>
			<path fill="#010202" d="M33.3,0H2.7C1.2,0,0,1.2,0,2.6v30.8C0,34.8,1.2,36,2.7,36h30.7c1.5,0,2.7-1.2,2.7-2.6V2.6
				C36,1.2,34.8,0,33.3,0z M10.7,30.7H5.3V13.5h5.3V30.7z M8,11.1c-1.7,0-3.1-1.4-3.1-3.1C4.9,6.3,6.3,5,8,5c1.7,0,3.1,1.4,3.1,3.1
				C11.1,9.8,9.7,11.1,8,11.1z M30.7,30.7h-5.3v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.4v8.5H14V13.5h5.1v2.3h0.1
				c0.7-1.4,2.5-2.8,5.1-2.8c5.4,0,6.4,3.6,6.4,8.2V30.7z"/>
		</g>
	</g>
	<g>
		<polygon fill="#010202" points="37.5,28.5 38.2,28.5 38.2,30.7 38.6,30.7 38.6,28.5 39.3,28.5 39.3,28.1 37.5,28.1 		"/>
		<polygon fill="#010202" points="41.7,28.1 41,30 40.3,28.1 39.7,28.1 39.7,30.7 40.1,30.7 40.1,28.8 40.9,30.7 41.1,30.7
			41.9,28.8 41.9,30.7 42.3,30.7 42.3,28.1 		"/>
	</g>
</g>
</svg>

            <span class="social__link__text">LinkedIn</span>
          </a>
        </li>
        <li class="social__item -facebook">
          <a class="social__link" href="https://www.facebook.com/LPIConnect" target="_blank" rel="noreferrer">
            <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<title>flogo-RGB-HEX-Blk-58</title>
<path d="M34,0H2C0.9,0,0,0.9,0,2v32c0,1.1,0.9,2,2,2h17.3V22.1h-4.7v-5.4h4.7v-4c0-4.6,2.8-7.2,7-7.2c0,0,0,0,0,0c0,0,0,0,0,0
	c0.4,0,0.9,0,1.3,0c0.3,0,0.5,0,0.8,0c0.7,0,1.4,0.1,2.1,0.2v4.9v0h-2.9c-0.3,0-0.5,0-0.8,0c-1.6,0.2-1.9,1.2-1.9,2.6v3.5h5.4
	l-0.7,5.4h0l0,0h-4.7V36H34c1.1,0,2-0.9,2-2V2C36,0.9,35.1,0,34,0z"/>
</svg>

            <span class="social__link__text">Facebook</span>
          </a>
        </li>
        <li class="social__item -twitter">
          <a class="social__link" href="https://twitter.com/lpiconnect" target="_blank" rel="noreferrer">
            <svg version="1.1" id="Logo_FIXED" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve">
<path d="M11.3,32.6c13.6,0,21-11.3,21-21c0-0.3,0-0.6,0-1c1.4-1,2.7-2.3,3.7-3.8c-1.3,0.6-2.8,1-4.2,1.2c1.5-0.9,2.7-2.4,3.2-4.1
	c-1.4,0.9-3,1.5-4.7,1.8c-2.8-3-7.5-3.1-10.5-0.3c-1.9,1.8-2.7,4.5-2.1,7.1C11.8,12.1,6.3,9.3,2.5,4.7c-2,3.4-1,7.7,2.3,9.9
	c-1.2,0-2.3-0.4-3.4-0.9c0,0,0,0.1,0,0.1c0,3.5,2.5,6.5,5.9,7.2c-1.1,0.3-2.2,0.3-3.3,0.1c1,3,3.7,5.1,6.9,5.1
	c-2.6,2.1-5.8,3.2-9.2,3.2c-0.6,0-1.2,0-1.8-0.1C3.4,31.5,7.3,32.6,11.3,32.6"/>
</svg>

            <span class="social__link__text">Twitter</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container footer__secondary">
    <ul class="footer__links">
      <li><a href="https://www.lpi.org/about-lpi/contact-us" class="footer__link" target="_blank" rel="noreferrer">Contact Us</a></li>
      <li><a href="https://www.lpi.org/privacy-and-cookie-policy" class="footer__link" target="_blank" rel="noreferrer">Privacy and Cookie Policy</a></li>
    </ul>

    <p><strong>Spot a mistake or want to help improve this page? Please <a href="https://www.lpi.org/about-lpi/contact-us" target="_blank" rel="noreferrer">let us know</a>.</strong></p>
    <p>© Copyright 1999-2020 The Linux Professional Institute Inc. All rights reserved.</p>
  </div>
</footer>


  
  
  

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js" type="application/javascript"></script>
  <script src="../../../../../../js/bundle.js"></script>
</body>
</html>
